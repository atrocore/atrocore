(function(g,h){typeof exports=="object"&&typeof module<"u"?h(exports):typeof define=="function"&&define.amd?define(["exports"],h):(g=typeof globalThis<"u"?globalThis:g||self,h(g.Svelte={}))})(this,function(g){"use strict";var Me=Object.defineProperty;var qe=(g,h,v)=>h in g?Me(g,h,{enumerable:!0,configurable:!0,writable:!0,value:v}):g[h]=v;var Z=(g,h,v)=>qe(g,typeof h!="symbol"?h+"":h,v);function h(){}function v(e){return e()}function x(){return Object.create(null)}function M(e){e.forEach(v)}function z(e){return typeof e=="function"}function ee(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function pe(e){return Object.keys(e).length===0}function f(e,t){e.appendChild(t)}function q(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function k(){return b(" ")}function me(){return b("")}function te(e,t,n,a){return e.addEventListener(t,n,a),()=>e.removeEventListener(t,n,a)}function u(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ve(e){return Array.from(e.childNodes)}function E(e,t){t=""+t,e.data!==t&&(e.data=t)}let F;function Q(e){F=e}const O=[],ne=[];let P=[];const ae=[],be=Promise.resolve();let U=!1;function we(){U||(U=!0,be.then(ie))}function G(e){P.push(e)}const J=new Set;let S=0;function ie(){if(S!==0)return;const e=F;do{try{for(;S<O.length;){const t=O[S];S++,Q(t),ye(t.$$)}}catch(t){throw O.length=0,S=0,t}for(Q(null),O.length=0,S=0;ne.length;)ne.pop()();for(let t=0;t<P.length;t+=1){const n=P[t];J.has(n)||(J.add(n),n())}P.length=0}while(O.length);for(;ae.length;)ae.pop()();U=!1,J.clear(),Q(e)}function ye(e){if(e.fragment!==null){e.update(),M(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(G)}}function Le(e){const t=[],n=[];P.forEach(a=>e.indexOf(a)===-1?t.push(a):n.push(a)),n.forEach(a=>a()),P=t}const T=new Set;let $e;function le(e,t){e&&e.i&&(T.delete(e),e.i(t))}function ke(e,t,n,a){if(e&&e.o){if(T.has(e))return;T.add(e),$e.c.push(()=>{T.delete(e)}),e.o(t)}}function Oe(e){e&&e.c()}function se(e,t,n){const{fragment:a,after_update:i}=e.$$;a&&a.m(t,n),G(()=>{const o=e.$$.on_mount.map(v).filter(z);e.$$.on_destroy?e.$$.on_destroy.push(...o):M(o),e.$$.on_mount=[]}),i.forEach(G)}function re(e,t){const n=e.$$;n.fragment!==null&&(Le(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Pe(e,t){e.$$.dirty[0]===-1&&(O.push(e),we(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ue(e,t,n,a,i,o,c=null,d=[-1]){const s=F;Q(e);const l=e.$$={fragment:null,ctx:[],props:o,update:h,not_equal:i,bound:x(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(s?s.$$.context:[])),callbacks:x(),dirty:d,skip_bound:!1,root:t.target||s.$$.root};c&&c(l.root);let r=!1;if(l.ctx=n?n(e,t.props||{},(_,w,...I)=>{const y=I.length?I[0]:w;return l.ctx&&i(l.ctx[_],l.ctx[_]=y)&&(!l.skip_bound&&l.bound[_]&&l.bound[_](y),r&&Pe(e,_)),w}):[],l.update(),r=!0,M(l.before_update),l.fragment=a?a(l.ctx):!1,t.target){if(t.hydrate){const _=ve(t.target);l.fragment&&l.fragment.l(_),_.forEach(N)}else l.fragment&&l.fragment.c();t.intro&&le(e.$$.fragment),se(e,t.target,t.anchor),ie()}Q(s)}class fe{constructor(){Z(this,"$$");Z(this,"$$set")}$destroy(){re(this,1),this.$destroy=h}$on(t,n){if(!z(n))return h;const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(n),()=>{const i=a.indexOf(n);i!==-1&&a.splice(i,1)}}$set(t){this.$$set&&!pe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Se="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Se);function oe(e){let t,n,a,i,o=e[2].translate("queueManager","labels","QueueItem")+"",c,d,s,l,r,_,w=e[2].translate("Start")+"",I,y,de,L,C=e[2].translate("Pause")+"",K,j,_e,$,A=e[2].translate("View List")+"",W,D,he,B,H,R=e[2].translate("Loading...")+"",X,Y,ge;return{c(){t=p("div"),n=p("div"),a=p("div"),i=p("span"),c=b(o),d=k(),s=p("span"),l=p("a"),l.innerHTML='<span aria-hidden="true">Ã—</span>',r=k(),_=p("a"),I=b(w),de=k(),L=p("a"),K=b(C),_e=k(),$=p("a"),W=b(A),he=k(),B=p("div"),H=p("div"),X=b(R),u(i,"class","panel-heading-title"),u(l,"href","/"),u(l,"class","close"),u(_,"href","/"),u(_,"title",y=e[2].translate("Start")),u(_,"class","qm-button"),u(L,"href","/"),u(L,"title",j=e[2].translate("Pause")),u(L,"class","qm-button"),u($,"href","#QueueItem"),u($,"title",D=e[2].translate("View List")),u($,"class","qp-view-list svelte-1imu1w8"),u(s,"class","pull-right"),u(a,"class","panel-heading clearfix"),u(H,"class","list-container"),u(B,"class","panel-body"),u(n,"class","panel panel-default"),u(t,"class","queue-panel-container")},m(V,m){q(V,t,m),f(t,n),f(n,a),f(a,i),f(i,c),f(a,d),f(a,s),f(s,l),f(s,r),f(s,_),f(_,I),f(s,de),f(s,L),f(L,K),f(s,_e),f(s,$),f($,W),f(n,he),f(n,B),f(B,H),f(H,X),Y||(ge=te(l,"click",function(){z(e[1])&&e[1].apply(this,arguments)}),Y=!0)},p(V,m){e=V,m&4&&o!==(o=e[2].translate("queueManager","labels","QueueItem")+"")&&E(c,o),m&4&&w!==(w=e[2].translate("Start")+"")&&E(I,w),m&4&&y!==(y=e[2].translate("Start"))&&u(_,"title",y),m&4&&C!==(C=e[2].translate("Pause")+"")&&E(K,C),m&4&&j!==(j=e[2].translate("Pause"))&&u(L,"title",j),m&4&&A!==(A=e[2].translate("View List")+"")&&E(W,A),m&4&&D!==(D=e[2].translate("View List"))&&u($,"title",D),m&4&&R!==(R=e[2].translate("Loading...")+"")&&E(X,R)},d(V){V&&N(t),Y=!1,ge()}}}function Ie(e){let t,n=e[0]&&oe(e);return{c(){n&&n.c(),t=me()},m(a,i){n&&n.m(a,i),q(a,t,i)},p(a,[i]){a[0]?n?n.p(a,i):(n=oe(a),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:h,o:h,d(a){a&&N(t),n&&n.d(a)}}}function Ne(e,t,n){let{isOpen:a=!1}=t,{close:i}=t,{Language:o}=t;return e.$$set=c=>{"isOpen"in c&&n(0,a=c.isOpen),"close"in c&&n(1,i=c.close),"Language"in c&&n(2,o=c.Language)},[a,i,o]}class ce extends fe{constructor(t){super(),ue(this,t,Ne,Ie,ee,{isOpen:0,close:1,Language:2})}}function Ee(e){let t,n,a,i,o,c;return a=new ce({props:{isOpen:e[1],close:e[3],Language:e[0]}}),{c(){t=p("a"),t.innerHTML='<span class="fas fa-tasks"></span> <span class="fas fa-pause-circle pause-icon hidden"></span>',n=k(),Oe(a.$$.fragment),u(t,"href","/"),u(t,"class","notifications-button")},m(d,s){q(d,t,s),q(d,n,s),se(a,d,s),i=!0,o||(c=te(t,"click",e[2]),o=!0)},p(d,[s]){const l={};s&2&&(l.isOpen=d[1]),s&1&&(l.Language=d[0]),a.$set(l)},i(d){i||(le(a.$$.fragment,d),i=!0)},o(d){ke(a.$$.fragment,d),i=!1},d(d){d&&(N(t),N(n)),re(a,d),o=!1,c()}}}function Qe(e,t,n){let{Language:a}=t,{NavbarView:i}=t,o,c=!1;function d(r){r.preventDefault(),n(1,c=!0),l()}function s(r){r.preventDefault(),n(1,c=!1),o&&window.clearInterval(o)}function l(){i.getCollectionFactory().create("QueueItem",r=>{r.maxSize=20,r.url="QueueItem",r.sortBy="sortOrder",r.asc=!0,r.where=[{field:"status",type:"in",value:["Running","Pending"]}],i.listenToOnce(r,"sync",()=>{i.createView("list","views/record/list",{el:i.options.el+" .list-container",collection:r,rowActionsDisabled:!0,checkboxes:!1,headerDisabled:!0,layoutName:"listInQueueManager"},_=>{_.render(),o=window.setInterval(()=>{r.fetch()},2e3)})}),r.fetch()})}return e.$$set=r=>{"Language"in r&&n(0,a=r.Language),"NavbarView"in r&&n(4,i=r.NavbarView)},[a,c,d,s,i]}class Ve extends fe{constructor(t){super(),ue(this,t,Qe,Ee,ee,{Language:0,NavbarView:4})}}g.QueueManagerIcon=Ve,g.QueuePanelContainer=ce,Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});
