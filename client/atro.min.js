(function(he,me){typeof exports=="object"&&typeof module<"u"?me(exports):typeof define=="function"&&define.amd?define(["exports"],me):(he=typeof globalThis<"u"?globalThis:he||self,me(he.Svelte={}))})(this,function(he){"use strict";var mr=Object.defineProperty;var gr=(he,me,Ke)=>me in he?mr(he,me,{enumerable:!0,configurable:!0,writable:!0,value:Ke}):he[me]=Ke;var Bn=(he,me,Ke)=>gr(he,typeof me!="symbol"?me+"":me,Ke);let me={};function Ke(t={}){me={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...t}}function I(t){return t?me[t]:me}function Nt(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function Rn(t){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return t.flatMap(n=>{const i=n.matches(e),o=Array.from(n.querySelectorAll(e));return[...i?[n]:[],...o]}).filter(n=>getComputedStyle(n).pointerEvents!=="none"&&mo(n))}function Hn(t){if(!t||ho(t))return;const e=I("smoothScroll");t.scrollIntoView({behavior:!e||po(t)?"auto":"smooth",inline:"center",block:"center"})}function po(t){if(!t||!t.parentElement)return;const e=t.parentElement;return e.scrollHeight>e.clientHeight}function ho(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function mo(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}let xt={};function ue(t,e){xt[t]=e}function O(t){return t?xt[t]:xt}function Wn(){xt={}}let Bt={};function Rt(t,e){Bt[t]=e}function it(t){var e;(e=Bt[t])==null||e.call(Bt)}function go(){Bt={}}function vo(t,e,n,i){let o=O("__activeStagePosition");const l=o||n.getBoundingClientRect(),r=i.getBoundingClientRect(),u=Nt(t,l.x,r.x-l.x,e),a=Nt(t,l.y,r.y-l.y,e),s=Nt(t,l.width,r.width-l.width,e),c=Nt(t,l.height,r.height-l.height,e);o={x:u,y:a,width:s,height:c},zn(o),ue("__activeStagePosition",o)}function qn(t){if(!t)return;const e=t.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height};ue("__activeStagePosition",n),zn(n)}function bo(){const t=O("__activeStagePosition"),e=O("__overlaySvg");if(!t)return;if(!e){console.warn("No stage svg found.");return}const n=window.innerWidth,i=window.innerHeight;e.setAttribute("viewBox",`0 0 ${n} ${i}`)}function _o(t){const e=yo(t);document.body.appendChild(e),Gn(e,n=>{n.target.tagName==="path"&&it("overlayClick")}),ue("__overlaySvg",e)}function zn(t){const e=O("__overlaySvg");if(!e){_o(t);return}const n=e.firstElementChild;if((n==null?void 0:n.tagName)!=="path")throw new Error("no path element found in stage svg");n.setAttribute("d",Yn(t))}function yo(t){const e=window.innerWidth,n=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const o=document.createElementNS("http://www.w3.org/2000/svg","path");return o.setAttribute("d",Yn(t)),o.style.fill=I("overlayColor")||"rgb(0,0,0)",o.style.opacity=`${I("overlayOpacity")}`,o.style.pointerEvents="auto",o.style.cursor="auto",i.appendChild(o),i}function Yn(t){const e=window.innerWidth,n=window.innerHeight,i=I("stagePadding")||0,o=I("stageRadius")||0,l=t.width+i*2,r=t.height+i*2,u=Math.min(o,l/2,r/2),a=Math.floor(Math.max(u,0)),s=t.x-i+a,c=t.y-i,d=l-a*2,f=r-a*2;return`M${e},0L0,0L0,${n}L${e},${n}L${e},0Z
    M${s},${c} h${d} a${a},${a} 0 0 1 ${a},${a} v${f} a${a},${a} 0 0 1 -${a},${a} h-${d} a${a},${a} 0 0 1 -${a},-${a} v-${f} a${a},${a} 0 0 1 ${a},-${a} z`}function wo(){const t=O("__overlaySvg");t&&t.remove()}function Eo(){const t=document.getElementById("driver-dummy-element");if(t)return t;let e=document.createElement("div");return e.id="driver-dummy-element",e.style.width="0",e.style.height="0",e.style.pointerEvents="none",e.style.opacity="0",e.style.position="fixed",e.style.top="50%",e.style.left="50%",document.body.appendChild(e),e}function Xn(t){const{element:e}=t;let n=typeof e=="string"?document.querySelector(e):e;n||(n=Eo()),Do(n,t)}function So(){const t=O("__activeElement"),e=O("__activeStep");t&&(qn(t),bo(),Qn(t,e))}function Do(t,e){const n=Date.now(),i=O("__activeStep"),o=O("__activeElement")||t,l=!o||o===t,r=t.id==="driver-dummy-element",u=o.id==="driver-dummy-element",a=I("animate"),s=e.onHighlightStarted||I("onHighlightStarted"),c=(e==null?void 0:e.onHighlighted)||I("onHighlighted"),d=(i==null?void 0:i.onDeselected)||I("onDeselected"),f=I(),p=O();!l&&d&&d(u?void 0:o,i,{config:f,state:p}),s&&s(r?void 0:t,e,{config:f,state:p});const h=!l&&a;let v=!1;Lo(),ue("previousStep",i),ue("previousElement",o),ue("activeStep",e),ue("activeElement",t);const g=()=>{if(O("__transitionCallback")!==g)return;const b=Date.now()-n,C=400-b<=400/2;e.popover&&C&&!v&&h&&(Un(t,e),v=!0),I("animate")&&b<400?vo(b,400,o,t):(qn(t),c&&c(r?void 0:t,e,{config:I(),state:O()}),ue("__transitionCallback",void 0),ue("__previousStep",i),ue("__previousElement",o),ue("__activeStep",e),ue("__activeElement",t)),window.requestAnimationFrame(g)};ue("__transitionCallback",g),window.requestAnimationFrame(g),Hn(t),!h&&e.popover&&Un(t,e),o.classList.remove("driver-active-element","driver-no-interaction"),o.removeAttribute("aria-haspopup"),o.removeAttribute("aria-expanded"),o.removeAttribute("aria-controls"),I("disableActiveInteraction")&&t.classList.add("driver-no-interaction"),t.classList.add("driver-active-element"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-controls","driver-popover-content")}function ko(){var t;(t=document.getElementById("driver-dummy-element"))==null||t.remove(),document.querySelectorAll(".driver-active-element").forEach(e=>{e.classList.remove("driver-active-element","driver-no-interaction"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-controls")})}function yt(){const t=O("__resizeTimeout");t&&window.cancelAnimationFrame(t),ue("__resizeTimeout",window.requestAnimationFrame(So))}function Co(t){var e;if(!O("isInitialized")||!(t.key==="Tab"||t.keyCode===9))return;const n=O("__activeElement"),i=(e=O("popover"))==null?void 0:e.wrapper,o=Rn([...i?[i]:[],...n?[n]:[]]),l=o[0],r=o[o.length-1];if(t.preventDefault(),t.shiftKey){const u=o[o.indexOf(document.activeElement)-1]||r;u==null||u.focus()}else{const u=o[o.indexOf(document.activeElement)+1]||l;u==null||u.focus()}}function jn(t){var e;((e=I("allowKeyboardControl"))==null||e)&&(t.key==="Escape"?it("escapePress"):t.key==="ArrowRight"?it("arrowRightPress"):t.key==="ArrowLeft"&&it("arrowLeftPress"))}function Gn(t,e,n){const i=(o,l)=>{const r=o.target;t.contains(r)&&((!n||n(r))&&(o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation()),l==null||l(o))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",o=>{i(o,e)},!0)}function Po(){window.addEventListener("keyup",jn,!1),window.addEventListener("keydown",Co,!1),window.addEventListener("resize",yt),window.addEventListener("scroll",yt)}function To(){window.removeEventListener("keyup",jn),window.removeEventListener("resize",yt),window.removeEventListener("scroll",yt)}function Lo(){const t=O("popover");t&&(t.wrapper.style.display="none")}function Un(t,e){var n,i;let o=O("popover");o&&document.body.removeChild(o.wrapper),o=Io(),document.body.appendChild(o.wrapper);const{title:l,description:r,showButtons:u,disableButtons:a,showProgress:s,nextBtnText:c=I("nextBtnText")||"Next &rarr;",prevBtnText:d=I("prevBtnText")||"&larr; Previous",progressText:f=I("progressText")||"{current} of {total}"}=e.popover||{};o.nextButton.innerHTML=c,o.previousButton.innerHTML=d,o.progress.innerHTML=f,l?(o.title.innerHTML=l,o.title.style.display="block"):o.title.style.display="none",r?(o.description.innerHTML=r,o.description.style.display="block"):o.description.style.display="none";const p=u||I("showButtons"),h=s||I("showProgress")||!1,v=(p==null?void 0:p.includes("next"))||(p==null?void 0:p.includes("previous"))||h;o.closeButton.style.display=p.includes("close")?"block":"none",v?(o.footer.style.display="flex",o.progress.style.display=h?"block":"none",o.nextButton.style.display=p.includes("next")?"block":"none",o.previousButton.style.display=p.includes("previous")?"block":"none"):o.footer.style.display="none";const g=a||I("disableButtons")||[];g!=null&&g.includes("next")&&(o.nextButton.disabled=!0,o.nextButton.classList.add("driver-popover-btn-disabled")),g!=null&&g.includes("previous")&&(o.previousButton.disabled=!0,o.previousButton.classList.add("driver-popover-btn-disabled")),g!=null&&g.includes("close")&&(o.closeButton.disabled=!0,o.closeButton.classList.add("driver-popover-btn-disabled"));const b=o.wrapper;b.style.display="block",b.style.left="",b.style.top="",b.style.bottom="",b.style.right="",b.id="driver-popover-content",b.setAttribute("role","dialog"),b.setAttribute("aria-labelledby","driver-popover-title"),b.setAttribute("aria-describedby","driver-popover-description");const C=o.arrow;C.className="driver-popover-arrow";const w=((n=e.popover)==null?void 0:n.popoverClass)||I("popoverClass")||"";b.className=`driver-popover ${w}`.trim(),Gn(o.wrapper,D=>{var R,T,Z;const Q=D.target,z=((R=e.popover)==null?void 0:R.onNextClick)||I("onNextClick"),G=((T=e.popover)==null?void 0:T.onPrevClick)||I("onPrevClick"),V=((Z=e.popover)==null?void 0:Z.onCloseClick)||I("onCloseClick");if(Q.classList.contains("driver-popover-next-btn"))return z?z(t,e,{config:I(),state:O()}):it("nextClick");if(Q.classList.contains("driver-popover-prev-btn"))return G?G(t,e,{config:I(),state:O()}):it("prevClick");if(Q.classList.contains("driver-popover-close-btn"))return V?V(t,e,{config:I(),state:O()}):it("closeClick")},D=>!(o!=null&&o.description.contains(D))&&!(o!=null&&o.title.contains(D))&&typeof D.className=="string"&&D.className.includes("driver-popover")),ue("popover",o);const y=((i=e.popover)==null?void 0:i.onPopoverRender)||I("onPopoverRender");y&&y(o,{config:I(),state:O()}),Qn(t,e),Hn(b);const E=t.classList.contains("driver-dummy-element"),k=Rn([b,...E?[]:[t]]);k.length>0&&k[0].focus()}function Vn(){const t=O("popover");if(!(t!=null&&t.wrapper))return;const e=t.wrapper.getBoundingClientRect(),n=I("stagePadding")||0,i=I("popoverOffset")||0;return{width:e.width+n+i,height:e.height+n+i,realWidth:e.width,realHeight:e.height}}function Jn(t,e){const{elementDimensions:n,popoverDimensions:i,popoverPadding:o,popoverArrowDimensions:l}=e;return t==="start"?Math.max(Math.min(n.top-o,window.innerHeight-i.realHeight-l.width),l.width):t==="end"?Math.max(Math.min(n.top-(i==null?void 0:i.realHeight)+n.height+o,window.innerHeight-(i==null?void 0:i.realHeight)-l.width),l.width):t==="center"?Math.max(Math.min(n.top+n.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-l.width),l.width):0}function Kn(t,e){const{elementDimensions:n,popoverDimensions:i,popoverPadding:o,popoverArrowDimensions:l}=e;return t==="start"?Math.max(Math.min(n.left-o,window.innerWidth-i.realWidth-l.width),l.width):t==="end"?Math.max(Math.min(n.left-(i==null?void 0:i.realWidth)+n.width+o,window.innerWidth-(i==null?void 0:i.realWidth)-l.width),l.width):t==="center"?Math.max(Math.min(n.left+n.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-l.width),l.width):0}function Qn(t,e){const n=O("popover");if(!n)return;const{align:i="start",side:o="left"}=(e==null?void 0:e.popover)||{},l=i,r=t.id==="driver-dummy-element"?"over":o,u=I("stagePadding")||0,a=Vn(),s=n.arrow.getBoundingClientRect(),c=t.getBoundingClientRect(),d=c.top-a.height;let f=d>=0;const p=window.innerHeight-(c.bottom+a.height);let h=p>=0;const v=c.left-a.width;let g=v>=0;const b=window.innerWidth-(c.right+a.width);let C=b>=0;const w=!f&&!h&&!g&&!C;let y=r;if(r==="top"&&f?C=g=h=!1:r==="bottom"&&h?C=g=f=!1:r==="left"&&g?C=f=h=!1:r==="right"&&C&&(g=f=h=!1),r==="over"){const E=window.innerWidth/2-a.realWidth/2,k=window.innerHeight/2-a.realHeight/2;n.wrapper.style.left=`${E}px`,n.wrapper.style.right="auto",n.wrapper.style.top=`${k}px`,n.wrapper.style.bottom="auto"}else if(w){const E=window.innerWidth/2-(a==null?void 0:a.realWidth)/2,k=10;n.wrapper.style.left=`${E}px`,n.wrapper.style.right="auto",n.wrapper.style.bottom=`${k}px`,n.wrapper.style.top="auto"}else if(g){const E=Math.min(v,window.innerWidth-(a==null?void 0:a.realWidth)-s.width),k=Jn(l,{elementDimensions:c,popoverDimensions:a,popoverPadding:u,popoverArrowDimensions:s});n.wrapper.style.left=`${E}px`,n.wrapper.style.top=`${k}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",y="left"}else if(C){const E=Math.min(b,window.innerWidth-(a==null?void 0:a.realWidth)-s.width),k=Jn(l,{elementDimensions:c,popoverDimensions:a,popoverPadding:u,popoverArrowDimensions:s});n.wrapper.style.right=`${E}px`,n.wrapper.style.top=`${k}px`,n.wrapper.style.bottom="auto",n.wrapper.style.left="auto",y="right"}else if(f){const E=Math.min(d,window.innerHeight-a.realHeight-s.width);let k=Kn(l,{elementDimensions:c,popoverDimensions:a,popoverPadding:u,popoverArrowDimensions:s});n.wrapper.style.top=`${E}px`,n.wrapper.style.left=`${k}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",y="top"}else if(h){const E=Math.min(p,window.innerHeight-(a==null?void 0:a.realHeight)-s.width);let k=Kn(l,{elementDimensions:c,popoverDimensions:a,popoverPadding:u,popoverArrowDimensions:s});n.wrapper.style.left=`${k}px`,n.wrapper.style.bottom=`${E}px`,n.wrapper.style.top="auto",n.wrapper.style.right="auto",y="bottom"}w?n.arrow.classList.add("driver-popover-arrow-none"):Ao(l,y,t)}function Ao(t,e,n){const i=O("popover");if(!i)return;const o=n.getBoundingClientRect(),l=Vn(),r=i.arrow,u=l.width,a=window.innerWidth,s=o.width,c=o.left,d=l.height,f=window.innerHeight,p=o.top,h=o.height;r.className="driver-popover-arrow";let v=e,g=t;e==="top"?(c+s<=0?(v="right",g="end"):c+s-u<=0&&(v="top",g="start"),c>=a?(v="left",g="end"):c+u>=a&&(v="top",g="end")):e==="bottom"?(c+s<=0?(v="right",g="start"):c+s-u<=0&&(v="bottom",g="start"),c>=a?(v="left",g="start"):c+u>=a&&(v="bottom",g="end")):e==="left"?(p+h<=0?(v="bottom",g="end"):p+h-d<=0&&(v="left",g="start"),p>=f?(v="top",g="end"):p+d>=f&&(v="left",g="end")):e==="right"&&(p+h<=0?(v="bottom",g="start"):p+h-d<=0&&(v="right",g="start"),p>=f?(v="top",g="start"):p+d>=f&&(v="right",g="end")),v?(r.classList.add(`driver-popover-arrow-side-${v}`),r.classList.add(`driver-popover-arrow-align-${g}`)):r.classList.add("driver-popover-arrow-none")}function Io(){const t=document.createElement("div");t.classList.add("driver-popover");const e=document.createElement("div");e.classList.add("driver-popover-arrow");const n=document.createElement("header");n.id="driver-popover-title",n.classList.add("driver-popover-title"),n.style.display="none",n.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const o=document.createElement("button");o.type="button",o.classList.add("driver-popover-close-btn"),o.setAttribute("aria-label","Close"),o.innerHTML="&times;";const l=document.createElement("footer");l.classList.add("driver-popover-footer");const r=document.createElement("span");r.classList.add("driver-popover-progress-text"),r.innerText="";const u=document.createElement("span");u.classList.add("driver-popover-navigation-btns");const a=document.createElement("button");a.type="button",a.classList.add("driver-popover-prev-btn"),a.innerHTML="&larr; Previous";const s=document.createElement("button");return s.type="button",s.classList.add("driver-popover-next-btn"),s.innerHTML="Next &rarr;",u.appendChild(a),u.appendChild(s),l.appendChild(r),l.appendChild(u),t.appendChild(o),t.appendChild(e),t.appendChild(n),t.appendChild(i),t.appendChild(l),{wrapper:t,arrow:e,title:n,description:i,footer:l,previousButton:a,nextButton:s,closeButton:o,footerButtons:u,progress:r}}function Oo(){var t;const e=O("popover");e&&((t=e.wrapper.parentElement)==null||t.removeChild(e.wrapper))}function Mo(t={}){Ke(t);function e(){I("allowClose")&&s()}function n(){const c=O("activeIndex"),d=I("steps")||[];if(typeof c>"u")return;const f=c+1;d[f]?a(f):s()}function i(){const c=O("activeIndex"),d=I("steps")||[];if(typeof c>"u")return;const f=c-1;d[f]?a(f):s()}function o(c){(I("steps")||[])[c]?a(c):s()}function l(){var c;if(O("__transitionCallback"))return;const d=O("activeIndex"),f=O("__activeStep"),p=O("__activeElement");if(typeof d>"u"||typeof f>"u"||typeof O("activeIndex")>"u")return;const h=((c=f.popover)==null?void 0:c.onPrevClick)||I("onPrevClick");if(h)return h(p,f,{config:I(),state:O()});i()}function r(){var c;if(O("__transitionCallback"))return;const d=O("activeIndex"),f=O("__activeStep"),p=O("__activeElement");if(typeof d>"u"||typeof f>"u")return;const h=((c=f.popover)==null?void 0:c.onNextClick)||I("onNextClick");if(h)return h(p,f,{config:I(),state:O()});n()}function u(){O("isInitialized")||(ue("isInitialized",!0),document.body.classList.add("driver-active",I("animate")?"driver-fade":"driver-simple"),Po(),Rt("overlayClick",e),Rt("escapePress",e),Rt("arrowLeftPress",l),Rt("arrowRightPress",r))}function a(c=0){var d,f,p,h,v,g,b,C;const w=I("steps");if(!w){console.error("No steps to drive through"),s();return}if(!w[c]){s();return}ue("__activeOnDestroyed",document.activeElement),ue("activeIndex",c);const y=w[c],E=w[c+1],k=w[c-1],D=((d=y.popover)==null?void 0:d.doneBtnText)||I("doneBtnText")||"Done",R=I("allowClose"),T=typeof((f=y.popover)==null?void 0:f.showProgress)<"u"?(p=y.popover)==null?void 0:p.showProgress:I("showProgress"),Z=(((h=y.popover)==null?void 0:h.progressText)||I("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${c+1}`).replace("{{total}}",`${w.length}`),Q=((v=y.popover)==null?void 0:v.showButtons)||I("showButtons"),z=["next","previous",...R?["close"]:[]].filter(Y=>!(Q!=null&&Q.length)||Q.includes(Y)),G=((g=y.popover)==null?void 0:g.onNextClick)||I("onNextClick"),V=((b=y.popover)==null?void 0:b.onPrevClick)||I("onPrevClick"),M=((C=y.popover)==null?void 0:C.onCloseClick)||I("onCloseClick");Xn({...y,popover:{showButtons:z,nextBtnText:E?void 0:D,disableButtons:[...k?[]:["previous"]],showProgress:T,progressText:Z,onNextClick:G||(()=>{E?a(c+1):s()}),onPrevClick:V||(()=>{a(c-1)}),onCloseClick:M||(()=>{s()}),...(y==null?void 0:y.popover)||{}}})}function s(c=!0){const d=O("__activeElement"),f=O("__activeStep"),p=O("__activeOnDestroyed"),h=I("onDestroyStarted");if(c&&h){const b=!d||(d==null?void 0:d.id)==="driver-dummy-element";h(b?void 0:d,f,{config:I(),state:O()});return}const v=(f==null?void 0:f.onDeselected)||I("onDeselected"),g=I("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),To(),Oo(),ko(),wo(),go(),Wn(),d&&f){const b=d.id==="driver-dummy-element";v&&v(b?void 0:d,f,{config:I(),state:O()}),g&&g(b?void 0:d,f,{config:I(),state:O()})}p&&p.focus()}return{isActive:()=>O("isInitialized")||!1,refresh:yt,drive:(c=0)=>{u(),a(c)},setConfig:Ke,setSteps:c=>{Wn(),Ke({...I(),steps:c})},getConfig:I,getState:O,getActiveIndex:()=>O("activeIndex"),isFirstStep:()=>O("activeIndex")===0,isLastStep:()=>{const c=I("steps")||[],d=O("activeIndex");return d!==void 0&&d===c.length-1},getActiveStep:()=>O("activeStep"),getActiveElement:()=>O("activeElement"),getPreviousElement:()=>O("previousElement"),getPreviousStep:()=>O("previousStep"),moveNext:n,movePrevious:i,moveTo:o,hasNextStep:()=>{const c=I("steps")||[],d=O("activeIndex");return d!==void 0&&c[d+1]},hasPreviousStep:()=>{const c=I("steps")||[],d=O("activeIndex");return d!==void 0&&c[d-1]},highlight:c=>{u(),Xn({...c,popover:c.popover?{showButtons:[],showProgress:!1,progressText:"",...c.popover}:void 0})},destroy:()=>{s(!1)}}}function ge(){}function pn(t,e){for(const n in e)t[n]=e[n];return t}function Zn(t){return t()}function $n(){return Object.create(null)}function Me(t){t.forEach(Zn)}function hn(t){return typeof t=="function"}function we(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Ht;function ei(t,e){return t===e?!0:(Ht||(Ht=document.createElement("a")),Ht.href=e,t===Ht.href)}function Fo(t){return Object.keys(t).length===0}function No(t,e,n,i){if(t){const o=ti(t,e,n,i);return t[0](o)}}function ti(t,e,n,i){return t[1]&&i?pn(n.ctx.slice(),t[1](i(e))):n.ctx}function xo(t,e,n,i){if(t[2]&&i){const o=t[2](i(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const l=[],r=Math.max(e.dirty.length,o.length);for(let u=0;u<r;u+=1)l[u]=e.dirty[u]|o[u];return l}return e.dirty|o}return e.dirty}function Bo(t,e,n,i,o,l){if(o){const r=ti(e,n,i,l);t.p(r,o)}}function Ro(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function _(t,e){t.appendChild(e)}function U(t,e,n){t.insertBefore(e,n||null)}function j(t){t.parentNode&&t.parentNode.removeChild(t)}function Wt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function S(t){return document.createElement(t)}function se(t){return document.createTextNode(t)}function H(){return se(" ")}function ni(){return se("")}function te(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function Qe(t){return function(e){return e.preventDefault(),t.call(this,e)}}function mn(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const Ho=["width","height"];function qt(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&Ho.indexOf(i)===-1?t[i]=e[i]:m(t,i,e[i])}function Wo(t){return Array.from(t.childNodes)}function Re(t,e){e=""+e,t.data!==e&&(t.data=e)}function ii(t,e){t.value=e??""}function ve(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function oi(t,e,n){for(let i=0;i<t.options.length;i+=1){const o=t.options[i];if(o.__value===e){o.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function qo(t){const e=t.querySelector(":checked");return e&&e.__value}function zt(t,e,n){t.classList.toggle(e,!!n)}function zo(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}let wt;function Et(t){wt=t}function Yt(){if(!wt)throw new Error("Function called outside component initialization");return wt}function Xt(t){Yt().$$.on_mount.push(t)}function Yo(t){Yt().$$.after_update.push(t)}function li(t){Yt().$$.on_destroy.push(t)}function Xo(){const t=Yt();return(e,n,{cancelable:i=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=zo(e,n,{cancelable:i});return o.slice().forEach(r=>{r.call(t,l)}),!l.defaultPrevented}return!0}}const st=[],He=[];let ut=[];const ri=[],ai=Promise.resolve();let gn=!1;function si(){gn||(gn=!0,ai.then(ci))}function ui(){return si(),ai}function jt(t){ut.push(t)}const vn=new Set;let ct=0;function ci(){if(ct!==0)return;const t=wt;do{try{for(;ct<st.length;){const e=st[ct];ct++,Et(e),jo(e.$$)}}catch(e){throw st.length=0,ct=0,e}for(Et(null),st.length=0,ct=0;He.length;)He.pop()();for(let e=0;e<ut.length;e+=1){const n=ut[e];vn.has(n)||(vn.add(n),n())}ut.length=0}while(st.length);for(;ri.length;)ri.pop()();gn=!1,vn.clear(),Et(t)}function jo(t){if(t.fragment!==null){t.update(),Me(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(jt)}}function Go(t){const e=[],n=[];ut.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),ut=e}const Gt=new Set;let Uo;function Le(t,e){t&&t.i&&(Gt.delete(t),t.i(e))}function We(t,e,n,i){if(t&&t.o){if(Gt.has(t))return;Gt.add(t),Uo.c.push(()=>{Gt.delete(t)}),t.o(e)}}function fe(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ut(t,e){t.d(1),e.delete(t.key)}function Vt(t,e,n,i,o,l,r,u,a,s,c,d){let f=t.length,p=l.length,h=f;const v={};for(;h--;)v[t[h].key]=h;const g=[],b=new Map,C=new Map,w=[];for(h=p;h--;){const D=d(o,l,h),R=n(D);let T=r.get(R);T?w.push(()=>T.p(D,e)):(T=s(R,D),T.c()),b.set(R,g[h]=T),R in v&&C.set(R,Math.abs(h-v[R]))}const y=new Set,E=new Set;function k(D){Le(D,1),D.m(u,c),r.set(D.key,D),c=D.first,p--}for(;f&&p;){const D=g[p-1],R=t[f-1],T=D.key,Z=R.key;D===R?(c=D.first,f--,p--):b.has(Z)?!r.has(T)||y.has(T)?k(D):E.has(Z)?f--:C.get(T)>C.get(Z)?(E.add(T),k(D)):(y.add(Z),f--):(a(R,r),f--)}for(;f--;){const D=t[f];b.has(D.key)||a(D,r)}for(;p;)k(g[p-1]);return Me(w),g}function di(t,e){const n={},i={},o={$$scope:1};let l=t.length;for(;l--;){const r=t[l],u=e[l];if(u){for(const a in r)a in u||(i[a]=1);for(const a in u)o[a]||(n[a]=u[a],o[a]=1);t[l]=u}else for(const a in r)o[a]=1}for(const r in i)r in n||(n[r]=void 0);return n}function Ze(t){t&&t.c()}function qe(t,e,n){const{fragment:i,after_update:o}=t.$$;i&&i.m(e,n),jt(()=>{const l=t.$$.on_mount.map(Zn).filter(hn);t.$$.on_destroy?t.$$.on_destroy.push(...l):Me(l),t.$$.on_mount=[]}),o.forEach(jt)}function ze(t,e){const n=t.$$;n.fragment!==null&&(Go(n.after_update),Me(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Vo(t,e){t.$$.dirty[0]===-1&&(st.push(t),si(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ke(t,e,n,i,o,l,r=null,u=[-1]){const a=wt;Et(t);const s=t.$$={fragment:null,ctx:[],props:l,update:ge,not_equal:o,bound:$n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:$n(),dirty:u,skip_bound:!1,root:e.target||a.$$.root};r&&r(s.root);let c=!1;if(s.ctx=n?n(t,e.props||{},(d,f,...p)=>{const h=p.length?p[0]:f;return s.ctx&&o(s.ctx[d],s.ctx[d]=h)&&(!s.skip_bound&&s.bound[d]&&s.bound[d](h),c&&Vo(t,d)),f}):[],s.update(),c=!0,Me(s.before_update),s.fragment=i?i(s.ctx):!1,e.target){if(e.hydrate){const d=Wo(e.target);s.fragment&&s.fragment.l(d),d.forEach(j)}else s.fragment&&s.fragment.c();e.intro&&Le(t.$$.fragment),qe(t,e.target,e.anchor),ci()}Et(a)}class Ce{constructor(){Bn(this,"$$");Bn(this,"$$set")}$destroy(){ze(this,1),this.$destroy=ge}$on(e,n){if(!hn(n))return ge;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const o=i.indexOf(n);o!==-1&&i.splice(o,1)}}$set(e){this.$$set&&!Fo(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Jo="4",dt=[];function ft(t,e=ge){let n;const i=new Set;function o(u){if(we(t,u)&&(t=u,n)){const a=!dt.length;for(const s of i)s[1](),dt.push(s,t);if(a){for(let s=0;s<dt.length;s+=2)dt[s][0](dt[s+1]);dt.length=0}}}function l(u){o(u(t))}function r(u,a=ge){const s=[u,a];return i.add(s),i.size===1&&(n=e(o,l)||ge),u(t),()=>{i.delete(s),i.size===0&&n&&(n(),n=null)}}return{set:o,update:l,subscribe:r}}const bn=ft({}),F={setTranslations(t){bn.set(t)},has(t,e,n){let i=!1;return bn.subscribe(o=>{if(n in o&&e in o[n]&&t in o[n][e]){i=!0;return}})(),i},get(t,e,n){let i=n;return bn.subscribe(o=>{if(t in o&&e in o[t]&&n in o[t][e]){i=o[t][e][n];return}if(t in o&&e in o[t]&&n in o[t][e]){i=o[t][e][n];return}if(t=="Global"){i=n;return}i=null})(),i},translate(t,e=null,n=null){n=n||"Global",e=e||"labels";let i=F.get(n,e,t);return i===null&&n!="Global"&&(i=F.get("Global",e,t)),i},translateOption(t,e,n=null){let i=F.translate(e,"options",n);return i===null?"":typeof i=="object"?i[t]:t}},fi=ft({}),pi={set(t){fi.set(t)},get(){let t=null;return fi.subscribe(e=>{e&&(t=e)})(),t}},_n=ft(),Ye={setNotifier(t){_n.set(t)},notify(t,e=null,n=2e3){_n.subscribe(i=>{i&&i.notify(t,e,2e3)})()},confirm(t=null,e=null,n){_n.subscribe(i=>{if(i){let o=null,l=null,r=null;typeof t=="string"||t instanceof String?(l=t,r=F.translate("Yes")):(t=t||{},l=t.message,r=t.confirmText,o=t.confirmStyle||null),i.confirm(l,{confirmText:r,cancelText:F.translate("Cancel"),confirmStyle:o},e,n)}})()}},Jt=ft(),Xe={setLayoutManager(t){Jt.set(t)},resetToDefault(t,e,n,i){let o=null;return Jt.subscribe(l=>{l&&(o=l.resetToDefault(t,e,n,i))})(),o},get:function(t,e,n,i,o){let l=null;return Jt.subscribe(r=>{r&&(l=r.get(t,e,n,i,o))})(),l},set:function(t,e,n,i,o){let l=null;return Jt.subscribe(r=>{r&&(l=r.set(t,e,n,i,o))})(),l}},hi=ft(),Fe={setMetadata(t){hi.set(t)},get(t){let e=null;return hi.subscribe(n=>{n&&(e=n.get(t))})(),e}},mi=ft(),St={setModelFactory(t){mi.set(t)},create(t,e){mi.subscribe(n=>{n&&n.create(t,e)})()}};typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Jo);function gi(t){let e,n,i,o,l,r,u,a,s,c,d,f,p,h,v;function g(w,y){return w[2]?Qo:Ko}let b=g(t),C=b(t);return{c(){e=S("div"),n=S("div"),i=S("div"),o=S("span"),o.textContent=`${F.translate("jobManager")}`,l=H(),r=S("span"),u=S("a"),u.innerHTML='<span aria-hidden="true">×</span>',a=H(),C.c(),s=H(),c=S("a"),c.textContent=`${F.translate("View List")}`,d=H(),f=S("div"),p=S("div"),p.textContent=`${F.translate("Loading...")}`,m(o,"class","panel-heading-title"),m(u,"href","/"),m(u,"class","close svelte-1p6ppx8"),m(c,"href","#Job"),m(c,"title",F.translate("View List")),m(c,"class","qp-view-list svelte-1p6ppx8"),m(r,"class","pull-right"),m(i,"class","panel-heading clearfix"),m(p,"class","list-container"),m(f,"class","panel-body"),m(n,"class","panel panel-default"),m(e,"class","queue-panel-container")},m(w,y){U(w,e,y),_(e,n),_(n,i),_(i,o),_(i,l),_(i,r),_(r,u),_(r,a),C.m(r,null),_(r,s),_(r,c),_(n,d),_(n,f),_(f,p),t[9](e),h||(v=te(u,"click",t[6]),h=!0)},p(w,y){b===(b=g(w))&&C?C.p(w,y):(C.d(1),C=b(w),C&&(C.c(),C.m(r,s)))},d(w){w&&j(e),C.d(),t[9](null),h=!1,v()}}}function Ko(t){let e,n,i;return{c(){e=S("a"),e.textContent=`${F.translate("Pause")}`,m(e,"href","/"),m(e,"title",F.translate("Pause")),m(e,"class","qm-button")},m(o,l){U(o,e,l),n||(i=te(e,"click",t[8]),n=!0)},p:ge,d(o){o&&j(e),n=!1,i()}}}function Qo(t){let e,n,i;return{c(){e=S("a"),e.textContent=`${F.translate("Start")}`,m(e,"href","/"),m(e,"title",F.translate("Start")),m(e,"class","qm-button")},m(o,l){U(o,e,l),n||(i=te(e,"click",t[7]),n=!0)},p:ge,d(o){o&&j(e),n=!1,i()}}}function Zo(t){let e,n=t[0]&&gi(t);return{c(){n&&n.c(),e=ni()},m(i,o){n&&n.m(i,o),U(i,e,o)},p(i,[o]){i[0]?n?n.p(i,o):(n=gi(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:ge,o:ge,d(i){i&&j(e),n&&n.d(i)}}}function $o(t,e,n){let{isOpen:i=!1}=e,{close:o}=e,{icon:l}=e,r=!1;window.addEventListener("publicDataFetched",h=>{n(2,r=!!h.detail.qmPaused)});let u;function a(h){u&&!u.contains(h.target)&&l&&!l.contains(h.target)&&i===!0&&o()}Xt(()=>{document.addEventListener("click",a)}),li(()=>{document.removeEventListener("click",a)});async function s(h){let v=pi.get();if(v)try{const g=await fetch("/api/v1/App/action/QueueManagerUpdate",{method:"POST",headers:{"Content-Type":"application/json","Authorization-Token":btoa(v.user.userName+":"+v.token)},body:JSON.stringify({pause:h})});if(!g.ok)throw new Error("Network response was not ok");await g.json(),Ye.notify("Done","success")}catch(g){console.error("Error:",g)}}const c=h=>{h.preventDefault(),o()},d=h=>{h.preventDefault(),s(!1)},f=h=>{h.preventDefault(),s(!0)};function p(h){He[h?"unshift":"push"](()=>{u=h,n(3,u)})}return t.$$set=h=>{"isOpen"in h&&n(0,i=h.isOpen),"close"in h&&n(1,o=h.close),"icon"in h&&n(5,l=h.icon)},[i,o,r,u,s,l,c,d,f,p]}class el extends Ce{constructor(e){super(),ke(this,e,$o,Zo,we,{isOpen:0,close:1,icon:5})}}function vi(t){let e;return{c(){e=S("span"),m(e,"class","fas fa-pause-circle pause-icon")},m(n,i){U(n,e,i)},d(n){n&&j(e)}}}function tl(t){let e,n,i,o,l,r,u,a,s=t[2]&&vi();return l=new el({props:{icon:t[0],isOpen:t[1],close:t[4]}}),{c(){e=S("a"),n=S("span"),i=H(),s&&s.c(),o=H(),Ze(l.$$.fragment),m(n,"class","fas fa-tasks"),m(e,"href","/"),m(e,"class","notifications-button")},m(c,d){U(c,e,d),_(e,n),_(e,i),s&&s.m(e,null),t[6](e),U(c,o,d),qe(l,c,d),r=!0,u||(a=te(e,"click",t[7]),u=!0)},p(c,[d]){c[2]?s||(s=vi(),s.c(),s.m(e,null)):s&&(s.d(1),s=null);const f={};d&1&&(f.icon=c[0]),d&2&&(f.isOpen=c[1]),l.$set(f)},i(c){r||(Le(l.$$.fragment,c),r=!0)},o(c){We(l.$$.fragment,c),r=!1},d(c){c&&(j(e),j(o)),s&&s.d(),t[6](null),ze(l,c),u=!1,a()}}}function nl(t,e,n){let{renderTable:i=()=>{}}=e,o,l=!1,r=!1;window.addEventListener("publicDataFetched",d=>{n(2,r=!!d.detail.qmPaused)});function u(){l||(n(1,l=!0),i())}function a(){n(1,l=!1),window.dispatchEvent(new Event("jobManagerPanelClosed"))}function s(d){He[d?"unshift":"push"](()=>{o=d,n(0,o)})}const c=d=>{d.preventDefault(),u()};return t.$$set=d=>{"renderTable"in d&&n(5,i=d.renderTable)},[o,l,r,u,a,i,s,c]}class il extends Ce{constructor(e){super(),ke(this,e,nl,tl,we,{renderTable:5})}}function ol(t){let e,n=`${t[0]}px`,i=`${t[0]}px`,o=`${t[1]}px`;return{c(){e=S("div"),m(e,"class","loading-icon spinner svelte-yw8t7l"),ve(e,"width",n),ve(e,"height",i),ve(e,"border-width",o)},m(l,r){U(l,e,r)},p(l,[r]){r&1&&n!==(n=`${l[0]}px`)&&ve(e,"width",n),r&1&&i!==(i=`${l[0]}px`)&&ve(e,"height",i),r&2&&o!==(o=`${l[1]}px`)&&ve(e,"border-width",o)},i:ge,o:ge,d(l){l&&j(e)}}}function ll(t,e,n){let{size:i=40}=e,{thickness:o=4}=e;return t.$$set=l=>{"size"in l&&n(0,i=l.size),"thickness"in l&&n(1,o=l.thickness)},[i,o]}class rl extends Ce{constructor(e){super(),ke(this,e,ll,ol,we,{size:0,thickness:1})}}function bi(t){let e,n;return{c(){e=S("img"),ei(e.src,n=t[1])||m(e,"src",n),m(e,"class","logo"),m(e,"alt",t[0])},m(i,o){U(i,e,o)},p(i,o){o&2&&!ei(e.src,n=i[1])&&m(e,"src",n),o&1&&m(e,"alt",i[0])},d(i){i&&j(e)}}}function _i(t){let e,n,i;return{c(){e=S("a"),n=S("i"),i=se("Recovery Instructions"),m(n,"class","fa fa-history svelte-1qmezxs"),m(e,"href",t[2]),m(e,"target","_blank"),m(e,"class","btn btn-default svelte-1qmezxs"),m(e,"role","button"),ve(e,"float","right")},m(o,l){U(o,e,l),_(e,n),_(e,i)},p(o,l){l&4&&m(e,"href",o[2])},d(o){o&&j(e)}}}function yi(t){let e,n,i,o,l,r;return{c(){e=S("hr"),n=H(),i=S("pre"),o=se(t[3]),m(i,"class","logs-container svelte-1qmezxs")},m(u,a){U(u,e,a),U(u,n,a),U(u,i,a),_(i,o),t[11](i),l||(r=te(i,"scroll",t[8]),l=!0)},p(u,a){a&8&&Re(o,u[3])},d(u){u&&(j(e),j(n),j(i)),t[11](null),l=!1,r()}}}function al(t){let e,n,i,o,l,r,u,a,s,c,d,f,p,h,v,g,b,C,w=t[4]?"Hide":"Show",y,E,k,D,R,T,Z,Q,z=t[1]&&bi(t);c=new rl({props:{size:"40",thickness:"5"}});let G=t[2]&&_i(t),V=t[4]&&t[3]&&yi(t);return{c(){e=S("div"),n=S("div"),i=S("div"),z&&z.c(),o=H(),l=S("div"),r=S("div"),u=S("h3"),u.textContent="System is updating...",a=H(),s=S("section"),Ze(c.$$.fragment),d=H(),f=S("h5"),p=se(t[5]),h=H(),v=S("section"),g=S("div"),b=S("button"),C=S("i"),y=se(w),E=se(" logs"),D=H(),G&&G.c(),R=H(),V&&V.c(),m(i,"class","logo-container"),m(n,"class","panel-heading"),m(f,"class","svelte-1qmezxs"),m(s,"class","progress-section svelte-1qmezxs"),m(C,"class","fa fa-list svelte-1qmezxs"),m(b,"class","btn btn-default svelte-1qmezxs"),b.disabled=k=!t[3],m(g,"class","buttons"),m(v,"class","logs-section"),m(r,"class","form-group"),m(l,"class","panel-body"),m(e,"id","login"),m(e,"class","panel panel-default panel-updating")},m(M,Y){U(M,e,Y),_(e,n),_(n,i),z&&z.m(i,null),_(e,o),_(e,l),_(l,r),_(r,u),_(r,a),_(r,s),qe(c,s,null),_(s,d),_(s,f),_(f,p),_(r,h),_(r,v),_(v,g),_(g,b),_(b,C),_(b,y),_(b,E),_(g,D),G&&G.m(g,null),_(v,R),V&&V.m(v,null),T=!0,Z||(Q=te(b,"click",t[7]),Z=!0)},p(M,[Y]){M[1]?z?z.p(M,Y):(z=bi(M),z.c(),z.m(i,null)):z&&(z.d(1),z=null),(!T||Y&32)&&Re(p,M[5]),(!T||Y&16)&&w!==(w=M[4]?"Hide":"Show")&&Re(y,w),(!T||Y&8&&k!==(k=!M[3]))&&(b.disabled=k),M[2]?G?G.p(M,Y):(G=_i(M),G.c(),G.m(g,null)):G&&(G.d(1),G=null),M[4]&&M[3]?V?V.p(M,Y):(V=yi(M),V.c(),V.m(v,null)):V&&(V.d(1),V=null)},i(M){T||(Le(c.$$.fragment,M),T=!0)},o(M){We(c.$$.fragment,M),T=!1},d(M){M&&j(e),z&&z.d(),ze(c),G&&G.d(),V&&V.d(),Z=!1,Q()}}}function sl(t){return t.replace(/^\d{2,4}.\d{2}.\d{2,4} \d{2}:\d{2}:\d{2}/g,"").replace(/^[\-\|\s]+/,"")}function ul(t,e,n){let{applicationName:i="AtroCore"}=e,{logoPath:o=null}=e,{logFilePath:l}=e,{restoreLink:r=null}=e,u=!1,a=!1,s=0,c=!0,d="",f,p;Yo(()=>{p&&c&&p.scrollTo(0,p.scrollHeight)});function h(){n(4,u=!u),u||(c=!0)}function v(b){const C=b.currentTarget;c=C.scrollHeight-C.scrollTop===C.clientHeight}setInterval(async()=>{try{const b=await fetch(l,{cache:"no-store"});s+=1,b.ok?(n(3,d=(await b.text()).trim()),d.search("composer")>=0&&n(10,a=!0),s>65&&!a&&n(3,d="Something wrong. Please, reboot the server.")):a?setTimeout(()=>{location.reload()},2e3):s>65&&n(3,d="Something wrong. Please, reboot the server.")}catch(b){console.error("Error: ",b)}},1e3);function g(b){He[b?"unshift":"push"](()=>{p=b,n(6,p)})}return t.$$set=b=>{"applicationName"in b&&n(0,i=b.applicationName),"logoPath"in b&&n(1,o=b.logoPath),"logFilePath"in b&&n(9,l=b.logFilePath),"restoreLink"in b&&n(2,r=b.restoreLink)},t.$$.update=()=>{if(t.$$.dirty&1032)if(d){const b=d.trim().split(`
`);n(5,f=sl(b.pop()))}else a?n(5,f=""):n(5,f="Starting...")},[i,o,r,d,u,f,p,h,v,l,a,g]}class cl extends Ce{constructor(e){super(),ke(this,e,ul,al,we,{applicationName:0,logoPath:1,logFilePath:9,restoreLink:2})}}function wi(t,e,n){const i=t.slice();return i[17]=e[n],i}function Ei(t,e,n){const i=t.slice();return i[20]=e[n],i}function Si(t){let e,n=t[20].label+"",i,o,l,r,u,a;function s(){return t[12](t[20])}return{c(){e=S("button"),i=se(n),o=H(),m(e,"data-action",l=t[20].name),e.disabled=t[1],m(e,"type","button"),m(e,"class",r=`btn action btn-${t[20].style??"default"}`)},m(c,d){U(c,e,d),_(e,i),_(e,o),u||(a=te(e,"click",s),u=!0)},p(c,d){t=c,d&4&&n!==(n=t[20].label+"")&&Re(i,n),d&4&&l!==(l=t[20].name)&&m(e,"data-action",l),d&2&&(e.disabled=t[1]),d&4&&r!==(r=`btn action btn-${t[20].style??"default"}`)&&m(e,"class",r)},d(c){c&&j(e),u=!1,a()}}}function Di(t){let e,n,i,o,l,r,u,a=fe(t[3]),s=[];for(let c=0;c<a.length;c+=1)s[c]=ki(wi(t,a,c));return{c(){e=S("div"),n=S("label"),n.textContent=`${F.translate("layoutProfile","fields","Layout")}`,i=H(),o=S("select"),l=S("option"),l.textContent="Custom";for(let c=0;c<s.length;c+=1)s[c].c();m(n,"class","control-label"),l.__value="custom",ii(l,l.__value),o.disabled=t[1],m(o,"class","form-control"),ve(o,"width","150px"),ve(o,"display","inline-block"),t[0].layoutProfileId===void 0&&jt(()=>t[13].call(o))},m(c,d){U(c,e,d),_(e,n),_(e,i),_(e,o),_(o,l);for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(o,null);oi(o,t[0].layoutProfileId,!0),r||(u=[te(o,"change",t[13]),te(o,"change",t[4])],r=!0)},p(c,d){if(d&8){a=fe(c[3]);let f;for(f=0;f<a.length;f+=1){const p=wi(c,a,f);s[f]?s[f].p(p,d):(s[f]=ki(p),s[f].c(),s[f].m(o,null))}for(;f<s.length;f+=1)s[f].d(1);s.length=a.length}d&2&&(o.disabled=c[1]),d&9&&oi(o,c[0].layoutProfileId)},d(c){c&&j(e),Wt(s,c),r=!1,Me(u)}}}function ki(t){let e,n=t[17].name+"",i;return{c(){e=S("option"),i=se(n),e.__value=t[17].id,ii(e,e.__value)},m(o,l){U(o,e,l),_(e,i)},p:ge,d(o){o&&j(e)}}}function dl(t){let e,n,i,o,l,r=fe(t[2]),u=[];for(let d=0;d<r.length;d+=1)u[d]=Si(Ei(t,r,d));let a=t[0].allowSwitch&&Di(t);const s=t[11].default,c=No(s,t,t[10],null);return{c(){e=S("div"),n=S("div");for(let d=0;d<u.length;d+=1)u[d].c();i=H(),a&&a.c(),o=H(),c&&c.c(),m(n,"class","button-container"),ve(e,"display","flex"),ve(e,"justify-content","space-between"),ve(e,"align-items","center")},m(d,f){U(d,e,f),_(e,n);for(let p=0;p<u.length;p+=1)u[p]&&u[p].m(n,null);_(e,i),a&&a.m(e,null),U(d,o,f),c&&c.m(d,f),l=!0},p(d,[f]){if(f&38){r=fe(d[2]);let p;for(p=0;p<r.length;p+=1){const h=Ei(d,r,p);u[p]?u[p].p(h,f):(u[p]=Si(h),u[p].c(),u[p].m(n,null))}for(;p<u.length;p+=1)u[p].d(1);u.length=r.length}d[0].allowSwitch?a?a.p(d,f):(a=Di(d),a.c(),a.m(e,null)):a&&(a.d(1),a=null),c&&c.p&&(!l||f&1024)&&Bo(c,s,d,d[10],l?xo(s,d[10],f,null):Ro(d[10]),null)},i(d){l||(Le(c,d),l=!0)},o(d){We(c,d),l=!1},d(d){d&&(j(e),j(o)),Wt(u,d),a&&a.d(),c&&c.d(d)}}}function fl(t,e,n){let{$$slots:i={},$$scope:o}=e,{params:l}=e,{fetch:r}=e,{loadLayout:u=()=>{Xe.get(scope,type,layoutProfileId,y=>{layout=y},!1)}}=e,{validate:a=()=>!0}=e,s=!1,c=[];const d=Espo.link_LayoutProfile??[];Xt(()=>{f()});function f(){Ye.notify("Loading..."),u(()=>{Ye.notify(!1),l.afterRender&&l.afterRender()})}function p(){n(1,s=!0);const y=r();if(!a(y)){n(1,s=!1);debugger;return}Ye.notify("Saving..."),Xe.set(l.scope,l.type,l.layoutProfileId,y,()=>{Ye.notify("Saved","success",2e3),h(),n(1,s=!1)})}function h(){l.onUpdate&&l.onUpdate({scope:l.scope,type:l.type,layoutProfileId:l.layoutProfileId})}function v(){u()}function g(){Ye.confirm("Are you sure you want to reset to default?",()=>{Xe.resetToDefault(l.scope,l.type,l.layoutProfileId,()=>{h(),v()})})}function b(y){switch(y.name){case"save":p();break;case"cancel":v();break;case"resetToDefault":g();break}}const C=y=>b(y);function w(){l.layoutProfileId=qo(this),n(0,l),n(3,d)}return t.$$set=y=>{"params"in y&&n(0,l=y.params),"fetch"in y&&n(6,r=y.fetch),"loadLayout"in y&&n(7,u=y.loadLayout),"validate"in y&&n(8,a=y.validate),"$$scope"in y&&n(10,o=y.$$scope)},t.$$.update=()=>{if(t.$$.dirty&1){n(2,c=[{name:"save",label:F.translate("Save","labels"),style:"primary"},{name:"cancel",label:F.translate("Cancel","labels")},{name:"resetToDefault",label:F.translate("resetToDefault","labels","LayoutManager")}]);for(const y of d)y.id===l.layoutProfileId&&y.isDefault&&n(2,c[2].label=F.translate("resetToSystem","labels","LayoutManager"),c)}},[l,s,c,d,f,b,r,u,a,p,o,i,C,w]}class Ci extends Ce{constructor(e){super(),ke(this,e,fl,dl,we,{params:0,fetch:6,loadLayout:7,validate:8,save:9})}get save(){return this.$$.ctx[9]}}/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Pi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,i)}return n}function Ne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Pi(Object(n),!0).forEach(function(i){pl(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Kt(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Kt=function(e){return typeof e}:Kt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kt(t)}function pl(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function je(){return je=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},je.apply(this,arguments)}function hl(t,e){if(t==null)return{};var n={},i=Object.keys(t),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function ml(t,e){if(t==null)return{};var n=hl(t,e),i,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(o=0;o<l.length;o++)i=l[o],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var gl="1.15.2";function Ge(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ue=Ge(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Dt=Ge(/Edge/i),Ti=Ge(/firefox/i),kt=Ge(/safari/i)&&!Ge(/chrome/i)&&!Ge(/android/i),Li=Ge(/iP(ad|od|hone)/i),Ai=Ge(/chrome/i)&&Ge(/android/i),Ii={capture:!1,passive:!1};function K(t,e,n){t.addEventListener(e,n,!Ue&&Ii)}function J(t,e,n){t.removeEventListener(e,n,!Ue&&Ii)}function Qt(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function vl(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function Ae(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Qt(t,e):Qt(t,e))||i&&t===n)return t;if(t===n)break}while(t=vl(t))}return null}var Oi=/\s+/g;function Ee(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(Oi," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(Oi," ")}}function B(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function pt(t,e){var n="";if(typeof t=="string")n=t;else do{var i=B(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function Mi(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,l=i.length;if(n)for(;o<l;o++)n(i[o],o);return i}return[]}function xe(){var t=document.scrollingElement;return t||document.documentElement}function re(t,e,n,i,o){if(!(!t.getBoundingClientRect&&t!==window)){var l,r,u,a,s,c,d;if(t!==window&&t.parentNode&&t!==xe()?(l=t.getBoundingClientRect(),r=l.top,u=l.left,a=l.bottom,s=l.right,c=l.height,d=l.width):(r=0,u=0,a=window.innerHeight,s=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(e||n)&&t!==window&&(o=o||t.parentNode,!Ue))do if(o&&o.getBoundingClientRect&&(B(o,"transform")!=="none"||n&&B(o,"position")!=="static")){var f=o.getBoundingClientRect();r-=f.top+parseInt(B(o,"border-top-width")),u-=f.left+parseInt(B(o,"border-left-width")),a=r+l.height,s=u+l.width;break}while(o=o.parentNode);if(i&&t!==window){var p=pt(o||t),h=p&&p.a,v=p&&p.d;p&&(r/=v,u/=h,d/=h,c/=v,a=r+c,s=u+d)}return{top:r,left:u,bottom:a,right:s,width:d,height:c}}}function Fi(t,e,n){for(var i=$e(t,!0),o=re(t)[e];i;){var l=re(i)[n],r=void 0;if(r=o>=l,!r)return i;if(i===xe())break;i=$e(i,!1)}return!1}function ht(t,e,n,i){for(var o=0,l=0,r=t.children;l<r.length;){if(r[l].style.display!=="none"&&r[l]!==x.ghost&&(i||r[l]!==x.dragged)&&Ae(r[l],n.draggable,t,!1)){if(o===e)return r[l];o++}l++}return null}function yn(t,e){for(var n=t.lastElementChild;n&&(n===x.ghost||B(n,"display")==="none"||e&&!Qt(n,e));)n=n.previousElementSibling;return n||null}function Pe(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==x.clone&&(!e||Qt(t,e))&&n++;return n}function Ni(t){var e=0,n=0,i=xe();if(t)do{var o=pt(t),l=o.a,r=o.d;e+=t.scrollLeft*l,n+=t.scrollTop*r}while(t!==i&&(t=t.parentNode));return[e,n]}function bl(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function $e(t,e){if(!t||!t.getBoundingClientRect)return xe();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=B(n);if(n.clientWidth<n.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return xe();if(i||e)return n;i=!0}}while(n=n.parentNode);return xe()}function _l(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function wn(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var Ct;function xi(t,e){return function(){if(!Ct){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),Ct=setTimeout(function(){Ct=void 0},e)}}}function yl(){clearTimeout(Ct),Ct=void 0}function Bi(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Ri(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Hi(t,e,n){var i={};return Array.from(t.children).forEach(function(o){var l,r,u,a;if(!(!Ae(o,e.draggable,t,!1)||o.animated||o===n)){var s=re(o);i.left=Math.min((l=i.left)!==null&&l!==void 0?l:1/0,s.left),i.top=Math.min((r=i.top)!==null&&r!==void 0?r:1/0,s.top),i.right=Math.max((u=i.right)!==null&&u!==void 0?u:-1/0,s.right),i.bottom=Math.max((a=i.bottom)!==null&&a!==void 0?a:-1/0,s.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var Se="Sortable"+new Date().getTime();function wl(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(o){if(!(B(o,"display")==="none"||o===x.ghost)){t.push({target:o,rect:re(o)});var l=Ne({},t[t.length-1].rect);if(o.thisAnimationDuration){var r=pt(o,!0);r&&(l.top-=r.f,l.left-=r.e)}o.fromRect=l}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(bl(t,{target:i}),1)},animateAll:function(i){var o=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var l=!1,r=0;t.forEach(function(u){var a=0,s=u.target,c=s.fromRect,d=re(s),f=s.prevFromRect,p=s.prevToRect,h=u.rect,v=pt(s,!0);v&&(d.top-=v.f,d.left-=v.e),s.toRect=d,s.thisAnimationDuration&&wn(f,d)&&!wn(c,d)&&(h.top-d.top)/(h.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(a=Sl(h,f,p,o.options)),wn(d,c)||(s.prevFromRect=c,s.prevToRect=d,a||(a=o.options.animation),o.animate(s,h,d,a)),a&&(l=!0,r=Math.max(r,a),clearTimeout(s.animationResetTimer),s.animationResetTimer=setTimeout(function(){s.animationTime=0,s.prevFromRect=null,s.fromRect=null,s.prevToRect=null,s.thisAnimationDuration=null},a),s.thisAnimationDuration=a)}),clearTimeout(e),l?e=setTimeout(function(){typeof i=="function"&&i()},r):typeof i=="function"&&i(),t=[]},animate:function(i,o,l,r){if(r){B(i,"transition",""),B(i,"transform","");var u=pt(this.el),a=u&&u.a,s=u&&u.d,c=(o.left-l.left)/(a||1),d=(o.top-l.top)/(s||1);i.animatingX=!!c,i.animatingY=!!d,B(i,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=El(i),B(i,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),B(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){B(i,"transition",""),B(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},r)}}}}function El(t){return t.offsetWidth}function Sl(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var mt=[],En={initializeByDefault:!0},Pt={mount:function(e){for(var n in En)En.hasOwnProperty(n)&&!(n in e)&&(e[n]=En[n]);mt.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),mt.push(e)},pluginEvent:function(e,n,i){var o=this;this.eventCanceled=!1,i.cancel=function(){o.eventCanceled=!0};var l=e+"Global";mt.forEach(function(r){n[r.pluginName]&&(n[r.pluginName][l]&&n[r.pluginName][l](Ne({sortable:n},i)),n.options[r.pluginName]&&n[r.pluginName][e]&&n[r.pluginName][e](Ne({sortable:n},i)))})},initializePlugins:function(e,n,i,o){mt.forEach(function(u){var a=u.pluginName;if(!(!e.options[a]&&!u.initializeByDefault)){var s=new u(e,n,e.options);s.sortable=e,s.options=e.options,e[a]=s,je(i,s.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var r=this.modifyOption(e,l,e.options[l]);typeof r<"u"&&(e.options[l]=r)}},getEventProperties:function(e,n){var i={};return mt.forEach(function(o){typeof o.eventProperties=="function"&&je(i,o.eventProperties.call(n[o.pluginName],e))}),i},modifyOption:function(e,n,i){var o;return mt.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[n]=="function"&&(o=l.optionListeners[n].call(e[l.pluginName],i))}),o}};function Dl(t){var e=t.sortable,n=t.rootEl,i=t.name,o=t.targetEl,l=t.cloneEl,r=t.toEl,u=t.fromEl,a=t.oldIndex,s=t.newIndex,c=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,p=t.putSortable,h=t.extraEventProperties;if(e=e||n&&n[Se],!!e){var v,g=e.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Ue&&!Dt?v=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(i,!0,!0)),v.to=r||n,v.from=u||n,v.item=o||n,v.clone=l,v.oldIndex=a,v.newIndex=s,v.oldDraggableIndex=c,v.newDraggableIndex=d,v.originalEvent=f,v.pullMode=p?p.lastPutMode:void 0;var C=Ne(Ne({},h),Pt.getEventProperties(i,e));for(var w in C)v[w]=C[w];n&&n.dispatchEvent(v),g[b]&&g[b].call(e,v)}}var kl=["evt"],_e=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=i.evt,l=ml(i,kl);Pt.pluginEvent.bind(x)(e,n,Ne({dragEl:P,parentEl:le,ghostEl:W,rootEl:ne,nextEl:ot,lastDownEl:Zt,cloneEl:ie,cloneHidden:et,dragStarted:Lt,putSortable:ce,activeSortable:x.active,originalEvent:o,oldIndex:gt,oldDraggableIndex:Tt,newIndex:De,newDraggableIndex:tt,hideGhostForTarget:Gi,unhideGhostForTarget:Ui,cloneNowHidden:function(){et=!0},cloneNowShown:function(){et=!1},dispatchSortableEvent:function(u){be({sortable:n,name:u,originalEvent:o})}},l))};function be(t){Dl(Ne({putSortable:ce,cloneEl:ie,targetEl:P,rootEl:ne,oldIndex:gt,oldDraggableIndex:Tt,newIndex:De,newDraggableIndex:tt},t))}var P,le,W,ne,ot,Zt,ie,et,gt,De,Tt,tt,$t,ce,vt=!1,en=!1,tn=[],lt,Ie,Sn,Dn,Wi,qi,Lt,bt,At,It=!1,nn=!1,on,pe,kn=[],Cn=!1,ln=[],rn=typeof document<"u",an=Li,zi=Dt||Ue?"cssFloat":"float",Cl=rn&&!Ai&&!Li&&"draggable"in document.createElement("div"),Yi=function(){if(rn){if(Ue)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Xi=function(e,n){var i=B(e),o=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),l=ht(e,0,n),r=ht(e,1,n),u=l&&B(l),a=r&&B(r),s=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+re(l).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+re(r).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&u.float&&u.float!=="none"){var d=u.float==="left"?"left":"right";return r&&(a.clear==="both"||a.clear===d)?"vertical":"horizontal"}return l&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||s>=o&&i[zi]==="none"||r&&i[zi]==="none"&&s+c>o)?"vertical":"horizontal"},Pl=function(e,n,i){var o=i?e.left:e.top,l=i?e.right:e.bottom,r=i?e.width:e.height,u=i?n.left:n.top,a=i?n.right:n.bottom,s=i?n.width:n.height;return o===u||l===a||o+r/2===u+s/2},Tl=function(e,n){var i;return tn.some(function(o){var l=o[Se].options.emptyInsertThreshold;if(!(!l||yn(o))){var r=re(o),u=e>=r.left-l&&e<=r.right+l,a=n>=r.top-l&&n<=r.bottom+l;if(u&&a)return i=o}}),i},ji=function(e){function n(l,r){return function(u,a,s,c){var d=u.options.group.name&&a.options.group.name&&u.options.group.name===a.options.group.name;if(l==null&&(r||d))return!0;if(l==null||l===!1)return!1;if(r&&l==="clone")return l;if(typeof l=="function")return n(l(u,a,s,c),r)(u,a,s,c);var f=(r?u:a).options.group.name;return l===!0||typeof l=="string"&&l===f||l.join&&l.indexOf(f)>-1}}var i={},o=e.group;(!o||Kt(o)!="object")&&(o={name:o}),i.name=o.name,i.checkPull=n(o.pull,!0),i.checkPut=n(o.put),i.revertClone=o.revertClone,e.group=i},Gi=function(){!Yi&&W&&B(W,"display","none")},Ui=function(){!Yi&&W&&B(W,"display","")};rn&&!Ai&&document.addEventListener("click",function(t){if(en)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),en=!1,!1},!0);var rt=function(e){if(P){e=e.touches?e.touches[0]:e;var n=Tl(e.clientX,e.clientY);if(n){var i={};for(var o in e)e.hasOwnProperty(o)&&(i[o]=e[o]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[Se]._onDragOver(i)}}},Ll=function(e){P&&P.parentNode[Se]._isOutsideThisEl(e.target)};function x(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=je({},e),t[Se]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Xi(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,u){r.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:x.supportPointer!==!1&&"PointerEvent"in window&&!kt,emptyInsertThreshold:5};Pt.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);ji(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:Cl,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?K(t,"pointerdown",this._onTapStart):(K(t,"mousedown",this._onTapStart),K(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(K(t,"dragover",this),K(t,"dragenter",this)),tn.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),je(this,wl())}x.prototype={constructor:x,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(bt=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,P):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,o=this.options,l=o.preventOnFilter,r=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(u||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,c=o.filter;if(Bl(i),!P&&!(/mousedown|pointerdown/.test(r)&&e.button!==0||o.disabled)&&!s.isContentEditable&&!(!this.nativeDraggable&&kt&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=Ae(a,o.draggable,i,!1),!(a&&a.animated)&&Zt!==a)){if(gt=Pe(a),Tt=Pe(a,o.draggable),typeof c=="function"){if(c.call(this,e,a,this)){be({sortable:n,rootEl:s,name:"filter",targetEl:a,toEl:i,fromEl:i}),_e("filter",n,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=Ae(s,d.trim(),i,!1),d)return be({sortable:n,rootEl:d,name:"filter",targetEl:a,fromEl:i,toEl:i}),_e("filter",n,{evt:e}),!0}),c)){l&&e.cancelable&&e.preventDefault();return}o.handle&&!Ae(s,o.handle,i,!1)||this._prepareDragStart(e,u,a)}}},_prepareDragStart:function(e,n,i){var o=this,l=o.el,r=o.options,u=l.ownerDocument,a;if(i&&!P&&i.parentNode===l){var s=re(i);if(ne=l,P=i,le=P.parentNode,ot=P.nextSibling,Zt=i,$t=r.group,x.dragged=P,lt={target:P,clientX:(n||e).clientX,clientY:(n||e).clientY},Wi=lt.clientX-s.left,qi=lt.clientY-s.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,P.style["will-change"]="all",a=function(){if(_e("delayEnded",o,{evt:e}),x.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Ti&&o.nativeDraggable&&(P.draggable=!0),o._triggerDragStart(e,n),be({sortable:o,name:"choose",originalEvent:e}),Ee(P,r.chosenClass,!0)},r.ignore.split(",").forEach(function(c){Mi(P,c.trim(),Pn)}),K(u,"dragover",rt),K(u,"mousemove",rt),K(u,"touchmove",rt),K(u,"mouseup",o._onDrop),K(u,"touchend",o._onDrop),K(u,"touchcancel",o._onDrop),Ti&&this.nativeDraggable&&(this.options.touchStartThreshold=4,P.draggable=!0),_e("delayStart",this,{evt:e}),r.delay&&(!r.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Dt||Ue))){if(x.eventCanceled){this._onDrop();return}K(u,"mouseup",o._disableDelayedDrag),K(u,"touchend",o._disableDelayedDrag),K(u,"touchcancel",o._disableDelayedDrag),K(u,"mousemove",o._delayedDragTouchMoveHandler),K(u,"touchmove",o._delayedDragTouchMoveHandler),r.supportPointer&&K(u,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(a,r.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){P&&Pn(P),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;J(e,"mouseup",this._disableDelayedDrag),J(e,"touchend",this._disableDelayedDrag),J(e,"touchcancel",this._disableDelayedDrag),J(e,"mousemove",this._delayedDragTouchMoveHandler),J(e,"touchmove",this._delayedDragTouchMoveHandler),J(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?K(document,"pointermove",this._onTouchMove):n?K(document,"touchmove",this._onTouchMove):K(document,"mousemove",this._onTouchMove):(K(P,"dragend",this),K(ne,"dragstart",this._onDragStart));try{document.selection?un(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(vt=!1,ne&&P){_e("dragStarted",this,{evt:n}),this.nativeDraggable&&K(document,"dragover",Ll);var i=this.options;!e&&Ee(P,i.dragClass,!1),Ee(P,i.ghostClass,!0),x.active=this,e&&this._appendGhost(),be({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Ie){this._lastX=Ie.clientX,this._lastY=Ie.clientY,Gi();for(var e=document.elementFromPoint(Ie.clientX,Ie.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ie.clientX,Ie.clientY),e!==n);)n=e;if(P.parentNode[Se]._isOutsideThisEl(e),n)do{if(n[Se]){var i=void 0;if(i=n[Se]._onDragOver({clientX:Ie.clientX,clientY:Ie.clientY,target:e,rootEl:n}),i&&!this.options.dragoverBubble)break}e=n}while(n=n.parentNode);Ui()}},_onTouchMove:function(e){if(lt){var n=this.options,i=n.fallbackTolerance,o=n.fallbackOffset,l=e.touches?e.touches[0]:e,r=W&&pt(W,!0),u=W&&r&&r.a,a=W&&r&&r.d,s=an&&pe&&Ni(pe),c=(l.clientX-lt.clientX+o.x)/(u||1)+(s?s[0]-kn[0]:0)/(u||1),d=(l.clientY-lt.clientY+o.y)/(a||1)+(s?s[1]-kn[1]:0)/(a||1);if(!x.active&&!vt){if(i&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(W){r?(r.e+=c-(Sn||0),r.f+=d-(Dn||0)):r={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");B(W,"webkitTransform",f),B(W,"mozTransform",f),B(W,"msTransform",f),B(W,"transform",f),Sn=c,Dn=d,Ie=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!W){var e=this.options.fallbackOnBody?document.body:ne,n=re(P,!0,an,!0,e),i=this.options;if(an){for(pe=e;B(pe,"position")==="static"&&B(pe,"transform")==="none"&&pe!==document;)pe=pe.parentNode;pe!==document.body&&pe!==document.documentElement?(pe===document&&(pe=xe()),n.top+=pe.scrollTop,n.left+=pe.scrollLeft):pe=xe(),kn=Ni(pe)}W=P.cloneNode(!0),Ee(W,i.ghostClass,!1),Ee(W,i.fallbackClass,!0),Ee(W,i.dragClass,!0),B(W,"transition",""),B(W,"transform",""),B(W,"box-sizing","border-box"),B(W,"margin",0),B(W,"top",n.top),B(W,"left",n.left),B(W,"width",n.width),B(W,"height",n.height),B(W,"opacity","0.8"),B(W,"position",an?"absolute":"fixed"),B(W,"zIndex","100000"),B(W,"pointerEvents","none"),x.ghost=W,e.appendChild(W),B(W,"transform-origin",Wi/parseInt(W.style.width)*100+"% "+qi/parseInt(W.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,o=e.dataTransfer,l=i.options;if(_e("dragStart",this,{evt:e}),x.eventCanceled){this._onDrop();return}_e("setupClone",this),x.eventCanceled||(ie=Ri(P),ie.removeAttribute("id"),ie.draggable=!1,ie.style["will-change"]="",this._hideClone(),Ee(ie,this.options.chosenClass,!1),x.clone=ie),i.cloneId=un(function(){_e("clone",i),!x.eventCanceled&&(i.options.removeCloneOnHide||ne.insertBefore(ie,P),i._hideClone(),be({sortable:i,name:"clone"}))}),!n&&Ee(P,l.dragClass,!0),n?(en=!0,i._loopId=setInterval(i._emulateDragOver,50)):(J(document,"mouseup",i._onDrop),J(document,"touchend",i._onDrop),J(document,"touchcancel",i._onDrop),o&&(o.effectAllowed="move",l.setData&&l.setData.call(i,o,P)),K(document,"drop",i),B(P,"transform","translateZ(0)")),vt=!0,i._dragStartId=un(i._dragStarted.bind(i,n,e)),K(document,"selectstart",i),Lt=!0,kt&&B(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,i=e.target,o,l,r,u=this.options,a=u.group,s=x.active,c=$t===a,d=u.sort,f=ce||s,p,h=this,v=!1;if(Cn)return;function g(Be,_t){_e(Be,h,Ne({evt:e,isOwner:c,axis:p?"vertical":"horizontal",revert:r,dragRect:o,targetRect:l,canSort:d,fromSortable:f,target:i,completed:C,onMove:function(Ve,at){return sn(ne,n,P,o,Ve,re(Ve),e,at)},changed:w},_t))}function b(){g("dragOverAnimationCapture"),h.captureAnimationState(),h!==f&&f.captureAnimationState()}function C(Be){return g("dragOverCompleted",{insertion:Be}),Be&&(c?s._hideClone():s._showClone(h),h!==f&&(Ee(P,ce?ce.options.ghostClass:s.options.ghostClass,!1),Ee(P,u.ghostClass,!0)),ce!==h&&h!==x.active?ce=h:h===x.active&&ce&&(ce=null),f===h&&(h._ignoreWhileAnimating=i),h.animateAll(function(){g("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(i===P&&!P.animated||i===n&&!i.animated)&&(bt=null),!u.dragoverBubble&&!e.rootEl&&i!==document&&(P.parentNode[Se]._isOutsideThisEl(e.target),!Be&&rt(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),v=!0}function w(){De=Pe(P),tt=Pe(P,u.draggable),be({sortable:h,name:"change",toEl:n,newIndex:De,newDraggableIndex:tt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=Ae(i,u.draggable,n,!0),g("dragOver"),x.eventCanceled)return v;if(P.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||h._ignoreWhileAnimating===i)return C(!1);if(en=!1,s&&!u.disabled&&(c?d||(r=le!==ne):ce===this||(this.lastPutMode=$t.checkPull(this,s,P,e))&&a.checkPut(this,s,P,e))){if(p=this._getDirection(e,i)==="vertical",o=re(P),g("dragOverValid"),x.eventCanceled)return v;if(r)return le=ne,b(),this._hideClone(),g("revert"),x.eventCanceled||(ot?ne.insertBefore(P,ot):ne.appendChild(P)),C(!0);var y=yn(n,u.draggable);if(!y||Ml(e,p,this)&&!y.animated){if(y===P)return C(!1);if(y&&n===e.target&&(i=y),i&&(l=re(i)),sn(ne,n,P,o,i,l,e,!!i)!==!1)return b(),y&&y.nextSibling?n.insertBefore(P,y.nextSibling):n.appendChild(P),le=n,w(),C(!0)}else if(y&&Ol(e,p,this)){var E=ht(n,0,u,!0);if(E===P)return C(!1);if(i=E,l=re(i),sn(ne,n,P,o,i,l,e,!1)!==!1)return b(),n.insertBefore(P,E),le=n,w(),C(!0)}else if(i.parentNode===n){l=re(i);var k=0,D,R=P.parentNode!==n,T=!Pl(P.animated&&P.toRect||o,i.animated&&i.toRect||l,p),Z=p?"top":"left",Q=Fi(i,"top","top")||Fi(P,"top","top"),z=Q?Q.scrollTop:void 0;bt!==i&&(D=l[Z],It=!1,nn=!T&&u.invertSwap||R),k=Fl(e,i,l,p,T?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,nn,bt===i);var G;if(k!==0){var V=Pe(P);do V-=k,G=le.children[V];while(G&&(B(G,"display")==="none"||G===W))}if(k===0||G===i)return C(!1);bt=i,At=k;var M=i.nextElementSibling,Y=!1;Y=k===1;var de=sn(ne,n,P,o,i,l,e,Y);if(de!==!1)return(de===1||de===-1)&&(Y=de===1),Cn=!0,setTimeout(Il,30),b(),Y&&!M?n.appendChild(P):i.parentNode.insertBefore(P,Y?M:i),Q&&Bi(Q,0,z-Q.scrollTop),le=P.parentNode,D!==void 0&&!nn&&(on=Math.abs(D-re(i)[Z])),w(),C(!0)}if(n.contains(P))return C(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){J(document,"mousemove",this._onTouchMove),J(document,"touchmove",this._onTouchMove),J(document,"pointermove",this._onTouchMove),J(document,"dragover",rt),J(document,"mousemove",rt),J(document,"touchmove",rt)},_offUpEvents:function(){var e=this.el.ownerDocument;J(e,"mouseup",this._onDrop),J(e,"touchend",this._onDrop),J(e,"pointerup",this._onDrop),J(e,"touchcancel",this._onDrop),J(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;if(De=Pe(P),tt=Pe(P,i.draggable),_e("drop",this,{evt:e}),le=P&&P.parentNode,De=Pe(P),tt=Pe(P,i.draggable),x.eventCanceled){this._nulling();return}vt=!1,nn=!1,It=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Tn(this.cloneId),Tn(this._dragStartId),this.nativeDraggable&&(J(document,"drop",this),J(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),kt&&B(document.body,"user-select",""),B(P,"transform",""),e&&(Lt&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),W&&W.parentNode&&W.parentNode.removeChild(W),(ne===le||ce&&ce.lastPutMode!=="clone")&&ie&&ie.parentNode&&ie.parentNode.removeChild(ie),P&&(this.nativeDraggable&&J(P,"dragend",this),Pn(P),P.style["will-change"]="",Lt&&!vt&&Ee(P,ce?ce.options.ghostClass:this.options.ghostClass,!1),Ee(P,this.options.chosenClass,!1),be({sortable:this,name:"unchoose",toEl:le,newIndex:null,newDraggableIndex:null,originalEvent:e}),ne!==le?(De>=0&&(be({rootEl:le,name:"add",toEl:le,fromEl:ne,originalEvent:e}),be({sortable:this,name:"remove",toEl:le,originalEvent:e}),be({rootEl:le,name:"sort",toEl:le,fromEl:ne,originalEvent:e}),be({sortable:this,name:"sort",toEl:le,originalEvent:e})),ce&&ce.save()):De!==gt&&De>=0&&(be({sortable:this,name:"update",toEl:le,originalEvent:e}),be({sortable:this,name:"sort",toEl:le,originalEvent:e})),x.active&&((De==null||De===-1)&&(De=gt,tt=Tt),be({sortable:this,name:"end",toEl:le,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){_e("nulling",this),ne=P=le=W=ot=ie=Zt=et=lt=Ie=Lt=De=tt=gt=Tt=bt=At=ce=$t=x.dragged=x.ghost=x.clone=x.active=null,ln.forEach(function(e){e.checked=!0}),ln.length=Sn=Dn=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":P&&(this._onDragOver(e),Al(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,i=this.el.children,o=0,l=i.length,r=this.options;o<l;o++)n=i[o],Ae(n,r.draggable,this.el,!1)&&e.push(n.getAttribute(r.dataIdAttr)||xl(n));return e},sort:function(e,n){var i={},o=this.el;this.toArray().forEach(function(l,r){var u=o.children[r];Ae(u,this.options.draggable,o,!1)&&(i[l]=u)},this),n&&this.captureAnimationState(),e.forEach(function(l){i[l]&&(o.removeChild(i[l]),o.appendChild(i[l]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return Ae(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(n===void 0)return i[e];var o=Pt.modifyOption(this,e,n);typeof o<"u"?i[e]=o:i[e]=n,e==="group"&&ji(i)},destroy:function(){_e("destroy",this);var e=this.el;e[Se]=null,J(e,"mousedown",this._onTapStart),J(e,"touchstart",this._onTapStart),J(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(J(e,"dragover",this),J(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),tn.splice(tn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!et){if(_e("hideClone",this),x.eventCanceled)return;B(ie,"display","none"),this.options.removeCloneOnHide&&ie.parentNode&&ie.parentNode.removeChild(ie),et=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(et){if(_e("showClone",this),x.eventCanceled)return;P.parentNode==ne&&!this.options.group.revertClone?ne.insertBefore(ie,P):ot?ne.insertBefore(ie,ot):ne.appendChild(ie),this.options.group.revertClone&&this.animate(P,ie),B(ie,"display",""),et=!1}}};function Al(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function sn(t,e,n,i,o,l,r,u){var a,s=t[Se],c=s.options.onMove,d;return window.CustomEvent&&!Ue&&!Dt?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=e,a.from=t,a.dragged=n,a.draggedRect=i,a.related=o||e,a.relatedRect=l||re(e),a.willInsertAfter=u,a.originalEvent=r,t.dispatchEvent(a),c&&(d=c.call(s,a,r)),d}function Pn(t){t.draggable=!1}function Il(){Cn=!1}function Ol(t,e,n){var i=re(ht(n.el,0,n.options,!0)),o=Hi(n.el,n.options,W),l=10;return e?t.clientX<o.left-l||t.clientY<i.top&&t.clientX<i.right:t.clientY<o.top-l||t.clientY<i.bottom&&t.clientX<i.left}function Ml(t,e,n){var i=re(yn(n.el,n.options.draggable)),o=Hi(n.el,n.options,W),l=10;return e?t.clientX>o.right+l||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>o.bottom+l||t.clientX>i.right&&t.clientY>i.top}function Fl(t,e,n,i,o,l,r,u){var a=i?t.clientY:t.clientX,s=i?n.height:n.width,c=i?n.top:n.left,d=i?n.bottom:n.right,f=!1;if(!r){if(u&&on<s*o){if(!It&&(At===1?a>c+s*l/2:a<d-s*l/2)&&(It=!0),It)f=!0;else if(At===1?a<c+on:a>d-on)return-At}else if(a>c+s*(1-o)/2&&a<d-s*(1-o)/2)return Nl(e)}return f=f||r,f&&(a<c+s*l/2||a>d-s*l/2)?a>c+s/2?1:-1:0}function Nl(t){return Pe(P)<Pe(t)?1:-1}function xl(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function Bl(t){ln.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&ln.push(i)}}function un(t){return setTimeout(t,0)}function Tn(t){return clearTimeout(t)}rn&&K(document,"touchmove",function(t){(x.active||vt)&&t.cancelable&&t.preventDefault()}),x.utils={on:K,off:J,css:B,find:Mi,is:function(e,n){return!!Ae(e,n,e,!1)},extend:_l,throttle:xi,closest:Ae,toggleClass:Ee,clone:Ri,index:Pe,nextTick:un,cancelNextTick:Tn,detectDirection:Xi,getChild:ht},x.get=function(t){return t[Se]},x.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(x.utils=Ne(Ne({},x.utils),i.utils)),Pt.mount(i)})},x.create=function(t,e){return new x(t,e)},x.version=gl;var ae=[],Ot,Ln,An=!1,In,On,cn,Mt;function Rl(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?K(document,"dragover",this._handleAutoScroll):this.options.supportPointer?K(document,"pointermove",this._handleFallbackAutoScroll):i.touches?K(document,"touchmove",this._handleFallbackAutoScroll):K(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?J(document,"dragover",this._handleAutoScroll):(J(document,"pointermove",this._handleFallbackAutoScroll),J(document,"touchmove",this._handleFallbackAutoScroll),J(document,"mousemove",this._handleFallbackAutoScroll)),Vi(),dn(),yl()},nulling:function(){cn=Ln=Ot=An=Mt=In=On=null,ae.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var o=this,l=(n.touches?n.touches[0]:n).clientX,r=(n.touches?n.touches[0]:n).clientY,u=document.elementFromPoint(l,r);if(cn=n,i||this.options.forceAutoScrollFallback||Dt||Ue||kt){Mn(n,this.options,u,i);var a=$e(u,!0);An&&(!Mt||l!==In||r!==On)&&(Mt&&Vi(),Mt=setInterval(function(){var s=$e(document.elementFromPoint(l,r),!0);s!==a&&(a=s,dn()),Mn(n,o.options,s,i)},10),In=l,On=r)}else{if(!this.options.bubbleScroll||$e(u,!0)===xe()){dn();return}Mn(n,this.options,$e(u,!1),!1)}}},je(t,{pluginName:"scroll",initializeByDefault:!0})}function dn(){ae.forEach(function(t){clearInterval(t.pid)}),ae=[]}function Vi(){clearInterval(Mt)}var Mn=xi(function(t,e,n,i){if(e.scroll){var o=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,r=e.scrollSensitivity,u=e.scrollSpeed,a=xe(),s=!1,c;Ln!==n&&(Ln=n,dn(),Ot=e.scroll,c=e.scrollFn,Ot===!0&&(Ot=$e(n,!0)));var d=0,f=Ot;do{var p=f,h=re(p),v=h.top,g=h.bottom,b=h.left,C=h.right,w=h.width,y=h.height,E=void 0,k=void 0,D=p.scrollWidth,R=p.scrollHeight,T=B(p),Z=p.scrollLeft,Q=p.scrollTop;p===a?(E=w<D&&(T.overflowX==="auto"||T.overflowX==="scroll"||T.overflowX==="visible"),k=y<R&&(T.overflowY==="auto"||T.overflowY==="scroll"||T.overflowY==="visible")):(E=w<D&&(T.overflowX==="auto"||T.overflowX==="scroll"),k=y<R&&(T.overflowY==="auto"||T.overflowY==="scroll"));var z=E&&(Math.abs(C-o)<=r&&Z+w<D)-(Math.abs(b-o)<=r&&!!Z),G=k&&(Math.abs(g-l)<=r&&Q+y<R)-(Math.abs(v-l)<=r&&!!Q);if(!ae[d])for(var V=0;V<=d;V++)ae[V]||(ae[V]={});(ae[d].vx!=z||ae[d].vy!=G||ae[d].el!==p)&&(ae[d].el=p,ae[d].vx=z,ae[d].vy=G,clearInterval(ae[d].pid),(z!=0||G!=0)&&(s=!0,ae[d].pid=setInterval((function(){i&&this.layer===0&&x.active._onTouchMove(cn);var M=ae[this.layer].vy?ae[this.layer].vy*u:0,Y=ae[this.layer].vx?ae[this.layer].vx*u:0;typeof c=="function"&&c.call(x.dragged.parentNode[Se],Y,M,t,cn,ae[this.layer].el)!=="continue"||Bi(ae[this.layer].el,Y,M)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&f!==a&&(f=$e(f,!1)));An=s}},30),Ji=function(e){var n=e.originalEvent,i=e.putSortable,o=e.dragEl,l=e.activeSortable,r=e.dispatchSortableEvent,u=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(n){var s=i||l;u();var c=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,d=document.elementFromPoint(c.clientX,c.clientY);a(),s&&!s.el.contains(d)&&(r("spill"),this.onSpill({dragEl:o,putSortable:i}))}};function Fn(){}Fn.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var o=ht(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(n,o):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:Ji},je(Fn,{pluginName:"revertOnSpill"});function Nn(){}Nn.prototype={onSpill:function(e){var n=e.dragEl,i=e.putSortable,o=i||this.sortable;o.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),o.animateAll()},drop:Ji},je(Nn,{pluginName:"removeOnSpill"}),x.mount(new Rl),x.mount(Nn,Fn);function Ki(t,e,n){const i=t.slice();return i[16]=e[n],i}function Qi(t,e,n){const i=t.slice();return i[19]=e[n],i}function Zi(t){let e,n,i,o;function l(){return t[10](t[19])}return{c(){e=S("div"),n=S("a"),n.innerHTML='<i class="fas fa-pencil-alt fa-sm"></i>',m(n,"href","javascript:"),m(n,"data-action","editField"),m(n,"class","edit-field svelte-1mx8y43"),m(e,"class","right svelte-1mx8y43")},m(r,u){U(r,e,u),_(e,n),i||(o=te(n,"click",l),i=!0)},p(r,u){t=r},d(r){r&&j(e),i=!1,o()}}}function $i(t,e){let n,i,o,l=e[19].label+"",r,u,a,s=e[2].editable&&Zi(e),c=[e[9](e[19])],d={};for(let f=0;f<c.length;f+=1)d=pn(d,c[f]);return{key:t,first:null,c(){n=S("li"),i=S("div"),o=S("label"),r=se(l),u=H(),s&&s.c(),a=H(),m(o,"class","svelte-1mx8y43"),m(i,"class","left svelte-1mx8y43"),qt(n,d),zt(n,"svelte-1mx8y43",!0),this.first=n},m(f,p){U(f,n,p),_(n,i),_(i,o),_(o,r),_(n,u),s&&s.m(n,null),_(n,a)},p(f,p){e=f,p&1&&l!==(l=e[19].label+"")&&Re(r,l),e[2].editable?s?s.p(e,p):(s=Zi(e),s.c(),s.m(n,a)):s&&(s.d(1),s=null),qt(n,d=di(c,[p&1&&e[9](e[19])])),zt(n,"svelte-1mx8y43",!0)},d(f){f&&j(n),s&&s.d()}}}function eo(t,e){let n,i,o,l=e[16].label+"",r,u,a=[e[9](e[16])],s={};for(let c=0;c<a.length;c+=1)s=pn(s,a[c]);return{key:t,first:null,c(){n=S("li"),i=S("div"),o=S("label"),r=se(l),u=H(),m(o,"class","svelte-1mx8y43"),m(i,"class","left svelte-1mx8y43"),qt(n,s),zt(n,"svelte-1mx8y43",!0),this.first=n},m(c,d){U(c,n,d),_(n,i),_(i,o),_(o,r),_(n,u)},p(c,d){e=c,d&2&&l!==(l=e[16].label+"")&&Re(r,l),qt(n,s=di(a,[d&2&&e[9](e[16])])),zt(n,"svelte-1mx8y43",!0)},d(c){c&&j(n)}}}function Hl(t){let e,n,i,o,l,r,u=[],a=new Map,s,c,d,f,p,h,v=[],g=new Map,b=fe(t[0].sort(no));const C=E=>E[19].name;for(let E=0;E<b.length;E+=1){let k=Qi(t,b,E),D=C(k);a.set(D,u[E]=$i(D,k))}let w=fe(t[1]);const y=E=>E[16].name;for(let E=0;E<w.length;E+=1){let k=Ki(t,w,E),D=y(k);g.set(D,v[E]=eo(D,k))}return{c(){e=S("div"),n=S("div"),i=S("div"),o=S("header"),o.textContent=`${F.translate("Enabled","labels","Admin")}`,l=H(),r=S("ul");for(let E=0;E<u.length;E+=1)u[E].c();s=H(),c=S("div"),d=S("div"),f=S("header"),f.textContent=`${F.translate("Disabled","labels","Admin")}`,p=H(),h=S("ul");for(let E=0;E<v.length;E+=1)v[E].c();m(r,"class","enabled connected svelte-1mx8y43"),m(i,"class","well"),m(n,"class","col-sm-5"),m(h,"class","disabled connected svelte-1mx8y43"),m(d,"class","well"),m(c,"class","col-sm-5"),m(e,"id","layout"),m(e,"class","row")},m(E,k){U(E,e,k),_(e,n),_(n,i),_(i,o),_(i,l),_(i,r);for(let D=0;D<u.length;D+=1)u[D]&&u[D].m(r,null);_(e,s),_(e,c),_(c,d),_(d,f),_(d,p),_(d,h);for(let D=0;D<v.length;D+=1)v[D]&&v[D].m(h,null);t[11](e)},p(E,k){k&645&&(b=fe(E[0].sort(no)),u=Vt(u,k,C,1,E,b,a,r,Ut,$i,null,Qi)),k&514&&(w=fe(E[1]),v=Vt(v,k,y,1,E,w,g,h,Ut,eo,null,Ki))},d(E){E&&j(e);for(let k=0;k<u.length;k+=1)u[k].d();for(let k=0;k<v.length;k+=1)v[k].d();t[11](null)}}}function Wl(t){let e,n,i={params:t[2],validate:t[8],fetch:t[4],loadLayout:t[3],$$slots:{default:[Hl]},$$scope:{ctx:t}};return e=new Ci({props:i}),t[12](e),{c(){Ze(e.$$.fragment)},m(o,l){qe(e,o,l),n=!0},p(o,[l]){const r={};l&4&&(r.params=o[2]),l&16&&(r.fetch=o[4]),l&8&&(r.loadLayout=o[3]),l&4194343&&(r.$$scope={dirty:l,ctx:o}),e.$set(r)},i(o){n||(Le(e.$$.fragment,o),n=!0)},o(o){We(e.$$.fragment,o),n=!1},d(o){t[12](null),ze(e,o)}}}function ql(t){return t.toLowerCase()}function to(t,e){return t[e]}const no=(t,e)=>t.sortOrder-e.sortOrder;function zl(t,e,n){let i,o,l,{params:r}=e,{enabledFields:u=[]}=e,{disabledFields:a=[]}=e,{loadLayout:s}=e,c;Xt(()=>{d()}),li(()=>{o&&o.destroy(),l&&l.destroy()});function d(){const w={group:"fields",draggable:"li",animation:150};o=x.create(i.querySelector("ul.enabled"),{...w,onEnd(y){if(y.to.closest(".connected").classList.contains("enabled")){const[E]=u.splice(y.oldIndex,1);u.splice(y.newIndex,0,E)}else{const E=u[y.oldIndex];u.splice(y.oldIndex,1),a.splice(y.newIndex,0,E),n(1,a=[...a])}n(0,u=[...u])}}),l=x.create(i.querySelector("ul.disabled"),{...w,onEnd(y){if(y.to.closest(".connected").classList.contains("disabled")){const[E]=a.splice(y.oldIndex,1);a.splice(y.newIndex,0,E)}else{const E=a[y.oldIndex];a.splice(y.oldIndex,1),u.splice(y.newIndex,0,E),n(0,u=[...u])}n(1,a=[...a])}})}function f(w){r.openEditDialog(w,r.scope,r.dataAttributeList,r.dataAttributesDefs,y=>{n(0,u=u.map(E=>{if(E.name===w.name)for(let k in y)E[k]=y[k];return E}))})}let{fetch:p=()=>u}=e;function h(w){return w.length===0?(Ye.notify("Layout cannot be empty","error"),!1):!0}function v(w){const y={};return r.dataAttributeList.forEach(E=>{to(w,E)!=null&&(y[`data-${ql(E)}`]=to(w,E))}),y}const g=w=>f(w);function b(w){He[w?"unshift":"push"](()=>{i=w,n(5,i)})}function C(w){He[w?"unshift":"push"](()=>{c=w,n(6,c)})}return t.$$set=w=>{"params"in w&&n(2,r=w.params),"enabledFields"in w&&n(0,u=w.enabledFields),"disabledFields"in w&&n(1,a=w.disabledFields),"loadLayout"in w&&n(3,s=w.loadLayout),"fetch"in w&&n(4,p=w.fetch)},[u,a,r,s,p,i,c,f,h,v,g,b,C]}class xn extends Ce{constructor(e){super(),ke(this,e,zl,Wl,we,{params:2,enabledFields:0,disabledFields:1,loadLayout:3,fetch:4})}}function Yl(t){let e,n,i={params:t[0],enabledFields:t[2],disabledFields:t[3],editable:Xl,loadLayout:t[4]};return e=new xn({props:i}),t[5](e),{c(){Ze(e.$$.fragment)},m(o,l){qe(e,o,l),n=!0},p(o,[l]){const r={};l&1&&(r.params=o[0]),l&4&&(r.enabledFields=o[2]),l&8&&(r.disabledFields=o[3]),e.$set(r)},i(o){n||(Le(e.$$.fragment,o),n=!0)},o(o){We(e.$$.fragment,o),n=!1},d(o){t[5](null),ze(e,o)}}}let Xl=!0;function jl(t){return!0}function Gl(t,e,n){let{params:i}=e;i.dataAttributeList||(i.dataAttributeList=["id","name","width","widthPx","link","notSortable","align","view","customLabel","editable"]),i.dataAttributesDefs||(i.dataAttributesDefs={link:{type:"bool"},width:{type:"float"},notSortable:{type:"bool"},align:{type:"enum",options:["left","right"]},view:{type:"varchar",readOnly:!0},customLabel:{type:"varchar",readOnly:!0},widthPx:{type:"float"},name:{type:"varchar",readOnly:!0},editable:{type:"bool"}});let o,l=[],r=[];const u=[],a=[];function s(p){St.create(i.scope,h=>{Xe.get(i.scope,i.type,i.layoutProfileId,v=>{p&&(c(h,v),p())},!1)})}function c(p,h){const v=Object.keys(p.defs.fields).filter(w=>jl(p.getFieldParam(w,"type"))&&d(p,w)).sort((w,y)=>F.translate(w,"fields",i.scope).localeCompare(F.translate(y,"fields",i.scope))),g=[],b=[],C=[];n(2,l=h.map(w=>{const y=F.translate(w.name,"fields",i.scope);return b.includes(y)&&C.push(y),b.push(y),g.push(w.name),{...w,label:w.label||y}})),n(3,r=v.filter(w=>!g.includes(w)).map(w=>{const y=F.translate(w,"fields",i.scope);b.includes(y)&&C.push(y),b.push(y);const E={name:w,label:y},k=Fe.get(["entityDefs",i.scope,"fields",w,"type"]);return k&&Fe.get(["fields",k,"notSortable"])&&(E.notSortable=!0),E})),[l,r].forEach(w=>{w.forEach(y=>{C.includes(y.label)&&(y.label+=` (${y.name})`)})})}function d(p,h){if(u.includes(h)||a.includes(p.getFieldParam(h,"type")))return!1;const v=["disabled",`layout${Espo.utils.upperCaseFirst(i.type)}Disabled`];i.reelType&&v.push(`layout${Espo.utils.upperCaseFirst(i.reelType)}Disabled`);for(let g of v)if(p.getFieldParam(h,g))return!1;return!0}function f(p){He[p?"unshift":"push"](()=>{o=p,n(1,o)})}return t.$$set=p=>{"params"in p&&n(0,i=p.params)},[i,o,l,r,s,f]}class io extends Ce{constructor(e){super(),ke(this,e,Gl,Yl,we,{params:0})}}function Ul(t){let e,n,i={params:t[0],enabledFields:t[2],disabledFields:t[3],loadLayout:t[5],fetch:t[4]};return e=new xn({props:i}),t[7](e),{c(){Ze(e.$$.fragment)},m(o,l){qe(e,o,l),n=!0},p(o,[l]){const r={};l&1&&(r.params=o[0]),l&4&&(r.enabledFields=o[2]),l&8&&(r.disabledFields=o[3]),e.$set(r)},i(o){n||(Le(e.$$.fragment,o),n=!0)},o(o){We(e.$$.fragment,o),n=!1},d(o){t[7](null),ze(e,o)}}}function Vl(t,e,n){let{params:i}=e,{viewType:o="detail"}=e;i.dataAttributeList||(i.dataAttributeList=["id","name","style","sticked"]),i.dataAttributesDefs||(i.dataAttributesDefs={style:{type:"enum",options:["default","success","danger","primary","info","warning"],translation:"LayoutManager.options.style"},sticked:{type:"bool"},name:{readOnly:!0}});let l,r=[],u=[],a=()=>{let f={};return r.forEach(p=>{f[p.name]=p}),u.forEach(p=>{f[p.name]={...p,disabled:!0}}),f};function s(f){Xe.get(i.scope,i.type,i.layoutProfileId,p=>{f&&(c(p),f())},!1)}function c(f){let p=[],h={},v={};Fe.get(["clientDefs",i.scope,"defaultSidePanel",o])!==!1&&!Fe.get(["clientDefs",i.scope,"defaultSidePanelDisabled"])&&(p.push("default"),h.default="Default"),(Fe.get(["clientDefs",i.scope,"sidePanels",o])||[]).forEach(g=>{g.name&&(p.push(g.name),g.label&&(h[g.name]=g.label),v[g.name]=g)}),n(3,u=[]),f=f||{},n(2,r=[]),p.forEach((g,b)=>{let C=!1,w=f[g]||{};w.disabled&&(C=!0);let y;if(h[g]?y=F.translate(h[g],"labels",i.scope):y=F.translate(g,"panels",i.scope),C)u.push({name:g,label:y});else{let E={name:g,label:y};E.name in v&&i.dataAttributeList.forEach(k=>{if(k==="name")return;let D=v[E.name]||{};k in D&&(E[k]=D[k])});for(let k in w)E[k]=w[k];E.index="index"in w?w.index:b,r.push(E)}}),r.sort((g,b)=>g.index-b.index)}function d(f){He[f?"unshift":"push"](()=>{l=f,n(1,l)})}return t.$$set=f=>{"params"in f&&n(0,i=f.params),"viewType"in f&&n(6,o=f.viewType)},[i,l,r,u,a,s,o,d]}class fn extends Ce{constructor(e){super(),ke(this,e,Vl,Ul,we,{params:0,viewType:6})}}function Jl(t){let e,n;return e=new xn({props:{params:t[0],enabledFields:t[1],disabledFields:t[2],loadLayout:t[3]}}),{c(){Ze(e.$$.fragment)},m(i,o){qe(e,i,o),n=!0},p(i,[o]){const l={};o&1&&(l.params=i[0]),o&2&&(l.enabledFields=i[1]),o&4&&(l.disabledFields=i[2]),e.$set(l)},i(i){n||(Le(e.$$.fragment,i),n=!0)},o(i){We(e.$$.fragment,i),n=!1},d(i){ze(e,i)}}}function Kl(t,e){return!t.getLinkParam(e,"disabled")&&!t.getLinkParam(e,"layoutRelationshipsDisabled")}function Ql(t,e,n){let{params:i}=e;i.dataAttributeList||(i.dataAttributeList=["id","name","style","hiddenPerDefault"]),i.dataAttributesDefs||(i.dataAttributesDefs={style:{type:"enum",options:["default","success","danger","primary","info","warning"],translation:"LayoutManager.options.style"},hiddenPerDefault:{type:"bool"},name:{readOnly:!0}});let o=[],l=[];function r(a){St.create(i.scope,function(s){Xe.get(i.scope,i.type,i.layoutProfileId,c=>{a&&(u(s,c),a())},!1)})}function u(a,s){let c=[];for(let p in a.defs.links)["belongsTo","hasMany","hasChildren"].includes(a.defs.links[p].type)&&Kl(a,p)&&c.push(p);const d=Fe.get(["clientDefs",i.scope,"bottomPanels","detail"])||[];for(let p of d)p.layoutRelationshipsDisabled||c.push(p.name);c.sort(function(p,h){let v,g,b=d.find(w=>w.name===p),C=d.find(w=>w.name===h);return p in a.defs.links?v=F.translate(p,"links",i.scope):b&&(v=F.translate(b.label,"labels",i.scope)),h in a.defs.links?g=F.translate(h,"links",i.scope):C&&(g=F.translate(C.label,"labels",i.scope)),v.localeCompare(g)});let f=[];n(1,o=[]),n(2,l=[]);for(let p in s){let h=s[p],v,g=d.find(b=>b.name===h.name);typeof h=="string"||h instanceof String?v={name:h,label:g?F.translate(g.label,"labels",i.scope):F.translate(h,"links",i.scope)}:(v=h,v.label=g?F.translate(g.label,"labels",i.scope):F.translate(v.name,"links",i.scope)),i.dataAttributeList.forEach(b=>{if(b==="name"||b in v)return;let C=Fe.get(["clientDefs",i.scope,"relationshipPanels",v.name,b]);C!==null&&(v[b]=C)}),o.push(v),f.push(v.name)}for(let p of c)if(!f.includes(p)){let h=d.find(v=>v.name===p);l.push({name:p,label:h?F.translate(h.label,"labels",i.scope):F.translate(p,"links",i.scope)})}}return t.$$set=a=>{"params"in a&&n(0,i=a.params)},[i,o,l,r]}class Zl extends Ce{constructor(e){super(),ke(this,e,Ql,Jl,we,{params:0})}}function oo(t,e,n){const i=t.slice();return i[39]=e[n],i}function lo(t,e,n){const i=t.slice();return i[42]=e[n],i}function ro(t,e,n){const i=t.slice();return i[45]=e[n],i}function ao(t,e,n){const i=t.slice();return i[48]=e[n],i[50]=n,i}function $l(t){let e,n,i,o,l;function r(){return t[20](t[42],t[45],t[50])}function u(...a){return t[21](t[42],t[45],t[50],...a)}return{c(){e=S("li"),n=S("a"),n.innerHTML='<i class="fas fa-minus"></i>',i=H(),m(n,"href","#"),m(n,"data-action","minusCell"),m(n,"class","remove-field svelte-fp3tbt"),m(e,"class","empty cell svelte-fp3tbt")},m(a,s){U(a,e,s),_(e,n),_(e,i),o||(l=[te(n,"click",Qe(r)),te(e,"dragover",Qe(or)),te(e,"drop",u)],o=!0)},p(a,s){t=a},d(a){a&&j(e),o=!1,Me(l)}}}function er(t){let e,n=t[48].label+"",i,o,l,r,u,a,s,c,d,f,p;function h(){return t[18](t[42],t[45],t[50])}function v(...g){return t[19](t[48],...g)}return{c(){e=S("li"),i=se(n),o=H(),l=S("a"),l.innerHTML='<i class="fas fa-times"></i>',r=H(),m(l,"href","#"),m(l,"data-action","removeField"),m(l,"class","remove-field svelte-fp3tbt"),m(e,"class","cell svelte-fp3tbt"),m(e,"draggable","true"),m(e,"data-id",u=t[48].id),m(e,"data-name",a=t[48].name),m(e,"data-full-width",s=t[48].fullWidth?"true":void 0),m(e,"data-custom-label",c=t[48].customLabel?t[48].customLabel:void 0),m(e,"data-no-label",d=t[48].noLabel)},m(g,b){U(g,e,b),_(e,i),_(e,o),_(e,l),_(e,r),f||(p=[te(l,"click",Qe(h)),te(e,"dragstart",mn(v))],f=!0)},p(g,b){t=g,b[0]&2&&n!==(n=t[48].label+"")&&Re(i,n),b[0]&2&&u!==(u=t[48].id)&&m(e,"data-id",u),b[0]&2&&a!==(a=t[48].name)&&m(e,"data-name",a),b[0]&2&&s!==(s=t[48].fullWidth?"true":void 0)&&m(e,"data-full-width",s),b[0]&2&&c!==(c=t[48].customLabel?t[48].customLabel:void 0)&&m(e,"data-custom-label",c),b[0]&2&&d!==(d=t[48].noLabel)&&m(e,"data-no-label",d)},d(g){g&&j(e),f=!1,Me(p)}}}function so(t){let e;function n(l,r){return l[48]?er:$l}let i=n(t),o=i(t);return{c(){o.c(),e=ni()},m(l,r){o.m(l,r),U(l,e,r)},p(l,r){i===(i=n(l))&&o?o.p(l,r):(o.d(1),o=i(l),o&&(o.c(),o.m(e.parentNode,e)))},d(l){l&&j(e),o.d(l)}}}function uo(t,e){let n,i,o,l,r,u,a,s,c;function d(){return e[17](e[42],e[45])}let f=fe(e[45].cells),p=[];for(let h=0;h<f.length;h+=1)p[h]=so(ao(e,f,h));return{key:t,first:null,c(){n=S("li"),i=S("div"),o=S("a"),o.innerHTML='<i class="fas fa-times"></i>',l=H(),r=S("ul");for(let h=0;h<p.length;h+=1)p[h].c();u=H(),m(o,"href","#"),m(o,"data-action","removeRow"),m(o,"class","remove-row pull-right svelte-fp3tbt"),m(i,"class","svelte-fp3tbt"),m(r,"class","cells svelte-fp3tbt"),m(n,"class","row svelte-fp3tbt"),m(n,"data-number",a=e[45].number),this.first=n},m(h,v){U(h,n,v),_(n,i),_(i,o),_(n,l),_(n,r);for(let g=0;g<p.length;g+=1)p[g]&&p[g].m(r,null);_(n,u),s||(c=[te(o,"click",Qe(d)),te(r,"mousedown",mn(lr))],s=!0)},p(h,v){if(e=h,v[0]&5634){f=fe(e[45].cells);let g;for(g=0;g<f.length;g+=1){const b=ao(e,f,g);p[g]?p[g].p(b,v):(p[g]=so(b),p[g].c(),p[g].m(r,null))}for(;g<p.length;g+=1)p[g].d(1);p.length=f.length}v[0]&2&&a!==(a=e[45].number)&&m(n,"data-number",a)},d(h){h&&j(n),Wt(p,h),s=!1,Me(c)}}}function co(t,e){let n,i,o,l=(e[42].customLabel||e[42].label||"")+"",r,u,a,s,c,d,f,p,h,v,g,b=[],C=new Map,w,y,E,k,D,R,T;function Z(){return e[15](e[42])}function Q(){return e[16](e[42])}let z=fe(e[42].rows);const G=M=>M[45].number;for(let M=0;M<z.length;M+=1){let Y=ro(e,z,M),de=G(Y);C.set(de,b[M]=uo(de,Y))}function V(){return e[22](e[42])}return{key:t,first:null,c(){n=S("li"),i=S("header"),o=S("label"),r=se(l),a=se(` 
                                `),s=S("a"),s.innerHTML='<i class="fas fa-pencil-alt fa-sm"></i>',c=H(),d=S("a"),f=S("i"),v=H(),g=S("ul");for(let M=0;M<b.length;M+=1)b[M].c();w=H(),y=S("div"),E=S("a"),E.innerHTML='<i class="fas fa-plus"></i>',k=H(),m(o,"data-is-custom",u=e[42].customLabel?"true":void 0),m(o,"class","svelte-fp3tbt"),m(s,"href","#"),m(s,"data-action","edit-panel-label"),m(s,"class","edit-panel-label svelte-fp3tbt"),m(f,"class","fas fa-times"),m(d,"href","#"),ve(d,"float","right"),m(d,"data-action","removePanel"),m(d,"class","remove-panel svelte-fp3tbt"),m(d,"data-number",p=e[42].number),m(i,"data-name",h=e[42].name),m(i,"class","svelte-fp3tbt"),m(g,"class","rows svelte-fp3tbt"),m(E,"href","#"),m(E,"data-action","addRow"),m(E,"class","svelte-fp3tbt"),m(y,"class","svelte-fp3tbt"),m(n,"data-number",D=e[42].number),m(n,"class","panel-layout svelte-fp3tbt"),this.first=n},m(M,Y){U(M,n,Y),_(n,i),_(i,o),_(o,r),_(i,a),_(i,s),_(i,c),_(i,d),_(d,f),_(n,v),_(n,g);for(let de=0;de<b.length;de+=1)b[de]&&b[de].m(g,null);_(n,w),_(n,y),_(y,E),_(n,k),R||(T=[te(s,"click",Qe(Z)),te(d,"click",Qe(Q)),te(g,"mousedown",mn(rr)),te(E,"click",Qe(V))],R=!0)},p(M,Y){e=M,Y[0]&2&&l!==(l=(e[42].customLabel||e[42].label||"")+"")&&Re(r,l),Y[0]&2&&u!==(u=e[42].customLabel?"true":void 0)&&m(o,"data-is-custom",u),Y[0]&2&&p!==(p=e[42].number)&&m(d,"data-number",p),Y[0]&2&&h!==(h=e[42].name)&&m(i,"data-name",h),Y[0]&5890&&(z=fe(e[42].rows),b=Vt(b,Y,G,1,e,z,C,g,Ut,uo,null,ro)),Y[0]&2&&D!==(D=e[42].number)&&m(n,"data-number",D)},d(M){M&&j(n);for(let Y=0;Y<b.length;Y+=1)b[Y].d();R=!1,Me(T)}}}function fo(t){let e,n=t[39].label+"",i,o,l,r,u;function a(...s){return t[23](t[39],...s)}return{c(){e=S("li"),i=se(n),o=H(),m(e,"class","cell svelte-fp3tbt"),m(e,"data-name",l=t[39].name)},m(s,c){U(s,e,c),_(e,i),_(e,o),r||(u=te(e,"dragstart",a),r=!0)},p(s,c){t=s,c[0]&4&&n!==(n=t[39].label+"")&&Re(i,n),c[0]&4&&l!==(l=t[39].name)&&m(e,"data-name",l)},d(s){s&&j(e),r=!1,u()}}}function tr(t){let e,n,i,o,l,r,u,a,s=[],c=new Map,d,f,p,h,v,g,b,C,w=fe(t[1]);const y=D=>D[42].number;for(let D=0;D<w.length;D+=1){let R=lo(t,w,D),T=y(R);c.set(T,s[D]=co(T,R))}let E=fe(t[2]),k=[];for(let D=0;D<E.length;D+=1)k[D]=fo(oo(t,E,D));return{c(){e=S("div"),n=S("div"),i=S("div"),o=S("header"),o.textContent=`${F.translate("Layout","LayoutManager")}`,l=H(),r=S("a"),r.textContent=`${F.translate("Add Panel","Admin")}`,u=H(),a=S("ul");for(let D=0;D<s.length;D+=1)s[D].c();d=H(),f=S("div"),p=S("div"),h=S("header"),h.textContent=`${F.translate("Available Fields","Admin")}`,v=H(),g=S("ul");for(let D=0;D<k.length;D+=1)k[D].c();m(o,"class","svelte-fp3tbt"),m(r,"href","#"),m(r,"class","svelte-fp3tbt"),m(a,"class","panels svelte-fp3tbt"),m(i,"class","well svelte-fp3tbt"),m(n,"class","col-md-8 svelte-fp3tbt"),m(h,"class","svelte-fp3tbt"),m(g,"class","disabled cells clearfix svelte-fp3tbt"),m(p,"class","well svelte-fp3tbt"),m(f,"class","col-md-4 svelte-fp3tbt"),m(e,"id","layout"),m(e,"class","row svelte-fp3tbt")},m(D,R){U(D,e,R),_(e,n),_(n,i),_(i,o),_(i,l),_(i,r),_(i,u),_(i,a);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(a,null);_(e,d),_(e,f),_(f,p),_(p,h),_(p,v),_(p,g);for(let T=0;T<k.length;T+=1)k[T]&&k[T].m(g,null);b||(C=te(r,"click",Qe(t[5])),b=!0)},p(D,R){if(R[0]&8130&&(w=fe(D[1]),s=Vt(s,R,y,1,D,w,c,a,Ut,co,null,lo)),R[0]&4){E=fe(D[2]);let T;for(T=0;T<E.length;T+=1){const Z=oo(D,E,T);k[T]?k[T].p(Z,R):(k[T]=fo(Z),k[T].c(),k[T].m(g,null))}for(;T<k.length;T+=1)k[T].d(1);k.length=E.length}},d(D){D&&j(e);for(let R=0;R<s.length;R+=1)s[R].d();Wt(k,D),b=!1,C()}}}function nr(t){let e,n;return e=new Ci({props:{params:t[0],validate:t[13],fetch:t[4],loadLayout:t[3],$$slots:{default:[tr]},$$scope:{ctx:t}}}),{c(){Ze(e.$$.fragment)},m(i,o){qe(e,i,o),n=!0},p(i,o){const l={};o[0]&1&&(l.params=i[0]),o[0]&6|o[1]&1048576&&(l.$$scope={dirty:o,ctx:i}),e.$set(l)},i(i){n||(Le(e.$$.fragment,i),n=!0)},o(i){We(e.$$.fragment,i),n=!1},d(i){ze(e,i)}}}function ir(t,e){return e.some(n=>n.name===t)}const or=t=>t.dataTransfer.dropEffect="move",lr=()=>{},rr=()=>{};function ar(t,e,n){let{params:i}=e,{columnCount:o=2}=e,l=["id","label","style"],r={label:{type:"varchar"},style:{type:"enum",options:["default","success","danger","primary","info","warning"],translation:"LayoutManager.options.style"},dynamicLogicVisible:{type:"base",view:"views/admin/field-manager/fields/dynamic-logic-conditions"}},u=["modifiedAt","createdAt","modifiedBy","createdBy","assignedUser","ownerUser","teams"],a=[],s=[],c=-1,d=-1,f;Xo();function p(A){let L,N;const q=[];q.push(new Promise(X=>{St.create(i.scope,ee=>{Xe.get(i.scope,i.type,i.layoutProfileId,$=>{L=$,N=ee,X()},!1)})})),["detail","detailSmall"].includes(i.type)&&q.push(new Promise(X=>{Xe.get(i.scope,"sidePanels"+Espo.utils.upperCaseFirst(i.type),i.layoutProfileId,ee=>{f=ee,X()},!1)})),Promise.all(q).then(()=>{A&&(h(N,L),C(),ui().then(()=>{y()}),A())})}function h(A,L){let N=[];const q=[];for(const $ in A.defs.fields)v(A,$)&&(q.push(F.translate($,"fields",i.scope)),N.push($));const X=q.filter(($,ye)=>q.indexOf($)!==ye);let ee=[];n(2,s=[]),n(1,a=L),L.forEach(($,ye)=>{$.rows.forEach((oe,Oe)=>{oe&&oe.forEach((Te,Je)=>{if(Je==o||!Te)return;let nt=F.translate(Te.name,"fields",i.scope);X.includes(nt)&&(nt+=` (${Te.name})`),ee.push({name:Te.name,label:nt}),n(1,a[ye].rows[Oe][Je].label=nt,a)})})}),N.sort(($,ye)=>F.translate($,"fields",i.scope).localeCompare(F.translate(ye,"fields",i.scope)));for(const $ in N)if(!ir(N[$],ee)){const ye=N[$];let oe=F.translate(ye,"fields",i.scope);X.includes(oe)&&(oe+=` (${ye})`),s.push({name:ye,label:oe})}}function v(A,L){if(g()&&u.includes(L))return!1;const N=["disabled",`layout${Espo.utils.upperCaseFirst(i.type)}Disabled`];i.reelType&&N.push(`layout${Espo.utils.upperCaseFirst(i.reelType)}Disabled`);for(let q of N)if(A.getFieldParam(L,q))return!1;return!0}function g(){if(Fe.get(["clientDefs",i.scope,"defaultSidePanelDisabled"]))return!1;if(f){for(const A in f)if(A==="default"&&f[A].disabled)return!1}return!0}function b(){return a.map(A=>({...A,rows:A.rows.map(L=>L.cells)}))}function C(){c=-1,d=-1,n(1,a=a.map((A,L)=>(A.number=L,c=L,A.rows=A.rows.map(N=>({number:d++,cells:N})),A)))}function w(A){x.create(A,{animation:150,group:"rows",draggable:"li.row",onEnd(L){const N=parseInt(L.to.closest(".panel-layout").getAttribute("data-number")),q=parseInt(L.from.closest(".panel-layout").getAttribute("data-number"));if(q===N)n(1,a=a.map(X=>{if(X.number===N){const[ee]=X.rows.splice(L.oldIndex,1);X.rows.splice(L.newIndex,0,ee)}return X}));else{const ee=a.find($=>$.number===q).rows[L.oldIndex];n(1,a=a.map($=>($.number===q&&$.rows.splice(L.oldIndex,1),$.number===N&&$.rows.splice(L.newIndex,0,ee),$)))}}})}function y(){const A=document.querySelector("ul.panels");A&&x.create(A,{animation:150,group:"panels",draggable:"li.panel-layout",onEnd(L){const N=Array.from(L.to.children);n(1,a=N.map(q=>{const X=parseInt(q.getAttribute("data-number"));return a.find(ee=>ee.number===X)}))}}),document.querySelectorAll("ul.rows").forEach(L=>{w(L)}),document.querySelectorAll("ul.cells.disabled").forEach(L=>{x.create(L,{animation:150,group:"cells",draggable:"li.cell"})})}function E(){c++;const A={label:"New panel",rows:[{number:d++,cells:[!1,!1]}],number:c,name:`panel${c}`,isCustomLabel:!0};n(1,a=[...a,A]),ui().then(()=>{const L=document.querySelector(`.panel-layout[data-number="${A.number}"] > .rows`);w(L)})}function k(A){const L=a.find(q=>q.number===A);n(1,a=a.filter(q=>q!==L));let N=[];L.rows.forEach(q=>{q.cells.forEach(X=>{X&&N.push(X)})}),n(2,s=[...s,...N])}function D(A){n(1,a=a.map(L=>(L.number===A&&(L.rows=[...L.rows,{number:d++,cells:Array(o).fill(!1)}]),L)))}function R(A,L){n(1,a=a.map(N=>{if(N.number===A){const q=N.rows.find(X=>X.number===L);N.rows=N.rows.filter(X=>X!=q),n(2,s=[...s,...q.cells.filter(X=>!!X)])}return N}))}function T(A,L,N){n(1,a=a.map(q=>(q.number===A&&(q.rows=q.rows.map((X,ee)=>{if(X.number===L){const $=X.cells[N];$&&n(2,s=[...s,$]),X.cells[N]=!1}return X})),q)))}function Z(A,L,N,q){const X=A.dataTransfer.getData("name");let ee=s.find(oe=>oe.name===X),$=null,ye=null;if(ee)n(2,s=s.filter(oe=>oe!==ee));else{if(a.forEach(oe=>{oe.rows.forEach((Oe,Te)=>{Oe.cells.forEach(Je=>{Je&&Je.name===X&&(ee=Je,$=Oe.number,ye=oe.number)})})}),!ee)return;n(1,a=a.map((oe,Oe)=>(ye===oe.number&&(oe.rows=oe.rows.map((Te,Je)=>(Te.number===$&&(Te.cells=Te.cells.map((nt,vr)=>nt&&nt.name===X?!1:nt)),Te))),oe)))}n(1,a=a.map(oe=>(L===oe.number&&(oe.rows=oe.rows.map(Oe=>(N===Oe.number&&(Oe.cells=Oe.cells.map((Te,Je)=>Je===q?(ee.fullWidth&&Oe.cells.length>1&&delete ee.fullWidth,ee):Te)),Oe))),oe)))}function Q(A){i.onEditPanel(A,l,r,L=>{n(1,a=a.map(N=>(N.number===A.number&&l.forEach(q=>{A[q]=L[q]}),N)))})}function z(A,L,N){n(1,a=a.map(q=>(A===q.number&&(q.rows=q.rows.map(X=>{if(L===X.number){const ee=X.cells.filter(($,ye)=>ye!==N);ee.length===1&&ee[0]&&(ee[0].fullWidth=!0),X.cells=ee}return X})),q)))}function G(A){let L=0;return A.forEach(N=>{N.rows.forEach(q=>{q.forEach(X=>{X&&L++})})}),L===0?(Ye.notify("Layout cannot be empty.","error"),!1):!0}const V=A=>Q(A),M=A=>k(A.number),Y=(A,L)=>R(A.number,L.number),de=(A,L,N)=>T(A.number,L.number,N),Be=(A,L)=>{L.dataTransfer.setData("name",A.name)},_t=(A,L,N)=>z(A.number,L.number,N),Ft=(A,L,N,q)=>Z(q,A.number,L.number,N),Ve=A=>D(A.number),at=(A,L)=>{L.dataTransfer.setData("name",A.name)};return t.$$set=A=>{"params"in A&&n(0,i=A.params),"columnCount"in A&&n(14,o=A.columnCount)},[i,a,s,p,b,E,k,D,R,T,Z,Q,z,G,o,V,M,Y,de,Be,_t,Ft,Ve,at]}class sr extends Ce{constructor(e){super(),ke(this,e,ar,nr,we,{params:0,columnCount:14},null,[-1,-1])}}function ur(t){let e,n;return e=new t[1]({props:{params:t[0],viewType:t[2]}}),{c(){Ze(e.$$.fragment)},m(i,o){qe(e,i,o),n=!0},p(i,[o]){const l={};o&1&&(l.params=i[0]),o&4&&(l.viewType=i[2]),e.$set(l)},i(i){n||(Le(e.$$.fragment,i),n=!0)},o(i){We(e.$$.fragment,i),n=!1},d(i){ze(e,i)}}}function cr(t,e,n){let{params:i}=e,o,l;const r=Fe.get(["clientDefs",i.scope,"additionalLayouts",i.type])||i.type;switch(r&&(i.reelType=r),t.$$set=u=>{"params"in u&&n(0,i=u.params)},r){case"list":case"listSmall":n(1,o=io);break;case"kanban":n(1,o=io),n(0,i.dataAttributeList=["id","name","link","align","view","isLarge","cssStyle"],i),n(0,i.dataAttributesDefs={link:{type:"bool"},isLarge:{type:"bool"},width:{type:"float"},cssStyle:{type:"varchar"},align:{type:"enum",options:["left","right"]},view:{type:"varchar",readOnly:!0},name:{type:"varchar",readOnly:!0}},i);break;case"relationships":n(1,o=Zl);break;case"detail":case"detailSmall":n(1,o=sr);break;case"sidePanelsDetail":n(2,l="detail"),n(1,o=fn);break;case"sidePanelsDetailSmall":n(2,l="detailSmall"),n(1,o=fn);break;case"sidePanelsEdit":n(2,l="edit"),n(1,o=fn);break;case"sidePanelsEditSmall":n(2,l="editSmall"),n(1,o=fn);break}return[i,o,l]}class dr extends Ce{constructor(e){super(),ke(this,e,cr,ur,we,{params:0})}}function fr(t){let e,n,i,o,l,r=F.translate("apiRequest","labels","Admin")+"",u,a,s,c,d,f,p,h,v,g,b,C,w,y,E,k,D,R,T,Z,Q,z,G=F.translate("response","fields","Admin")+"",V,M,Y=F.translate("status","labels","Admin")+"",de,Be,_t,Ft,Ve,at,A;return{c(){e=S("div"),n=S("h3"),i=S("div"),o=S("div"),l=S("a"),l.textContent=`${F.translate("Administration")}`,u=se(r),a=H(),s=S("div"),s.textContent=`${F.translate("apiRequest","labels","Admin")}`,c=H(),d=S("button"),d.textContent=`${F.translate("execute","labels","Admin")}`,f=H(),p=S("div"),h=S("div"),v=S("div"),g=S("div"),b=S("label"),b.textContent=`${F.translate("Type","fields","Admin")}`,C=H(),w=S("div"),y=H(),E=S("div"),k=S("div"),D=S("label"),D.textContent=`${F.translate("request","fields","Admin")}`,R=H(),T=S("div"),Z=H(),Q=S("div"),z=S("label"),V=se(G),M=S("span"),de=se(Y),Be=se(": "),_t=S("span"),Ft=H(),Ve=S("div"),m(l,"href","#Admin"),m(o,"class","breadcrumbs-wrapper"),m(i,"class","header-breadcrumbs fixed-header-breadcrumbs"),m(s,"class","header-title"),ve(d,"margin","10px 7px 10px 5px"),m(d,"class","btn btn-primary action"),m(d,"data-action","execute"),m(d,"type","button"),m(e,"class","page-header"),m(b,"class","control-label"),m(b,"data-name","type"),m(w,"class","field"),m(w,"data-name","type"),m(g,"class","col-xs-12 cell form-group"),m(v,"class","row"),m(h,"class","col-sm-3"),m(p,"class","row"),m(D,"class","control-label"),m(D,"data-name","request"),m(T,"class","field"),m(T,"data-name","request"),m(k,"class","col-sm-12 col-md-6 cell form-group"),m(M,"class","pull-right status hidden"),ve(z,"width","100%"),m(z,"class","control-label"),m(z,"data-name","response"),m(Ve,"class","field"),m(Ve,"data-name","response"),m(Q,"class","col-sm-12 col-md-6 cell form-group"),m(E,"class","row")},m(L,N){U(L,e,N),_(e,n),_(n,i),_(i,o),_(o,l),_(o,u),_(n,a),_(n,s),_(e,c),_(e,d),U(L,f,N),U(L,p,N),_(p,h),_(h,v),_(v,g),_(g,b),_(g,C),_(g,w),U(L,y,N),U(L,E,N),_(E,k),_(k,D),_(k,R),_(k,T),_(E,Z),_(E,Q),_(Q,z),_(z,V),_(z,M),_(M,de),_(M,Be),_(M,_t),_(Q,Ft),_(Q,Ve),at||(A=te(d,"click",function(){hn(t[0](t[1]))&&t[0](t[1]).apply(this,arguments)}),at=!0)},p(L,[N]){t=L},i:ge,o:ge,d(L){L&&(j(e),j(f),j(p),j(y),j(E)),at=!1,A()}}}function pr(t,e,n){let{afterOnMount:i=()=>null}=e,{sendRequest:o=()=>null}=e,l=null;return Xt(()=>{St.create("",function(r){n(1,l=r),i(l)})}),t.$$set=r=>{"afterOnMount"in r&&n(2,i=r.afterOnMount),"sendRequest"in r&&n(0,o=r.sendRequest)},[o,l,i]}class hr extends Ce{constructor(e){super(),ke(this,e,pr,fr,we,{afterOnMount:2,sendRequest:0})}}window.SvelteLanguage=F,window.SvelteUserData=pi,window.SvelteNotifier=Ye,window.SvelteLayoutManager=Xe,window.SvelteMetadata=Fe,window.SvelteModelFactory=St,window.driver=Mo,he.ApiRequestComponent=hr,he.JobManagerIcon=il,he.LayoutComponent=dr,he.UpdatePanel=cl,Object.defineProperty(he,Symbol.toStringTag,{value:"Module"})});
