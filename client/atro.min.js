(function(Fe,Ye){typeof exports=="object"&&typeof module<"u"?Ye(exports):typeof define=="function"&&define.amd?define(["exports"],Ye):(Fe=typeof globalThis<"u"?globalThis:Fe||self,Ye(Fe.Svelte={}))})(this,function(Fe){"use strict";var yc=Object.defineProperty;var wc=(Fe,Ye,Nt)=>Ye in Fe?yc(Fe,Ye,{enumerable:!0,configurable:!0,writable:!0,value:Nt}):Fe[Ye]=Nt;var Ir=(Fe,Ye,Nt)=>wc(Fe,typeof Ye!="symbol"?Ye+"":Ye,Nt);let Ye={};function Nt(t={}){Ye={animate:!0,allowClose:!0,overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...t}}function G(t){return t?Ye[t]:Ye}function Qn(t,e,n,i){return(t/=i/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e}function Nr(t){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return t.flatMap(n=>{const i=n.matches(e),r=Array.from(n.querySelectorAll(e));return[...i?[n]:[],...r]}).filter(n=>getComputedStyle(n).pointerEvents!=="none"&&bl(n))}function Mr(t){if(!t||gl(t))return;const e=G("smoothScroll");t.scrollIntoView({behavior:!e||vl(t)?"auto":"smooth",inline:"center",block:"center"})}function vl(t){if(!t||!t.parentElement)return;const e=t.parentElement;return e.scrollHeight>e.clientHeight}function gl(t){const e=t.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function bl(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}let Zn={};function He(t,e){Zn[t]=e}function U(t){return t?Zn[t]:Zn}function xr(){Zn={}}let $n={};function ei(t,e){$n[t]=e}function zt(t){var e;(e=$n[t])==null||e.call($n)}function yl(){$n={}}function wl(t,e,n,i){let r=U("__activeStagePosition");const o=r||n.getBoundingClientRect(),l=i.getBoundingClientRect(),s=Qn(t,o.x,l.x-o.x,e),a=Qn(t,o.y,l.y-o.y,e),u=Qn(t,o.width,l.width-o.width,e),f=Qn(t,o.height,l.height-o.height,e);r={x:s,y:a,width:u,height:f},Br(r),He("__activeStagePosition",r)}function Rr(t){if(!t)return;const e=t.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height};He("__activeStagePosition",n),Br(n)}function _l(){const t=U("__activeStagePosition"),e=U("__overlaySvg");if(!t)return;if(!e){console.warn("No stage svg found.");return}const n=window.innerWidth,i=window.innerHeight;e.setAttribute("viewBox",`0 0 ${n} ${i}`)}function El(t){const e=Dl(t);document.body.appendChild(e),Wr(e,n=>{n.target.tagName==="path"&&zt("overlayClick")}),He("__overlaySvg",e)}function Br(t){const e=U("__overlaySvg");if(!e){El(t);return}const n=e.firstElementChild;if((n==null?void 0:n.tagName)!=="path")throw new Error("no path element found in stage svg");n.setAttribute("d",Fr(t))}function Dl(t){const e=window.innerWidth,n=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${e} ${n}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",Fr(t)),r.style.fill=G("overlayColor")||"rgb(0,0,0)",r.style.opacity=`${G("overlayOpacity")}`,r.style.pointerEvents="auto",r.style.cursor="auto",i.appendChild(r),i}function Fr(t){const e=window.innerWidth,n=window.innerHeight,i=G("stagePadding")||0,r=G("stageRadius")||0,o=t.width+i*2,l=t.height+i*2,s=Math.min(r,o/2,l/2),a=Math.floor(Math.max(s,0)),u=t.x-i+a,f=t.y-i,c=o-a*2,d=l-a*2;return`M${e},0L0,0L0,${n}L${e},${n}L${e},0Z
    M${u},${f} h${c} a${a},${a} 0 0 1 ${a},${a} v${d} a${a},${a} 0 0 1 -${a},${a} h-${c} a${a},${a} 0 0 1 -${a},-${a} v-${d} a${a},${a} 0 0 1 ${a},-${a} z`}function kl(){const t=U("__overlaySvg");t&&t.remove()}function Sl(){const t=document.getElementById("driver-dummy-element");if(t)return t;let e=document.createElement("div");return e.id="driver-dummy-element",e.style.width="0",e.style.height="0",e.style.pointerEvents="none",e.style.opacity="0",e.style.position="fixed",e.style.top="50%",e.style.left="50%",document.body.appendChild(e),e}function Hr(t){const{element:e}=t;let n=typeof e=="string"?document.querySelector(e):e;n||(n=Sl()),Tl(n,t)}function Cl(){const t=U("__activeElement"),e=U("__activeStep");t&&(Rr(t),_l(),Ur(t,e))}function Tl(t,e){const n=Date.now(),i=U("__activeStep"),r=U("__activeElement")||t,o=!r||r===t,l=t.id==="driver-dummy-element",s=r.id==="driver-dummy-element",a=G("animate"),u=e.onHighlightStarted||G("onHighlightStarted"),f=(e==null?void 0:e.onHighlighted)||G("onHighlighted"),c=(i==null?void 0:i.onDeselected)||G("onDeselected"),d=G(),m=U();!o&&c&&c(s?void 0:r,i,{config:d,state:m}),u&&u(l?void 0:t,e,{config:d,state:m});const h=!o&&a;let g=!1;Il(),He("previousStep",i),He("previousElement",r),He("activeStep",e),He("activeElement",t);const v=()=>{if(U("__transitionCallback")!==v)return;const y=Date.now()-n,_=400-y<=400/2;e.popover&&_&&!g&&h&&(zr(t,e),g=!0),G("animate")&&y<400?wl(y,400,r,t):(Rr(t),f&&f(l?void 0:t,e,{config:G(),state:U()}),He("__transitionCallback",void 0),He("__previousStep",i),He("__previousElement",r),He("__activeStep",e),He("__activeElement",t)),window.requestAnimationFrame(v)};He("__transitionCallback",v),window.requestAnimationFrame(v),Mr(t),!h&&e.popover&&zr(t,e),r.classList.remove("driver-active-element","driver-no-interaction"),r.removeAttribute("aria-haspopup"),r.removeAttribute("aria-expanded"),r.removeAttribute("aria-controls"),G("disableActiveInteraction")&&t.classList.add("driver-no-interaction"),t.classList.add("driver-active-element"),t.setAttribute("aria-haspopup","dialog"),t.setAttribute("aria-expanded","true"),t.setAttribute("aria-controls","driver-popover-content")}function Ol(){var t;(t=document.getElementById("driver-dummy-element"))==null||t.remove(),document.querySelectorAll(".driver-active-element").forEach(e=>{e.classList.remove("driver-active-element","driver-no-interaction"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-controls")})}function En(){const t=U("__resizeTimeout");t&&window.cancelAnimationFrame(t),He("__resizeTimeout",window.requestAnimationFrame(Cl))}function Al(t){var e;if(!U("isInitialized")||!(t.key==="Tab"||t.keyCode===9))return;const n=U("__activeElement"),i=(e=U("popover"))==null?void 0:e.wrapper,r=Nr([...i?[i]:[],...n?[n]:[]]),o=r[0],l=r[r.length-1];if(t.preventDefault(),t.shiftKey){const s=r[r.indexOf(document.activeElement)-1]||l;s==null||s.focus()}else{const s=r[r.indexOf(document.activeElement)+1]||o;s==null||s.focus()}}function jr(t){var e;((e=G("allowKeyboardControl"))==null||e)&&(t.key==="Escape"?zt("escapePress"):t.key==="ArrowRight"?zt("arrowRightPress"):t.key==="ArrowLeft"&&zt("arrowLeftPress"))}function Wr(t,e,n){const i=(r,o)=>{const l=r.target;t.contains(l)&&((!n||n(l))&&(r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation()),o==null||o(r))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",r=>{i(r,e)},!0)}function Ll(){window.addEventListener("keyup",jr,!1),window.addEventListener("keydown",Al,!1),window.addEventListener("resize",En),window.addEventListener("scroll",En)}function Pl(){window.removeEventListener("keyup",jr),window.removeEventListener("resize",En),window.removeEventListener("scroll",En)}function Il(){const t=U("popover");t&&(t.wrapper.style.display="none")}function zr(t,e){var n,i;let r=U("popover");r&&document.body.removeChild(r.wrapper),r=Ml(),document.body.appendChild(r.wrapper);const{title:o,description:l,showButtons:s,disableButtons:a,showProgress:u,nextBtnText:f=G("nextBtnText")||"Next &rarr;",prevBtnText:c=G("prevBtnText")||"&larr; Previous",progressText:d=G("progressText")||"{current} of {total}"}=e.popover||{};r.nextButton.innerHTML=f,r.previousButton.innerHTML=c,r.progress.innerHTML=d,o?(r.title.innerHTML=o,r.title.style.display="block"):r.title.style.display="none",l?(r.description.innerHTML=l,r.description.style.display="block"):r.description.style.display="none";const m=s||G("showButtons"),h=u||G("showProgress")||!1,g=(m==null?void 0:m.includes("next"))||(m==null?void 0:m.includes("previous"))||h;r.closeButton.style.display=m.includes("close")?"block":"none",g?(r.footer.style.display="flex",r.progress.style.display=h?"block":"none",r.nextButton.style.display=m.includes("next")?"block":"none",r.previousButton.style.display=m.includes("previous")?"block":"none"):r.footer.style.display="none";const v=a||G("disableButtons")||[];v!=null&&v.includes("next")&&(r.nextButton.disabled=!0,r.nextButton.classList.add("driver-popover-btn-disabled")),v!=null&&v.includes("previous")&&(r.previousButton.disabled=!0,r.previousButton.classList.add("driver-popover-btn-disabled")),v!=null&&v.includes("close")&&(r.closeButton.disabled=!0,r.closeButton.classList.add("driver-popover-btn-disabled"));const y=r.wrapper;y.style.display="block",y.style.left="",y.style.top="",y.style.bottom="",y.style.right="",y.id="driver-popover-content",y.setAttribute("role","dialog"),y.setAttribute("aria-labelledby","driver-popover-title"),y.setAttribute("aria-describedby","driver-popover-description");const _=r.arrow;_.className="driver-popover-arrow";const D=((n=e.popover)==null?void 0:n.popoverClass)||G("popoverClass")||"";y.className=`driver-popover ${D}`.trim(),Wr(r.wrapper,A=>{var S,b,O;const L=A.target,N=((S=e.popover)==null?void 0:S.onNextClick)||G("onNextClick"),z=((b=e.popover)==null?void 0:b.onPrevClick)||G("onPrevClick"),K=((O=e.popover)==null?void 0:O.onCloseClick)||G("onCloseClick");if(L.classList.contains("driver-popover-next-btn"))return N?N(t,e,{config:G(),state:U()}):zt("nextClick");if(L.classList.contains("driver-popover-prev-btn"))return z?z(t,e,{config:G(),state:U()}):zt("prevClick");if(L.classList.contains("driver-popover-close-btn"))return K?K(t,e,{config:G(),state:U()}):zt("closeClick")},A=>!(r!=null&&r.description.contains(A))&&!(r!=null&&r.title.contains(A))&&typeof A.className=="string"&&A.className.includes("driver-popover")),He("popover",r);const p=((i=e.popover)==null?void 0:i.onPopoverRender)||G("onPopoverRender");p&&p(r,{config:G(),state:U()}),Ur(t,e),Mr(y);const C=t.classList.contains("driver-dummy-element"),E=Nr([y,...C?[]:[t]]);E.length>0&&E[0].focus()}function qr(){const t=U("popover");if(!(t!=null&&t.wrapper))return;const e=t.wrapper.getBoundingClientRect(),n=G("stagePadding")||0,i=G("popoverOffset")||0;return{width:e.width+n+i,height:e.height+n+i,realWidth:e.width,realHeight:e.height}}function Gr(t,e){const{elementDimensions:n,popoverDimensions:i,popoverPadding:r,popoverArrowDimensions:o}=e;return t==="start"?Math.max(Math.min(n.top-r,window.innerHeight-i.realHeight-o.width),o.width):t==="end"?Math.max(Math.min(n.top-(i==null?void 0:i.realHeight)+n.height+r,window.innerHeight-(i==null?void 0:i.realHeight)-o.width),o.width):t==="center"?Math.max(Math.min(n.top+n.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-o.width),o.width):0}function Vr(t,e){const{elementDimensions:n,popoverDimensions:i,popoverPadding:r,popoverArrowDimensions:o}=e;return t==="start"?Math.max(Math.min(n.left-r,window.innerWidth-i.realWidth-o.width),o.width):t==="end"?Math.max(Math.min(n.left-(i==null?void 0:i.realWidth)+n.width+r,window.innerWidth-(i==null?void 0:i.realWidth)-o.width),o.width):t==="center"?Math.max(Math.min(n.left+n.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-o.width),o.width):0}function Ur(t,e){const n=U("popover");if(!n)return;const{align:i="start",side:r="left"}=(e==null?void 0:e.popover)||{},o=i,l=t.id==="driver-dummy-element"?"over":r,s=G("stagePadding")||0,a=qr(),u=n.arrow.getBoundingClientRect(),f=t.getBoundingClientRect(),c=f.top-a.height;let d=c>=0;const m=window.innerHeight-(f.bottom+a.height);let h=m>=0;const g=f.left-a.width;let v=g>=0;const y=window.innerWidth-(f.right+a.width);let _=y>=0;const D=!d&&!h&&!v&&!_;let p=l;if(l==="top"&&d?_=v=h=!1:l==="bottom"&&h?_=v=d=!1:l==="left"&&v?_=d=h=!1:l==="right"&&_&&(v=d=h=!1),l==="over"){const C=window.innerWidth/2-a.realWidth/2,E=window.innerHeight/2-a.realHeight/2;n.wrapper.style.left=`${C}px`,n.wrapper.style.right="auto",n.wrapper.style.top=`${E}px`,n.wrapper.style.bottom="auto"}else if(D){const C=window.innerWidth/2-(a==null?void 0:a.realWidth)/2,E=10;n.wrapper.style.left=`${C}px`,n.wrapper.style.right="auto",n.wrapper.style.bottom=`${E}px`,n.wrapper.style.top="auto"}else if(v){const C=Math.min(g,window.innerWidth-(a==null?void 0:a.realWidth)-u.width),E=Gr(o,{elementDimensions:f,popoverDimensions:a,popoverPadding:s,popoverArrowDimensions:u});n.wrapper.style.left=`${C}px`,n.wrapper.style.top=`${E}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",p="left"}else if(_){const C=Math.min(y,window.innerWidth-(a==null?void 0:a.realWidth)-u.width),E=Gr(o,{elementDimensions:f,popoverDimensions:a,popoverPadding:s,popoverArrowDimensions:u});n.wrapper.style.right=`${C}px`,n.wrapper.style.top=`${E}px`,n.wrapper.style.bottom="auto",n.wrapper.style.left="auto",p="right"}else if(d){const C=Math.min(c,window.innerHeight-a.realHeight-u.width);let E=Vr(o,{elementDimensions:f,popoverDimensions:a,popoverPadding:s,popoverArrowDimensions:u});n.wrapper.style.top=`${C}px`,n.wrapper.style.left=`${E}px`,n.wrapper.style.bottom="auto",n.wrapper.style.right="auto",p="top"}else if(h){const C=Math.min(m,window.innerHeight-(a==null?void 0:a.realHeight)-u.width);let E=Vr(o,{elementDimensions:f,popoverDimensions:a,popoverPadding:s,popoverArrowDimensions:u});n.wrapper.style.left=`${E}px`,n.wrapper.style.bottom=`${C}px`,n.wrapper.style.top="auto",n.wrapper.style.right="auto",p="bottom"}D?n.arrow.classList.add("driver-popover-arrow-none"):Nl(o,p,t)}function Nl(t,e,n){const i=U("popover");if(!i)return;const r=n.getBoundingClientRect(),o=qr(),l=i.arrow,s=o.width,a=window.innerWidth,u=r.width,f=r.left,c=o.height,d=window.innerHeight,m=r.top,h=r.height;l.className="driver-popover-arrow";let g=e,v=t;e==="top"?(f+u<=0?(g="right",v="end"):f+u-s<=0&&(g="top",v="start"),f>=a?(g="left",v="end"):f+s>=a&&(g="top",v="end")):e==="bottom"?(f+u<=0?(g="right",v="start"):f+u-s<=0&&(g="bottom",v="start"),f>=a?(g="left",v="start"):f+s>=a&&(g="bottom",v="end")):e==="left"?(m+h<=0?(g="bottom",v="end"):m+h-c<=0&&(g="left",v="start"),m>=d?(g="top",v="end"):m+c>=d&&(g="left",v="end")):e==="right"&&(m+h<=0?(g="bottom",v="start"):m+h-c<=0&&(g="right",v="start"),m>=d?(g="top",v="start"):m+c>=d&&(g="right",v="end")),g?(l.classList.add(`driver-popover-arrow-side-${g}`),l.classList.add(`driver-popover-arrow-align-${v}`)):l.classList.add("driver-popover-arrow-none")}function Ml(){const t=document.createElement("div");t.classList.add("driver-popover");const e=document.createElement("div");e.classList.add("driver-popover-arrow");const n=document.createElement("header");n.id="driver-popover-title",n.classList.add("driver-popover-title"),n.style.display="none",n.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const r=document.createElement("button");r.type="button",r.classList.add("driver-popover-close-btn"),r.setAttribute("aria-label","Close"),r.innerHTML="&times;";const o=document.createElement("footer");o.classList.add("driver-popover-footer");const l=document.createElement("span");l.classList.add("driver-popover-progress-text"),l.innerText="";const s=document.createElement("span");s.classList.add("driver-popover-navigation-btns");const a=document.createElement("button");a.type="button",a.classList.add("driver-popover-prev-btn"),a.innerHTML="&larr; Previous";const u=document.createElement("button");return u.type="button",u.classList.add("driver-popover-next-btn"),u.innerHTML="Next &rarr;",s.appendChild(a),s.appendChild(u),o.appendChild(l),o.appendChild(s),t.appendChild(r),t.appendChild(e),t.appendChild(n),t.appendChild(i),t.appendChild(o),{wrapper:t,arrow:e,title:n,description:i,footer:o,previousButton:a,nextButton:u,closeButton:r,footerButtons:s,progress:l}}function xl(){var t;const e=U("popover");e&&((t=e.wrapper.parentElement)==null||t.removeChild(e.wrapper))}function Rl(t={}){Nt(t);function e(){G("allowClose")&&u()}function n(){const f=U("activeIndex"),c=G("steps")||[];if(typeof f>"u")return;const d=f+1;c[d]?a(d):u()}function i(){const f=U("activeIndex"),c=G("steps")||[];if(typeof f>"u")return;const d=f-1;c[d]?a(d):u()}function r(f){(G("steps")||[])[f]?a(f):u()}function o(){var f;if(U("__transitionCallback"))return;const c=U("activeIndex"),d=U("__activeStep"),m=U("__activeElement");if(typeof c>"u"||typeof d>"u"||typeof U("activeIndex")>"u")return;const h=((f=d.popover)==null?void 0:f.onPrevClick)||G("onPrevClick");if(h)return h(m,d,{config:G(),state:U()});i()}function l(){var f;if(U("__transitionCallback"))return;const c=U("activeIndex"),d=U("__activeStep"),m=U("__activeElement");if(typeof c>"u"||typeof d>"u")return;const h=((f=d.popover)==null?void 0:f.onNextClick)||G("onNextClick");if(h)return h(m,d,{config:G(),state:U()});n()}function s(){U("isInitialized")||(He("isInitialized",!0),document.body.classList.add("driver-active",G("animate")?"driver-fade":"driver-simple"),Ll(),ei("overlayClick",e),ei("escapePress",e),ei("arrowLeftPress",o),ei("arrowRightPress",l))}function a(f=0){var c,d,m,h,g,v,y,_;const D=G("steps");if(!D){console.error("No steps to drive through"),u();return}if(!D[f]){u();return}He("__activeOnDestroyed",document.activeElement),He("activeIndex",f);const p=D[f],C=D[f+1],E=D[f-1],A=((c=p.popover)==null?void 0:c.doneBtnText)||G("doneBtnText")||"Done",S=G("allowClose"),b=typeof((d=p.popover)==null?void 0:d.showProgress)<"u"?(m=p.popover)==null?void 0:m.showProgress:G("showProgress"),O=(((h=p.popover)==null?void 0:h.progressText)||G("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${f+1}`).replace("{{total}}",`${D.length}`),L=((g=p.popover)==null?void 0:g.showButtons)||G("showButtons"),N=["next","previous",...S?["close"]:[]].filter(H=>!(L!=null&&L.length)||L.includes(H)),z=((v=p.popover)==null?void 0:v.onNextClick)||G("onNextClick"),K=((y=p.popover)==null?void 0:y.onPrevClick)||G("onPrevClick"),M=((_=p.popover)==null?void 0:_.onCloseClick)||G("onCloseClick");Hr({...p,popover:{showButtons:N,nextBtnText:C?void 0:A,disableButtons:[...E?[]:["previous"]],showProgress:b,progressText:O,onNextClick:z||(()=>{C?a(f+1):u()}),onPrevClick:K||(()=>{a(f-1)}),onCloseClick:M||(()=>{u()}),...(p==null?void 0:p.popover)||{}}})}function u(f=!0){const c=U("__activeElement"),d=U("__activeStep"),m=U("__activeOnDestroyed"),h=G("onDestroyStarted");if(f&&h){const y=!c||(c==null?void 0:c.id)==="driver-dummy-element";h(y?void 0:c,d,{config:G(),state:U()});return}const g=(d==null?void 0:d.onDeselected)||G("onDeselected"),v=G("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),Pl(),xl(),Ol(),kl(),yl(),xr(),c&&d){const y=c.id==="driver-dummy-element";g&&g(y?void 0:c,d,{config:G(),state:U()}),v&&v(y?void 0:c,d,{config:G(),state:U()})}m&&m.focus()}return{isActive:()=>U("isInitialized")||!1,refresh:En,drive:(f=0)=>{s(),a(f)},setConfig:Nt,setSteps:f=>{xr(),Nt({...G(),steps:f})},getConfig:G,getState:U,getActiveIndex:()=>U("activeIndex"),isFirstStep:()=>U("activeIndex")===0,isLastStep:()=>{const f=G("steps")||[],c=U("activeIndex");return c!==void 0&&c===f.length-1},getActiveStep:()=>U("activeStep"),getActiveElement:()=>U("activeElement"),getPreviousElement:()=>U("previousElement"),getPreviousStep:()=>U("previousStep"),moveNext:n,movePrevious:i,moveTo:r,hasNextStep:()=>{const f=G("steps")||[],c=U("activeIndex");return c!==void 0&&f[c+1]},hasPreviousStep:()=>{const f=G("steps")||[],c=U("activeIndex");return c!==void 0&&f[c-1]},highlight:f=>{s(),Hr({...f,popover:f.popover?{showButtons:[],showProgress:!1,progressText:"",...f.popover}:void 0})},destroy:()=>{u(!1)}}}var $e="top",lt="bottom",st="right",et="left",Fi="auto",Dn=[$e,lt,st,et],en="start",kn="end",Bl="clippingParents",Xr="viewport",Sn="popper",Fl="reference",Yr=Dn.reduce(function(t,e){return t.concat([e+"-"+en,e+"-"+kn])},[]),Jr=[].concat(Dn,[Fi]).reduce(function(t,e){return t.concat([e,e+"-"+en,e+"-"+kn])},[]),Hl="beforeRead",jl="read",Wl="afterRead",zl="beforeMain",ql="main",Gl="afterMain",Vl="beforeWrite",Ul="write",Xl="afterWrite",Yl=[Hl,jl,Wl,zl,ql,Gl,Vl,Ul,Xl];function wt(t){return t?(t.nodeName||"").toLowerCase():null}function rt(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function qt(t){var e=rt(t).Element;return t instanceof e||t instanceof Element}function ut(t){var e=rt(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Hi(t){if(typeof ShadowRoot>"u")return!1;var e=rt(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Jl(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},o=e.elements[n];!ut(o)||!wt(o)||(Object.assign(o.style,i),Object.keys(r).forEach(function(l){var s=r[l];s===!1?o.removeAttribute(l):o.setAttribute(l,s===!0?"":s)}))})}function Kl(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],o=e.attributes[i]||{},l=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),s=l.reduce(function(a,u){return a[u]="",a},{});!ut(r)||!wt(r)||(Object.assign(r.style,s),Object.keys(o).forEach(function(a){r.removeAttribute(a)}))})}}const Kr={name:"applyStyles",enabled:!0,phase:"write",fn:Jl,effect:Kl,requires:["computeStyles"]};function _t(t){return t.split("-")[0]}var Gt=Math.max,ti=Math.min,tn=Math.round;function ji(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Qr(){return!/^((?!chrome|android).)*safari/i.test(ji())}function nn(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var i=t.getBoundingClientRect(),r=1,o=1;e&&ut(t)&&(r=t.offsetWidth>0&&tn(i.width)/t.offsetWidth||1,o=t.offsetHeight>0&&tn(i.height)/t.offsetHeight||1);var l=qt(t)?rt(t):window,s=l.visualViewport,a=!Qr()&&n,u=(i.left+(a&&s?s.offsetLeft:0))/r,f=(i.top+(a&&s?s.offsetTop:0))/o,c=i.width/r,d=i.height/o;return{width:c,height:d,top:f,right:u+c,bottom:f+d,left:u,x:u,y:f}}function Wi(t){var e=nn(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function Zr(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Hi(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Tt(t){return rt(t).getComputedStyle(t)}function Ql(t){return["table","td","th"].indexOf(wt(t))>=0}function Mt(t){return((qt(t)?t.ownerDocument:t.document)||window.document).documentElement}function ni(t){return wt(t)==="html"?t:t.assignedSlot||t.parentNode||(Hi(t)?t.host:null)||Mt(t)}function $r(t){return!ut(t)||Tt(t).position==="fixed"?null:t.offsetParent}function Zl(t){var e=/firefox/i.test(ji()),n=/Trident/i.test(ji());if(n&&ut(t)){var i=Tt(t);if(i.position==="fixed")return null}var r=ni(t);for(Hi(r)&&(r=r.host);ut(r)&&["html","body"].indexOf(wt(r))<0;){var o=Tt(r);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return r;r=r.parentNode}return null}function Cn(t){for(var e=rt(t),n=$r(t);n&&Ql(n)&&Tt(n).position==="static";)n=$r(n);return n&&(wt(n)==="html"||wt(n)==="body"&&Tt(n).position==="static")?e:n||Zl(t)||e}function zi(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Tn(t,e,n){return Gt(t,ti(e,n))}function $l(t,e,n){var i=Tn(t,e,n);return i>n?n:i}function eo(){return{top:0,right:0,bottom:0,left:0}}function to(t){return Object.assign({},eo(),t)}function no(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var es=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,to(typeof e!="number"?e:no(e,Dn))};function ts(t){var e,n=t.state,i=t.name,r=t.options,o=n.elements.arrow,l=n.modifiersData.popperOffsets,s=_t(n.placement),a=zi(s),u=[et,st].indexOf(s)>=0,f=u?"height":"width";if(!(!o||!l)){var c=es(r.padding,n),d=Wi(o),m=a==="y"?$e:et,h=a==="y"?lt:st,g=n.rects.reference[f]+n.rects.reference[a]-l[a]-n.rects.popper[f],v=l[a]-n.rects.reference[a],y=Cn(o),_=y?a==="y"?y.clientHeight||0:y.clientWidth||0:0,D=g/2-v/2,p=c[m],C=_-d[f]-c[h],E=_/2-d[f]/2+D,A=Tn(p,E,C),S=a;n.modifiersData[i]=(e={},e[S]=A,e.centerOffset=A-E,e)}}function ns(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Zr(e.elements.popper,r)&&(e.elements.arrow=r))}const is={name:"arrow",enabled:!0,phase:"main",fn:ts,effect:ns,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function rn(t){return t.split("-")[1]}var rs={top:"auto",right:"auto",bottom:"auto",left:"auto"};function os(t,e){var n=t.x,i=t.y,r=e.devicePixelRatio||1;return{x:tn(n*r)/r||0,y:tn(i*r)/r||0}}function io(t){var e,n=t.popper,i=t.popperRect,r=t.placement,o=t.variation,l=t.offsets,s=t.position,a=t.gpuAcceleration,u=t.adaptive,f=t.roundOffsets,c=t.isFixed,d=l.x,m=d===void 0?0:d,h=l.y,g=h===void 0?0:h,v=typeof f=="function"?f({x:m,y:g}):{x:m,y:g};m=v.x,g=v.y;var y=l.hasOwnProperty("x"),_=l.hasOwnProperty("y"),D=et,p=$e,C=window;if(u){var E=Cn(n),A="clientHeight",S="clientWidth";if(E===rt(n)&&(E=Mt(n),Tt(E).position!=="static"&&s==="absolute"&&(A="scrollHeight",S="scrollWidth")),E=E,r===$e||(r===et||r===st)&&o===kn){p=lt;var b=c&&E===C&&C.visualViewport?C.visualViewport.height:E[A];g-=b-i.height,g*=a?1:-1}if(r===et||(r===$e||r===lt)&&o===kn){D=st;var O=c&&E===C&&C.visualViewport?C.visualViewport.width:E[S];m-=O-i.width,m*=a?1:-1}}var L=Object.assign({position:s},u&&rs),N=f===!0?os({x:m,y:g},rt(n)):{x:m,y:g};if(m=N.x,g=N.y,a){var z;return Object.assign({},L,(z={},z[p]=_?"0":"",z[D]=y?"0":"",z.transform=(C.devicePixelRatio||1)<=1?"translate("+m+"px, "+g+"px)":"translate3d("+m+"px, "+g+"px, 0)",z))}return Object.assign({},L,(e={},e[p]=_?g+"px":"",e[D]=y?m+"px":"",e.transform="",e))}function as(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,o=n.adaptive,l=o===void 0?!0:o,s=n.roundOffsets,a=s===void 0?!0:s,u={placement:_t(e.placement),variation:rn(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,io(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:l,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,io(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const ls={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:as,data:{}};var ii={passive:!0};function ss(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=r===void 0?!0:r,l=i.resize,s=l===void 0?!0:l,a=rt(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(f){f.addEventListener("scroll",n.update,ii)}),s&&a.addEventListener("resize",n.update,ii),function(){o&&u.forEach(function(f){f.removeEventListener("scroll",n.update,ii)}),s&&a.removeEventListener("resize",n.update,ii)}}const us={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:ss,data:{}};var fs={left:"right",right:"left",bottom:"top",top:"bottom"};function ri(t){return t.replace(/left|right|bottom|top/g,function(e){return fs[e]})}var cs={start:"end",end:"start"};function ro(t){return t.replace(/start|end/g,function(e){return cs[e]})}function qi(t){var e=rt(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function Gi(t){return nn(Mt(t)).left+qi(t).scrollLeft}function ds(t,e){var n=rt(t),i=Mt(t),r=n.visualViewport,o=i.clientWidth,l=i.clientHeight,s=0,a=0;if(r){o=r.width,l=r.height;var u=Qr();(u||!u&&e==="fixed")&&(s=r.offsetLeft,a=r.offsetTop)}return{width:o,height:l,x:s+Gi(t),y:a}}function ps(t){var e,n=Mt(t),i=qi(t),r=(e=t.ownerDocument)==null?void 0:e.body,o=Gt(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),l=Gt(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-i.scrollLeft+Gi(t),a=-i.scrollTop;return Tt(r||n).direction==="rtl"&&(s+=Gt(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:l,x:s,y:a}}function Vi(t){var e=Tt(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function oo(t){return["html","body","#document"].indexOf(wt(t))>=0?t.ownerDocument.body:ut(t)&&Vi(t)?t:oo(ni(t))}function On(t,e){var n;e===void 0&&(e=[]);var i=oo(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),o=rt(i),l=r?[o].concat(o.visualViewport||[],Vi(i)?i:[]):i,s=e.concat(l);return r?s:s.concat(On(ni(l)))}function Ui(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function hs(t,e){var n=nn(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function ao(t,e,n){return e===Xr?Ui(ds(t,n)):qt(e)?hs(e,n):Ui(ps(Mt(t)))}function ms(t){var e=On(ni(t)),n=["absolute","fixed"].indexOf(Tt(t).position)>=0,i=n&&ut(t)?Cn(t):t;return qt(i)?e.filter(function(r){return qt(r)&&Zr(r,i)&&wt(r)!=="body"}):[]}function vs(t,e,n,i){var r=e==="clippingParents"?ms(t):[].concat(e),o=[].concat(r,[n]),l=o[0],s=o.reduce(function(a,u){var f=ao(t,u,i);return a.top=Gt(f.top,a.top),a.right=ti(f.right,a.right),a.bottom=ti(f.bottom,a.bottom),a.left=Gt(f.left,a.left),a},ao(t,l,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function lo(t){var e=t.reference,n=t.element,i=t.placement,r=i?_t(i):null,o=i?rn(i):null,l=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,a;switch(r){case $e:a={x:l,y:e.y-n.height};break;case lt:a={x:l,y:e.y+e.height};break;case st:a={x:e.x+e.width,y:s};break;case et:a={x:e.x-n.width,y:s};break;default:a={x:e.x,y:e.y}}var u=r?zi(r):null;if(u!=null){var f=u==="y"?"height":"width";switch(o){case en:a[u]=a[u]-(e[f]/2-n[f]/2);break;case kn:a[u]=a[u]+(e[f]/2-n[f]/2);break}}return a}function An(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,o=n.strategy,l=o===void 0?t.strategy:o,s=n.boundary,a=s===void 0?Bl:s,u=n.rootBoundary,f=u===void 0?Xr:u,c=n.elementContext,d=c===void 0?Sn:c,m=n.altBoundary,h=m===void 0?!1:m,g=n.padding,v=g===void 0?0:g,y=to(typeof v!="number"?v:no(v,Dn)),_=d===Sn?Fl:Sn,D=t.rects.popper,p=t.elements[h?_:d],C=vs(qt(p)?p:p.contextElement||Mt(t.elements.popper),a,f,l),E=nn(t.elements.reference),A=lo({reference:E,element:D,strategy:"absolute",placement:r}),S=Ui(Object.assign({},D,A)),b=d===Sn?S:E,O={top:C.top-b.top+y.top,bottom:b.bottom-C.bottom+y.bottom,left:C.left-b.left+y.left,right:b.right-C.right+y.right},L=t.modifiersData.offset;if(d===Sn&&L){var N=L[r];Object.keys(O).forEach(function(z){var K=[st,lt].indexOf(z)>=0?1:-1,M=[$e,lt].indexOf(z)>=0?"y":"x";O[z]+=N[M]*K})}return O}function gs(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,l=n.padding,s=n.flipVariations,a=n.allowedAutoPlacements,u=a===void 0?Jr:a,f=rn(i),c=f?s?Yr:Yr.filter(function(h){return rn(h)===f}):Dn,d=c.filter(function(h){return u.indexOf(h)>=0});d.length===0&&(d=c);var m=d.reduce(function(h,g){return h[g]=An(t,{placement:g,boundary:r,rootBoundary:o,padding:l})[_t(g)],h},{});return Object.keys(m).sort(function(h,g){return m[h]-m[g]})}function bs(t){if(_t(t)===Fi)return[];var e=ri(t);return[ro(t),e,ro(e)]}function ys(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,o=r===void 0?!0:r,l=n.altAxis,s=l===void 0?!0:l,a=n.fallbackPlacements,u=n.padding,f=n.boundary,c=n.rootBoundary,d=n.altBoundary,m=n.flipVariations,h=m===void 0?!0:m,g=n.allowedAutoPlacements,v=e.options.placement,y=_t(v),_=y===v,D=a||(_||!h?[ri(v)]:bs(v)),p=[v].concat(D).reduce(function(x,W){return x.concat(_t(W)===Fi?gs(e,{placement:W,boundary:f,rootBoundary:c,padding:u,flipVariations:h,allowedAutoPlacements:g}):W)},[]),C=e.rects.reference,E=e.rects.popper,A=new Map,S=!0,b=p[0],O=0;O<p.length;O++){var L=p[O],N=_t(L),z=rn(L)===en,K=[$e,lt].indexOf(N)>=0,M=K?"width":"height",H=An(e,{placement:L,boundary:f,rootBoundary:c,altBoundary:d,padding:u}),ae=K?z?st:et:z?lt:$e;C[M]>E[M]&&(ae=ri(ae));var fe=ri(ae),Re=[];if(o&&Re.push(H[N]<=0),s&&Re.push(H[ae]<=0,H[fe]<=0),Re.every(function(x){return x})){b=L,S=!1;break}A.set(L,Re)}if(S)for(var Be=h?3:1,Ae=function(W){var Y=p.find(function($){var ie=A.get($);if(ie)return ie.slice(0,W).every(function(oe){return oe})});if(Y)return b=Y,"break"},Ne=Be;Ne>0;Ne--){var B=Ae(Ne);if(B==="break")break}e.placement!==b&&(e.modifiersData[i]._skip=!0,e.placement=b,e.reset=!0)}}const ws={name:"flip",enabled:!0,phase:"main",fn:ys,requiresIfExists:["offset"],data:{_skip:!1}};function so(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function uo(t){return[$e,st,lt,et].some(function(e){return t[e]>=0})}function _s(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,l=An(e,{elementContext:"reference"}),s=An(e,{altBoundary:!0}),a=so(l,i),u=so(s,r,o),f=uo(a),c=uo(u);e.modifiersData[n]={referenceClippingOffsets:a,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:c},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":c})}const Es={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:_s};function Ds(t,e,n){var i=_t(t),r=[et,$e].indexOf(i)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,l=o[0],s=o[1];return l=l||0,s=(s||0)*r,[et,st].indexOf(i)>=0?{x:s,y:l}:{x:l,y:s}}function ks(t){var e=t.state,n=t.options,i=t.name,r=n.offset,o=r===void 0?[0,0]:r,l=Jr.reduce(function(f,c){return f[c]=Ds(c,e.rects,o),f},{}),s=l[e.placement],a=s.x,u=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=u),e.modifiersData[i]=l}const Ss={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:ks};function Cs(t){var e=t.state,n=t.name;e.modifiersData[n]=lo({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const Ts={name:"popperOffsets",enabled:!0,phase:"read",fn:Cs,data:{}};function Os(t){return t==="x"?"y":"x"}function As(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,o=r===void 0?!0:r,l=n.altAxis,s=l===void 0?!1:l,a=n.boundary,u=n.rootBoundary,f=n.altBoundary,c=n.padding,d=n.tether,m=d===void 0?!0:d,h=n.tetherOffset,g=h===void 0?0:h,v=An(e,{boundary:a,rootBoundary:u,padding:c,altBoundary:f}),y=_t(e.placement),_=rn(e.placement),D=!_,p=zi(y),C=Os(p),E=e.modifiersData.popperOffsets,A=e.rects.reference,S=e.rects.popper,b=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,O=typeof b=="number"?{mainAxis:b,altAxis:b}:Object.assign({mainAxis:0,altAxis:0},b),L=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,N={x:0,y:0};if(E){if(o){var z,K=p==="y"?$e:et,M=p==="y"?lt:st,H=p==="y"?"height":"width",ae=E[p],fe=ae+v[K],Re=ae-v[M],Be=m?-S[H]/2:0,Ae=_===en?A[H]:S[H],Ne=_===en?-S[H]:-A[H],B=e.elements.arrow,x=m&&B?Wi(B):{width:0,height:0},W=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:eo(),Y=W[K],$=W[M],ie=Tn(0,A[H],x[H]),oe=D?A[H]/2-Be-ie-Y-O.mainAxis:Ae-ie-Y-O.mainAxis,we=D?-A[H]/2+Be+ie+$+O.mainAxis:Ne+ie+$+O.mainAxis,de=e.elements.arrow&&Cn(e.elements.arrow),We=de?p==="y"?de.clientTop||0:de.clientLeft||0:0,Ce=(z=L==null?void 0:L[p])!=null?z:0,Xe=ae+oe-Ce-We,Qe=ae+we-Ce,It=Tn(m?ti(fe,Xe):fe,ae,m?Gt(Re,Qe):Re);E[p]=It,N[p]=It-ae}if(s){var Qt,bn=p==="x"?$e:et,yn=p==="x"?lt:st,yt=E[C],Ct=C==="y"?"height":"width",Zt=yt+v[bn],I=yt-v[yn],ee=[$e,et].indexOf(y)!==-1,Q=(Qt=L==null?void 0:L[C])!=null?Qt:0,le=ee?Zt:yt-A[Ct]-S[Ct]-Q+O.altAxis,re=ee?yt+A[Ct]+S[Ct]-Q-O.altAxis:I,se=m&&ee?$l(le,yt,re):Tn(m?le:Zt,yt,m?re:I);E[C]=se,N[C]=se-yt}e.modifiersData[i]=N}}const Ls={name:"preventOverflow",enabled:!0,phase:"main",fn:As,requiresIfExists:["offset"]};function Ps(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Is(t){return t===rt(t)||!ut(t)?qi(t):Ps(t)}function Ns(t){var e=t.getBoundingClientRect(),n=tn(e.width)/t.offsetWidth||1,i=tn(e.height)/t.offsetHeight||1;return n!==1||i!==1}function Ms(t,e,n){n===void 0&&(n=!1);var i=ut(e),r=ut(e)&&Ns(e),o=Mt(e),l=nn(t,r,n),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(i||!i&&!n)&&((wt(e)!=="body"||Vi(o))&&(s=Is(e)),ut(e)?(a=nn(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):o&&(a.x=Gi(o))),{x:l.left+s.scrollLeft-a.x,y:l.top+s.scrollTop-a.y,width:l.width,height:l.height}}function xs(t){var e=new Map,n=new Set,i=[];t.forEach(function(o){e.set(o.name,o)});function r(o){n.add(o.name);var l=[].concat(o.requires||[],o.requiresIfExists||[]);l.forEach(function(s){if(!n.has(s)){var a=e.get(s);a&&r(a)}}),i.push(o)}return t.forEach(function(o){n.has(o.name)||r(o)}),i}function Rs(t){var e=xs(t);return Yl.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function Bs(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function Fs(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var fo={placement:"bottom",modifiers:[],strategy:"absolute"};function co(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function Hs(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,o=r===void 0?fo:r;return function(s,a,u){u===void 0&&(u=o);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},fo,o),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},c=[],d=!1,m={state:f,setOptions:function(y){var _=typeof y=="function"?y(f.options):y;g(),f.options=Object.assign({},o,f.options,_),f.scrollParents={reference:qt(s)?On(s):s.contextElement?On(s.contextElement):[],popper:On(a)};var D=Rs(Fs([].concat(i,f.options.modifiers)));return f.orderedModifiers=D.filter(function(p){return p.enabled}),h(),m.update()},forceUpdate:function(){if(!d){var y=f.elements,_=y.reference,D=y.popper;if(co(_,D)){f.rects={reference:Ms(_,Cn(D),f.options.strategy==="fixed"),popper:Wi(D)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(O){return f.modifiersData[O.name]=Object.assign({},O.data)});for(var p=0;p<f.orderedModifiers.length;p++){if(f.reset===!0){f.reset=!1,p=-1;continue}var C=f.orderedModifiers[p],E=C.fn,A=C.options,S=A===void 0?{}:A,b=C.name;typeof E=="function"&&(f=E({state:f,options:S,name:b,instance:m})||f)}}}},update:Bs(function(){return new Promise(function(v){m.forceUpdate(),v(f)})}),destroy:function(){g(),d=!0}};if(!co(s,a))return m;m.setOptions(u).then(function(v){!d&&u.onFirstUpdate&&u.onFirstUpdate(v)});function h(){f.orderedModifiers.forEach(function(v){var y=v.name,_=v.options,D=_===void 0?{}:_,p=v.effect;if(typeof p=="function"){var C=p({state:f,name:y,instance:m,options:D}),E=function(){};c.push(C||E)}})}function g(){c.forEach(function(v){return v()}),c=[]}return m}}var js=[us,Ts,ls,Kr,Ss,ws,Ls,is,Es],Ws=Hs({defaultModifiers:js}),zs="tippy-box",po="tippy-content",qs="tippy-backdrop",ho="tippy-arrow",mo="tippy-svg-arrow",Vt={passive:!0,capture:!0},vo=function(){return document.body};function Xi(t,e,n){if(Array.isArray(t)){var i=t[e];return i??(Array.isArray(n)?n[e]:n)}return t}function Yi(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function go(t,e){return typeof t=="function"?t.apply(void 0,e):t}function bo(t,e){if(e===0)return t;var n;return function(i){clearTimeout(n),n=setTimeout(function(){t(i)},e)}}function Gs(t){return t.split(/\s+/).filter(Boolean)}function on(t){return[].concat(t)}function yo(t,e){t.indexOf(e)===-1&&t.push(e)}function Vs(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function Us(t){return t.split("-")[0]}function oi(t){return[].slice.call(t)}function wo(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function Ln(){return document.createElement("div")}function ai(t){return["Element","Fragment"].some(function(e){return Yi(t,e)})}function Xs(t){return Yi(t,"NodeList")}function Ys(t){return Yi(t,"MouseEvent")}function Js(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function Ks(t){return ai(t)?[t]:Xs(t)?oi(t):Array.isArray(t)?t:oi(document.querySelectorAll(t))}function Ji(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function _o(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function Qs(t){var e,n=on(t),i=n[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Zs(t,e){var n=e.clientX,i=e.clientY;return t.every(function(r){var o=r.popperRect,l=r.popperState,s=r.props,a=s.interactiveBorder,u=Us(l.placement),f=l.modifiersData.offset;if(!f)return!0;var c=u==="bottom"?f.top.y:0,d=u==="top"?f.bottom.y:0,m=u==="right"?f.left.x:0,h=u==="left"?f.right.x:0,g=o.top-i+c>a,v=i-o.bottom-d>a,y=o.left-n+m>a,_=n-o.right-h>a;return g||v||y||_})}function Ki(t,e,n){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){t[i](r,n)})}function Eo(t,e){for(var n=e;n;){var i;if(t.contains(n))return!0;n=n.getRootNode==null||(i=n.getRootNode())==null?void 0:i.host}return!1}var Et={isTouch:!1},Do=0;function $s(){Et.isTouch||(Et.isTouch=!0,window.performance&&document.addEventListener("mousemove",ko))}function ko(){var t=performance.now();t-Do<20&&(Et.isTouch=!1,document.removeEventListener("mousemove",ko)),Do=t}function eu(){var t=document.activeElement;if(Js(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function tu(){document.addEventListener("touchstart",$s,Vt),window.addEventListener("blur",eu)}var nu=typeof window<"u"&&typeof document<"u",iu=nu?!!window.msCrypto:!1,ru={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},ou={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},mt=Object.assign({appendTo:vo,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},ru,ou),au=Object.keys(mt),lu=function(e){var n=Object.keys(e);n.forEach(function(i){mt[i]=e[i]})};function So(t){var e=t.plugins||[],n=e.reduce(function(i,r){var o=r.name,l=r.defaultValue;if(o){var s;i[o]=t[o]!==void 0?t[o]:(s=mt[o])!=null?s:l}return i},{});return Object.assign({},t,n)}function su(t,e){var n=e?Object.keys(So(Object.assign({},mt,{plugins:e}))):au,i=n.reduce(function(r,o){var l=(t.getAttribute("data-tippy-"+o)||"").trim();if(!l)return r;if(o==="content")r[o]=l;else try{r[o]=JSON.parse(l)}catch{r[o]=l}return r},{});return i}function Co(t,e){var n=Object.assign({},e,{content:go(e.content,[t])},e.ignoreAttributes?{}:su(t,e.plugins));return n.aria=Object.assign({},mt.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var uu=function(){return"innerHTML"};function Qi(t,e){t[uu()]=e}function To(t){var e=Ln();return t===!0?e.className=ho:(e.className=mo,ai(t)?e.appendChild(t):Qi(e,t)),e}function Oo(t,e){ai(e.content)?(Qi(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Qi(t,e.content):t.textContent=e.content)}function Zi(t){var e=t.firstElementChild,n=oi(e.children);return{box:e,content:n.find(function(i){return i.classList.contains(po)}),arrow:n.find(function(i){return i.classList.contains(ho)||i.classList.contains(mo)}),backdrop:n.find(function(i){return i.classList.contains(qs)})}}function Ao(t){var e=Ln(),n=Ln();n.className=zs,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var i=Ln();i.className=po,i.setAttribute("data-state","hidden"),Oo(i,t.props),e.appendChild(n),n.appendChild(i),r(t.props,t.props);function r(o,l){var s=Zi(e),a=s.box,u=s.content,f=s.arrow;l.theme?a.setAttribute("data-theme",l.theme):a.removeAttribute("data-theme"),typeof l.animation=="string"?a.setAttribute("data-animation",l.animation):a.removeAttribute("data-animation"),l.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof l.maxWidth=="number"?l.maxWidth+"px":l.maxWidth,l.role?a.setAttribute("role",l.role):a.removeAttribute("role"),(o.content!==l.content||o.allowHTML!==l.allowHTML)&&Oo(u,t.props),l.arrow?f?o.arrow!==l.arrow&&(a.removeChild(f),a.appendChild(To(l.arrow))):a.appendChild(To(l.arrow)):f&&a.removeChild(f)}return{popper:e,onUpdate:r}}Ao.$$tippy=!0;var fu=1,li=[],$i=[];function cu(t,e){var n=Co(t,Object.assign({},mt,So(wo(e)))),i,r,o,l=!1,s=!1,a=!1,u=!1,f,c,d,m=[],h=bo(Xe,n.interactiveDebounce),g,v=fu++,y=null,_=Vs(n.plugins),D={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},p={id:v,reference:t,popper:Ln(),popperInstance:y,props:n,state:D,plugins:_,clearDelayTimeouts:le,setProps:re,setContent:se,show:ve,hide:Te,hideWithInteractivity:Wt,enable:ee,disable:Q,unmount:Mi,destroy:xi};if(!n.render)return p;var C=n.render(p),E=C.popper,A=C.onUpdate;E.setAttribute("data-tippy-root",""),E.id="tippy-"+p.id,p.popper=E,t._tippy=p,E._tippy=p;var S=_.map(function(P){return P.fn(p)}),b=t.hasAttribute("aria-expanded");return de(),Be(),ae(),fe("onCreate",[p]),n.showOnCreate&&Zt(),E.addEventListener("mouseenter",function(){p.props.interactive&&p.state.isVisible&&p.clearDelayTimeouts()}),E.addEventListener("mouseleave",function(){p.props.interactive&&p.props.trigger.indexOf("mouseenter")>=0&&K().addEventListener("mousemove",h)}),p;function O(){var P=p.props.touch;return Array.isArray(P)?P:[P,0]}function L(){return O()[0]==="hold"}function N(){var P;return!!((P=p.props.render)!=null&&P.$$tippy)}function z(){return g||t}function K(){var P=z().parentNode;return P?Qs(P):document}function M(){return Zi(E)}function H(P){return p.state.isMounted&&!p.state.isVisible||Et.isTouch||f&&f.type==="focus"?0:Xi(p.props.delay,P?0:1,mt.delay)}function ae(P){P===void 0&&(P=!1),E.style.pointerEvents=p.props.interactive&&!P?"":"none",E.style.zIndex=""+p.props.zIndex}function fe(P,q,te){if(te===void 0&&(te=!0),S.forEach(function(pe){pe[P]&&pe[P].apply(pe,q)}),te){var ge;(ge=p.props)[P].apply(ge,q)}}function Re(){var P=p.props.aria;if(P.content){var q="aria-"+P.content,te=E.id,ge=on(p.props.triggerTarget||t);ge.forEach(function(pe){var Ze=pe.getAttribute(q);if(p.state.isVisible)pe.setAttribute(q,Ze?Ze+" "+te:te);else{var ht=Ze&&Ze.replace(te,"").trim();ht?pe.setAttribute(q,ht):pe.removeAttribute(q)}})}}function Be(){if(!(b||!p.props.aria.expanded)){var P=on(p.props.triggerTarget||t);P.forEach(function(q){p.props.interactive?q.setAttribute("aria-expanded",p.state.isVisible&&q===z()?"true":"false"):q.removeAttribute("aria-expanded")})}}function Ae(){K().removeEventListener("mousemove",h),li=li.filter(function(P){return P!==h})}function Ne(P){if(!(Et.isTouch&&(a||P.type==="mousedown"))){var q=P.composedPath&&P.composedPath()[0]||P.target;if(!(p.props.interactive&&Eo(E,q))){if(on(p.props.triggerTarget||t).some(function(te){return Eo(te,q)})){if(Et.isTouch||p.state.isVisible&&p.props.trigger.indexOf("click")>=0)return}else fe("onClickOutside",[p,P]);p.props.hideOnClick===!0&&(p.clearDelayTimeouts(),p.hide(),s=!0,setTimeout(function(){s=!1}),p.state.isMounted||Y())}}}function B(){a=!0}function x(){a=!1}function W(){var P=K();P.addEventListener("mousedown",Ne,!0),P.addEventListener("touchend",Ne,Vt),P.addEventListener("touchstart",x,Vt),P.addEventListener("touchmove",B,Vt)}function Y(){var P=K();P.removeEventListener("mousedown",Ne,!0),P.removeEventListener("touchend",Ne,Vt),P.removeEventListener("touchstart",x,Vt),P.removeEventListener("touchmove",B,Vt)}function $(P,q){oe(P,function(){!p.state.isVisible&&E.parentNode&&E.parentNode.contains(E)&&q()})}function ie(P,q){oe(P,q)}function oe(P,q){var te=M().box;function ge(pe){pe.target===te&&(Ki(te,"remove",ge),q())}if(P===0)return q();Ki(te,"remove",c),Ki(te,"add",ge),c=ge}function we(P,q,te){te===void 0&&(te=!1);var ge=on(p.props.triggerTarget||t);ge.forEach(function(pe){pe.addEventListener(P,q,te),m.push({node:pe,eventType:P,handler:q,options:te})})}function de(){L()&&(we("touchstart",Ce,{passive:!0}),we("touchend",Qe,{passive:!0})),Gs(p.props.trigger).forEach(function(P){if(P!=="manual")switch(we(P,Ce),P){case"mouseenter":we("mouseleave",Qe);break;case"focus":we(iu?"focusout":"blur",It);break;case"focusin":we("focusout",It);break}})}function We(){m.forEach(function(P){var q=P.node,te=P.eventType,ge=P.handler,pe=P.options;q.removeEventListener(te,ge,pe)}),m=[]}function Ce(P){var q,te=!1;if(!(!p.state.isEnabled||Qt(P)||s)){var ge=((q=f)==null?void 0:q.type)==="focus";f=P,g=P.currentTarget,Be(),!p.state.isVisible&&Ys(P)&&li.forEach(function(pe){return pe(P)}),P.type==="click"&&(p.props.trigger.indexOf("mouseenter")<0||l)&&p.props.hideOnClick!==!1&&p.state.isVisible?te=!0:Zt(P),P.type==="click"&&(l=!te),te&&!ge&&I(P)}}function Xe(P){var q=P.target,te=z().contains(q)||E.contains(q);if(!(P.type==="mousemove"&&te)){var ge=Ct().concat(E).map(function(pe){var Ze,ht=pe._tippy,wn=(Ze=ht.popperInstance)==null?void 0:Ze.state;return wn?{popperRect:pe.getBoundingClientRect(),popperState:wn,props:n}:null}).filter(Boolean);Zs(ge,P)&&(Ae(),I(P))}}function Qe(P){var q=Qt(P)||p.props.trigger.indexOf("click")>=0&&l;if(!q){if(p.props.interactive){p.hideWithInteractivity(P);return}I(P)}}function It(P){p.props.trigger.indexOf("focusin")<0&&P.target!==z()||p.props.interactive&&P.relatedTarget&&E.contains(P.relatedTarget)||I(P)}function Qt(P){return Et.isTouch?L()!==P.type.indexOf("touch")>=0:!1}function bn(){yn();var P=p.props,q=P.popperOptions,te=P.placement,ge=P.offset,pe=P.getReferenceClientRect,Ze=P.moveTransition,ht=N()?Zi(E).arrow:null,wn=pe?{getBoundingClientRect:pe,contextElement:pe.contextElement||z()}:t,ml={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ri){var _n=Ri.state;if(N()){var bc=M(),Pr=bc.box;["placement","reference-hidden","escaped"].forEach(function(Bi){Bi==="placement"?Pr.setAttribute("data-placement",_n.placement):_n.attributes.popper["data-popper-"+Bi]?Pr.setAttribute("data-"+Bi,""):Pr.removeAttribute("data-"+Bi)}),_n.attributes.popper={}}}},$t=[{name:"offset",options:{offset:ge}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ze}},ml];N()&&ht&&$t.push({name:"arrow",options:{element:ht,padding:3}}),$t.push.apply($t,(q==null?void 0:q.modifiers)||[]),p.popperInstance=Ws(wn,E,Object.assign({},q,{placement:te,onFirstUpdate:d,modifiers:$t}))}function yn(){p.popperInstance&&(p.popperInstance.destroy(),p.popperInstance=null)}function yt(){var P=p.props.appendTo,q,te=z();p.props.interactive&&P===vo||P==="parent"?q=te.parentNode:q=go(P,[te]),q.contains(E)||q.appendChild(E),p.state.isMounted=!0,bn()}function Ct(){return oi(E.querySelectorAll("[data-tippy-root]"))}function Zt(P){p.clearDelayTimeouts(),P&&fe("onTrigger",[p,P]),W();var q=H(!0),te=O(),ge=te[0],pe=te[1];Et.isTouch&&ge==="hold"&&pe&&(q=pe),q?i=setTimeout(function(){p.show()},q):p.show()}function I(P){if(p.clearDelayTimeouts(),fe("onUntrigger",[p,P]),!p.state.isVisible){Y();return}if(!(p.props.trigger.indexOf("mouseenter")>=0&&p.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(P.type)>=0&&l)){var q=H(!1);q?r=setTimeout(function(){p.state.isVisible&&p.hide()},q):o=requestAnimationFrame(function(){p.hide()})}}function ee(){p.state.isEnabled=!0}function Q(){p.hide(),p.state.isEnabled=!1}function le(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(o)}function re(P){if(!p.state.isDestroyed){fe("onBeforeUpdate",[p,P]),We();var q=p.props,te=Co(t,Object.assign({},q,wo(P),{ignoreAttributes:!0}));p.props=te,de(),q.interactiveDebounce!==te.interactiveDebounce&&(Ae(),h=bo(Xe,te.interactiveDebounce)),q.triggerTarget&&!te.triggerTarget?on(q.triggerTarget).forEach(function(ge){ge.removeAttribute("aria-expanded")}):te.triggerTarget&&t.removeAttribute("aria-expanded"),Be(),ae(),A&&A(q,te),p.popperInstance&&(bn(),Ct().forEach(function(ge){requestAnimationFrame(ge._tippy.popperInstance.forceUpdate)})),fe("onAfterUpdate",[p,P])}}function se(P){p.setProps({content:P})}function ve(){var P=p.state.isVisible,q=p.state.isDestroyed,te=!p.state.isEnabled,ge=Et.isTouch&&!p.props.touch,pe=Xi(p.props.duration,0,mt.duration);if(!(P||q||te||ge)&&!z().hasAttribute("disabled")&&(fe("onShow",[p],!1),p.props.onShow(p)!==!1)){if(p.state.isVisible=!0,N()&&(E.style.visibility="visible"),ae(),W(),p.state.isMounted||(E.style.transition="none"),N()){var Ze=M(),ht=Ze.box,wn=Ze.content;Ji([ht,wn],0)}d=function(){var $t;if(!(!p.state.isVisible||u)){if(u=!0,E.offsetHeight,E.style.transition=p.props.moveTransition,N()&&p.props.animation){var Lr=M(),Ri=Lr.box,_n=Lr.content;Ji([Ri,_n],pe),_o([Ri,_n],"visible")}Re(),Be(),yo($i,p),($t=p.popperInstance)==null||$t.forceUpdate(),fe("onMount",[p]),p.props.animation&&N()&&ie(pe,function(){p.state.isShown=!0,fe("onShown",[p])})}},yt()}}function Te(){var P=!p.state.isVisible,q=p.state.isDestroyed,te=!p.state.isEnabled,ge=Xi(p.props.duration,1,mt.duration);if(!(P||q||te)&&(fe("onHide",[p],!1),p.props.onHide(p)!==!1)){if(p.state.isVisible=!1,p.state.isShown=!1,u=!1,l=!1,N()&&(E.style.visibility="hidden"),Ae(),Y(),ae(!0),N()){var pe=M(),Ze=pe.box,ht=pe.content;p.props.animation&&(Ji([Ze,ht],ge),_o([Ze,ht],"hidden"))}Re(),Be(),p.props.animation?N()&&$(ge,p.unmount):p.unmount()}}function Wt(P){K().addEventListener("mousemove",h),yo(li,h),h(P)}function Mi(){p.state.isVisible&&p.hide(),p.state.isMounted&&(yn(),Ct().forEach(function(P){P._tippy.unmount()}),E.parentNode&&E.parentNode.removeChild(E),$i=$i.filter(function(P){return P!==p}),p.state.isMounted=!1,fe("onHidden",[p]))}function xi(){p.state.isDestroyed||(p.clearDelayTimeouts(),p.unmount(),We(),delete t._tippy,p.state.isDestroyed=!0,fe("onDestroy",[p]))}}function Pn(t,e){e===void 0&&(e={});var n=mt.plugins.concat(e.plugins||[]);tu();var i=Object.assign({},e,{plugins:n}),r=Ks(t),o=r.reduce(function(l,s){var a=s&&cu(s,i);return a&&l.push(a),l},[]);return ai(t)?o[0]:o}Pn.defaultProps=mt,Pn.setDefaultProps=lu,Pn.currentInput=Et,Object.assign({},Kr,{effect:function(e){var n=e.state,i={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,i.popper),n.styles=i,n.elements.arrow&&Object.assign(n.elements.arrow.style,i.arrow)}}),Pn.setDefaultProps({render:Ao});function Me(){}const Lo=t=>t;function In(t,e){for(const n in e)t[n]=e[n];return t}function Po(t){return t()}function Io(){return Object.create(null)}function ft(t){t.forEach(Po)}function si(t){return typeof t=="function"}function Le(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let ui;function No(t,e){return t===e?!0:(ui||(ui=document.createElement("a")),ui.href=e,t===ui.href)}function du(t){return Object.keys(t).length===0}function Mo(t,e,n,i){if(t){const r=xo(t,e,n,i);return t[0](r)}}function xo(t,e,n,i){return t[1]&&i?In(n.ctx.slice(),t[1](i(e))):n.ctx}function Ro(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],l=Math.max(e.dirty.length,r.length);for(let s=0;s<l;s+=1)o[s]=e.dirty[s]|r[s];return o}return e.dirty|r}return e.dirty}function Bo(t,e,n,i,r,o){if(r){const l=xo(e,n,i,o);t.p(l,r)}}function Fo(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}const Ho=typeof window<"u";let pu=Ho?()=>window.performance.now():()=>Date.now(),er=Ho?t=>requestAnimationFrame(t):Me;const an=new Set;function jo(t){an.forEach(e=>{e.c(t)||(an.delete(e),e.f())}),an.size!==0&&er(jo)}function hu(t){let e;return an.size===0&&er(jo),{promise:new Promise(n=>{an.add(e={c:t,f:n})}),abort(){an.delete(e)}}}function k(t,e){t.appendChild(e)}function Wo(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function mu(t){const e=T("style");return e.textContent="/* empty */",vu(Wo(t),e),e.sheet}function vu(t,e){return k(t.head||t,e),e.sheet}function X(t,e,n){t.insertBefore(e,n||null)}function V(t){t.parentNode&&t.parentNode.removeChild(t)}function Nn(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function T(t){return document.createElement(t)}function _e(t){return document.createTextNode(t)}function j(){return _e(" ")}function tr(){return _e("")}function he(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function xt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function nr(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function w(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}const gu=["width","height"];function Rt(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const i in e)e[i]==null?t.removeAttribute(i):i==="style"?t.style.cssText=e[i]:i==="__value"?t.value=t[i]=e[i]:n[i]&&n[i].set&&gu.indexOf(i)===-1?t[i]=e[i]:w(t,i,e[i])}function bu(t){return Array.from(t.childNodes)}function Je(t,e){e=""+e,t.data!==e&&(t.data=e)}function be(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function ye(t,e,n){t.classList.toggle(e,!!n)}function zo(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}const fi=new Map;let ci=0;function yu(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function wu(t,e){const n={stylesheet:mu(e),rules:{}};return fi.set(t,n),n}function qo(t,e,n,i,r,o,l,s=0){const a=16.666/i;let u=`{
`;for(let v=0;v<=1;v+=a){const y=e+(n-e)*o(v);u+=v*100+`%{${l(y,1-y)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,c=`__svelte_${yu(f)}_${s}`,d=Wo(t),{stylesheet:m,rules:h}=fi.get(d)||wu(d,t);h[c]||(h[c]=!0,m.insertRule(`@keyframes ${c} ${f}`,m.cssRules.length));const g=t.style.animation||"";return t.style.animation=`${g?`${g}, `:""}${c} ${i}ms linear ${r}ms 1 both`,ci+=1,c}function _u(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),r=n.length-i.length;r&&(t.style.animation=i.join(", "),ci-=r,ci||Eu())}function Eu(){er(()=>{ci||(fi.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&V(e)}),fi.clear())})}let Mn;function xn(t){Mn=t}function di(){if(!Mn)throw new Error("Function called outside component initialization");return Mn}function Rn(t){di().$$.on_mount.push(t)}function Du(t){di().$$.after_update.push(t)}function ir(t){di().$$.on_destroy.push(t)}function rr(){const t=di();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=zo(e,n,{cancelable:i});return r.slice().forEach(l=>{l.call(t,o)}),!o.defaultPrevented}return!0}}const ln=[],je=[];let sn=[];const Go=[],Vo=Promise.resolve();let or=!1;function Uo(){or||(or=!0,Vo.then(Xo))}function un(){return Uo(),Vo}function Bn(t){sn.push(t)}const ar=new Set;let fn=0;function Xo(){if(fn!==0)return;const t=Mn;do{try{for(;fn<ln.length;){const e=ln[fn];fn++,xn(e),ku(e.$$)}}catch(e){throw ln.length=0,fn=0,e}for(xn(null),ln.length=0,fn=0;je.length;)je.pop()();for(let e=0;e<sn.length;e+=1){const n=sn[e];ar.has(n)||(ar.add(n),n())}sn.length=0}while(ln.length);for(;Go.length;)Go.pop()();or=!1,ar.clear(),xn(t)}function ku(t){if(t.fragment!==null){t.update(),ft(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Bn)}}function Su(t){const e=[],n=[];sn.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),sn=e}let Fn;function Cu(){return Fn||(Fn=Promise.resolve(),Fn.then(()=>{Fn=null})),Fn}function lr(t,e,n){t.dispatchEvent(zo(`${e?"intro":"outro"}${n}`))}const pi=new Set;let Ot;function Yo(){Ot={r:0,c:[],p:Ot}}function Jo(){Ot.r||ft(Ot.c),Ot=Ot.p}function xe(t,e){t&&t.i&&(pi.delete(t),t.i(e))}function ze(t,e,n,i){if(t&&t.o){if(pi.has(t))return;pi.add(t),Ot.c.push(()=>{pi.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}const Tu={duration:0};function Ko(t,e,n,i){let o=e(t,n,{direction:"both"}),l=i?0:1,s=null,a=null,u=null,f;function c(){u&&_u(t,u)}function d(h,g){const v=h.b-l;return g*=Math.abs(v),{a:l,b:h.b,d:v,duration:g,start:h.start,end:h.start+g,group:h.group}}function m(h){const{delay:g=0,duration:v=300,easing:y=Lo,tick:_=Me,css:D}=o||Tu,p={start:pu()+g,b:h};h||(p.group=Ot,Ot.r+=1),"inert"in t&&(h?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),s||a?a=p:(D&&(c(),u=qo(t,l,h,v,g,y,D)),h&&_(0,1),s=d(p,v),Bn(()=>lr(t,h,"start")),hu(C=>{if(a&&C>a.start&&(s=d(a,v),a=null,lr(t,s.b,"start"),D&&(c(),u=qo(t,l,s.b,s.duration,0,y,o.css))),s){if(C>=s.end)_(l=s.b,1-l),lr(t,s.b,"end"),a||(s.b?c():--s.group.r||ft(s.group.c)),s=null;else if(C>=s.start){const E=C-s.start;l=s.a+s.d*y(E/s.duration),_(l,1-l)}}return!!(s||a)}))}return{run(h){si(o)?Cu().then(()=>{o=o({direction:h?"in":"out"}),m(h)}):m(h)},end(){c(),s=a=null}}}function Ee(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function Ut(t,e){t.d(1),e.delete(t.key)}function Xt(t,e,n,i,r,o,l,s,a,u,f,c){let d=t.length,m=o.length,h=d;const g={};for(;h--;)g[t[h].key]=h;const v=[],y=new Map,_=new Map,D=[];for(h=m;h--;){const A=c(r,o,h),S=n(A);let b=l.get(S);b?D.push(()=>b.p(A,e)):(b=u(S,A),b.c()),y.set(S,v[h]=b),S in g&&_.set(S,Math.abs(h-g[S]))}const p=new Set,C=new Set;function E(A){xe(A,1),A.m(s,f),l.set(A.key,A),f=A.first,m--}for(;d&&m;){const A=v[m-1],S=t[d-1],b=A.key,O=S.key;A===S?(f=A.first,d--,m--):y.has(O)?!l.has(b)||p.has(b)?E(A):C.has(O)?d--:_.get(b)>_.get(O)?(C.add(b),E(A)):(p.add(O),d--):(a(S,l),d--)}for(;d--;){const A=t[d];y.has(A.key)||a(A,l)}for(;m;)E(v[m-1]);return ft(D),v}function hi(t,e){const n={},i={},r={$$scope:1};let o=t.length;for(;o--;){const l=t[o],s=e[o];if(s){for(const a in l)a in s||(i[a]=1);for(const a in s)r[a]||(n[a]=s[a],r[a]=1);t[o]=s}else for(const a in l)r[a]=1}for(const l in i)l in n||(n[l]=void 0);return n}function vt(t){t&&t.c()}function ct(t,e,n){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),Bn(()=>{const o=t.$$.on_mount.map(Po).filter(si);t.$$.on_destroy?t.$$.on_destroy.push(...o):ft(o),t.$$.on_mount=[]}),r.forEach(Bn)}function dt(t,e){const n=t.$$;n.fragment!==null&&(Su(n.after_update),ft(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ou(t,e){t.$$.dirty[0]===-1&&(ln.push(t),Uo(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function qe(t,e,n,i,r,o,l=null,s=[-1]){const a=Mn;xn(t);const u=t.$$={fragment:null,ctx:[],props:o,update:Me,not_equal:r,bound:Io(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Io(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(c,d,...m)=>{const h=m.length?m[0]:d;return u.ctx&&r(u.ctx[c],u.ctx[c]=h)&&(!u.skip_bound&&u.bound[c]&&u.bound[c](h),f&&Ou(t,c)),d}):[],u.update(),f=!0,ft(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const c=bu(e.target);u.fragment&&u.fragment.l(c),c.forEach(V)}else u.fragment&&u.fragment.c();e.intro&&xe(t.$$.fragment),ct(t,e.target,e.anchor),Xo()}xn(a)}class Ge{constructor(){Ir(this,"$$");Ir(this,"$$set")}$destroy(){dt(this,1),this.$destroy=Me}$on(e,n){if(!si(n))return Me;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!du(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Au="4",cn=[];function Bt(t,e=Me){let n;const i=new Set;function r(s){if(Le(t,s)&&(t=s,n)){const a=!cn.length;for(const u of i)u[1](),cn.push(u,t);if(a){for(let u=0;u<cn.length;u+=2)cn[u][0](cn[u+1]);cn.length=0}}}function o(s){r(s(t))}function l(s,a=Me){const u=[s,a];return i.add(u),i.size===1&&(n=e(r,o)||Me),s(t),()=>{i.delete(u),i.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:l}}const sr=Bt({}),F={setTranslations(t){sr.set(t)},has(t,e,n){let i=!1;return sr.subscribe(r=>{if(n in r&&e in r[n]&&t in r[n][e]){i=!0;return}})(),i},get(t,e,n){let i=n;return sr.subscribe(r=>{if(t in r&&e in r[t]&&n in r[t][e]){i=r[t][e][n];return}if(t in r&&e in r[t]&&n in r[t][e]){i=r[t][e][n];return}if(t=="Global"){i=n;return}i=null})(),i},translate(t,e=null,n=null){n=n||"Global",e=e||"labels";let i=F.get(n,e,t);return i===null&&n!="Global"&&(i=F.get("Global",e,t)),i},translateOption(t,e,n=null){let i=F.translate(e,"options",n);return i===null?"":typeof i=="object"?i[t]:t}},Qo=Bt({}),mi={set(t){Qo.set(t)},get(){let t=null;return Qo.subscribe(e=>{e&&(t=e)})(),t}},ur=Bt(),tt={setNotifier(t){ur.set(t)},notify(t,e=null,n=2e3){ur.subscribe(i=>{i&&i.notify(t,e,2e3)})()},confirm(t=null,e=null,n){ur.subscribe(i=>{if(i){let r=null,o=null,l=null;typeof t=="string"||t instanceof String?(o=t,l=F.translate("Yes")):(t=t||{},o=t.message,l=t.confirmText,r=t.confirmStyle||null),i.confirm(o,{confirmText:l,cancelText:F.translate("Cancel"),confirmStyle:r},e,n)}})()}},vi=Bt(),Dt={setLayoutManager(t){vi.set(t)},resetToDefault(t,e,n,i,r){let o=null;return vi.subscribe(l=>{l&&(o=l.resetToDefault(t,e,n,i,r))})(),o},get:function(t,e,n,i,r,o){let l=null;return vi.subscribe(s=>{s&&(l=s.get(t,e,n,i,r,o))})(),l},set:function(t,e,n,i,r,o){let l=null;return vi.subscribe(s=>{s&&(l=s.set(t,e,n,i,r,o))})(),l}},Zo=Bt(),me={setMetadata(t){Zo.set(t)},get(t){let e=null;return Zo.subscribe(n=>{n&&(e=n.get(t))})(),e}},$o=Bt(),gi={setModelFactory(t){$o.set(t)},create(t,e){$o.subscribe(n=>{n&&n.create(t,e)})()}},ea=Bt(),ta={setConfig(t){ea.set(t)},get(t){let e=null;return ea.subscribe(n=>{n&&(e=n.get(t))})(),e}},Hn=Bt(),Oe={setStorage(t){Hn.set(t)},get(t,e){let n=null;return Hn.subscribe(i=>{i&&(n=i.get(t,e))})(),n},has(t,e){let n=null;return Hn.subscribe(i=>{i&&(n=i.has(t,e))})(),n},clear(t,e){Hn.subscribe(n=>{n&&n.clear(t,e)})()},set(t,e,n){Hn.subscribe(i=>{i&&i.set(t,e,n)})()}};typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Au);function na(t){let e,n,i,r,o,l,s,a,u,f,c,d,m,h,g;function v(D,p){return D[2]?Pu:Lu}let y=v(t),_=y(t);return{c(){e=T("div"),n=T("div"),i=T("div"),r=T("span"),r.textContent=`${F.translate("jobManager")}`,o=j(),l=T("span"),s=T("a"),s.innerHTML='<span aria-hidden="true">×</span>',a=j(),_.c(),u=j(),f=T("a"),f.textContent=`${F.translate("View List")}`,c=j(),d=T("div"),m=T("div"),m.textContent=`${F.translate("Loading...")}`,w(r,"class","panel-heading-title"),w(s,"href","/"),w(s,"class","close svelte-1p6ppx8"),w(f,"href","#Job"),w(f,"title",F.translate("View List")),w(f,"class","qp-view-list svelte-1p6ppx8"),w(l,"class","pull-right"),w(i,"class","panel-heading clearfix"),w(m,"class","list-container"),w(d,"class","panel-body"),w(n,"class","panel panel-default"),w(e,"class","queue-panel-container")},m(D,p){X(D,e,p),k(e,n),k(n,i),k(i,r),k(i,o),k(i,l),k(l,s),k(l,a),_.m(l,null),k(l,u),k(l,f),k(n,c),k(n,d),k(d,m),t[9](e),h||(g=he(s,"click",t[6]),h=!0)},p(D,p){y===(y=v(D))&&_?_.p(D,p):(_.d(1),_=y(D),_&&(_.c(),_.m(l,u)))},d(D){D&&V(e),_.d(),t[9](null),h=!1,g()}}}function Lu(t){let e,n,i;return{c(){e=T("a"),e.textContent=`${F.translate("Pause")}`,w(e,"href","/"),w(e,"title",F.translate("Pause")),w(e,"class","qm-button")},m(r,o){X(r,e,o),n||(i=he(e,"click",t[8]),n=!0)},p:Me,d(r){r&&V(e),n=!1,i()}}}function Pu(t){let e,n,i;return{c(){e=T("a"),e.textContent=`${F.translate("Start")}`,w(e,"href","/"),w(e,"title",F.translate("Start")),w(e,"class","qm-button")},m(r,o){X(r,e,o),n||(i=he(e,"click",t[7]),n=!0)},p:Me,d(r){r&&V(e),n=!1,i()}}}function Iu(t){let e,n=t[0]&&na(t);return{c(){n&&n.c(),e=tr()},m(i,r){n&&n.m(i,r),X(i,e,r)},p(i,[r]){i[0]?n?n.p(i,r):(n=na(i),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:Me,o:Me,d(i){i&&V(e),n&&n.d(i)}}}function Nu(t,e,n){let{isOpen:i=!1}=e,{close:r}=e,{icon:o}=e,l=!1;window.addEventListener("publicDataFetched",h=>{n(2,l=!!h.detail.qmPaused)});let s;function a(h){s&&!s.contains(h.target)&&o&&!o.contains(h.target)&&i===!0&&r()}Rn(()=>{document.addEventListener("click",a)}),ir(()=>{document.removeEventListener("click",a)});async function u(h){let g=mi.get();if(g)try{const v=await fetch("/api/v1/App/action/QueueManagerUpdate",{method:"POST",headers:{"Content-Type":"application/json","Authorization-Token":btoa(g.user.userName+":"+g.token)},body:JSON.stringify({pause:h})});if(!v.ok)throw new Error("Network response was not ok");await v.json(),tt.notify("Done","success")}catch(v){console.error("Error:",v)}}const f=h=>{h.preventDefault(),r()},c=h=>{h.preventDefault(),u(!1)},d=h=>{h.preventDefault(),u(!0)};function m(h){je[h?"unshift":"push"](()=>{s=h,n(3,s)})}return t.$$set=h=>{"isOpen"in h&&n(0,i=h.isOpen),"close"in h&&n(1,r=h.close),"icon"in h&&n(5,o=h.icon)},[i,r,l,s,u,o,f,c,d,m]}class Mu extends Ge{constructor(e){super(),qe(this,e,Nu,Iu,Le,{isOpen:0,close:1,icon:5})}}function ia(t){let e;return{c(){e=T("span"),w(e,"class","fas fa-pause-circle pause-icon")},m(n,i){X(n,e,i)},d(n){n&&V(e)}}}function xu(t){let e,n,i,r,o,l,s,a,u=t[2]&&ia();return o=new Mu({props:{icon:t[0],isOpen:t[1],close:t[4]}}),{c(){e=T("a"),n=T("span"),i=j(),u&&u.c(),r=j(),vt(o.$$.fragment),w(n,"class","fas fa-tasks"),w(e,"href","/"),w(e,"class","notifications-button"),w(e,"title",F.translate("jobManager"))},m(f,c){X(f,e,c),k(e,n),k(e,i),u&&u.m(e,null),t[6](e),X(f,r,c),ct(o,f,c),l=!0,s||(a=he(e,"click",t[7]),s=!0)},p(f,[c]){f[2]?u||(u=ia(),u.c(),u.m(e,null)):u&&(u.d(1),u=null);const d={};c&1&&(d.icon=f[0]),c&2&&(d.isOpen=f[1]),o.$set(d)},i(f){l||(xe(o.$$.fragment,f),l=!0)},o(f){ze(o.$$.fragment,f),l=!1},d(f){f&&(V(e),V(r)),u&&u.d(),t[6](null),dt(o,f),s=!1,a()}}}function Ru(t,e,n){let{renderTable:i=()=>{}}=e,r,o=!1,l=!1;window.addEventListener("publicDataFetched",c=>{n(2,l=!!c.detail.qmPaused)});function s(){o||(n(1,o=!0),i())}function a(){n(1,o=!1),window.dispatchEvent(new Event("jobManagerPanelClosed"))}function u(c){je[c?"unshift":"push"](()=>{r=c,n(0,r)})}const f=c=>{c.preventDefault(),s()};return t.$$set=c=>{"renderTable"in c&&n(5,i=c.renderTable)},[r,o,l,s,a,i,u,f]}class Bu extends Ge{constructor(e){super(),qe(this,e,Ru,xu,Le,{renderTable:5})}}function Fu(t){let e,n=`${t[0]}px`,i=`${t[0]}px`,r=`${t[1]}px`;return{c(){e=T("div"),w(e,"class","loading-icon spinner svelte-yw8t7l"),be(e,"width",n),be(e,"height",i),be(e,"border-width",r)},m(o,l){X(o,e,l)},p(o,[l]){l&1&&n!==(n=`${o[0]}px`)&&be(e,"width",n),l&1&&i!==(i=`${o[0]}px`)&&be(e,"height",i),l&2&&r!==(r=`${o[1]}px`)&&be(e,"border-width",r)},i:Me,o:Me,d(o){o&&V(e)}}}function Hu(t,e,n){let{size:i=40}=e,{thickness:r=4}=e;return t.$$set=o=>{"size"in o&&n(0,i=o.size),"thickness"in o&&n(1,r=o.thickness)},[i,r]}class ju extends Ge{constructor(e){super(),qe(this,e,Hu,Fu,Le,{size:0,thickness:1})}}function ra(t){let e,n;return{c(){e=T("img"),No(e.src,n=t[1])||w(e,"src",n),w(e,"class","logo"),w(e,"alt",t[0])},m(i,r){X(i,e,r)},p(i,r){r&2&&!No(e.src,n=i[1])&&w(e,"src",n),r&1&&w(e,"alt",i[0])},d(i){i&&V(e)}}}function oa(t){let e,n,i;return{c(){e=T("a"),n=T("i"),i=_e("Recovery Instructions"),w(n,"class","fa fa-history svelte-1qmezxs"),w(e,"href",t[2]),w(e,"target","_blank"),w(e,"class","btn btn-default svelte-1qmezxs"),w(e,"role","button"),be(e,"float","right")},m(r,o){X(r,e,o),k(e,n),k(e,i)},p(r,o){o&4&&w(e,"href",r[2])},d(r){r&&V(e)}}}function aa(t){let e,n,i,r,o,l;return{c(){e=T("hr"),n=j(),i=T("pre"),r=_e(t[3]),w(i,"class","logs-container svelte-1qmezxs")},m(s,a){X(s,e,a),X(s,n,a),X(s,i,a),k(i,r),t[11](i),o||(l=he(i,"scroll",t[8]),o=!0)},p(s,a){a&8&&Je(r,s[3])},d(s){s&&(V(e),V(n),V(i)),t[11](null),o=!1,l()}}}function Wu(t){let e,n,i,r,o,l,s,a,u,f,c,d,m,h,g,v,y,_,D=t[4]?"Hide":"Show",p,C,E,A,S,b,O,L,N=t[1]&&ra(t);f=new ju({props:{size:"40",thickness:"5"}});let z=t[2]&&oa(t),K=t[4]&&t[3]&&aa(t);return{c(){e=T("div"),n=T("div"),i=T("div"),N&&N.c(),r=j(),o=T("div"),l=T("div"),s=T("h3"),s.textContent="System is updating...",a=j(),u=T("section"),vt(f.$$.fragment),c=j(),d=T("h5"),m=_e(t[5]),h=j(),g=T("section"),v=T("div"),y=T("button"),_=T("i"),p=_e(D),C=_e(" logs"),A=j(),z&&z.c(),S=j(),K&&K.c(),w(i,"class","logo-container"),w(n,"class","panel-heading"),w(d,"class","svelte-1qmezxs"),w(u,"class","progress-section svelte-1qmezxs"),w(_,"class","fa fa-list svelte-1qmezxs"),w(y,"class","btn btn-default svelte-1qmezxs"),y.disabled=E=!t[3],w(v,"class","buttons"),w(g,"class","logs-section"),w(l,"class","form-group"),w(o,"class","panel-body"),w(e,"id","login"),w(e,"class","panel panel-default panel-updating")},m(M,H){X(M,e,H),k(e,n),k(n,i),N&&N.m(i,null),k(e,r),k(e,o),k(o,l),k(l,s),k(l,a),k(l,u),ct(f,u,null),k(u,c),k(u,d),k(d,m),k(l,h),k(l,g),k(g,v),k(v,y),k(y,_),k(y,p),k(y,C),k(v,A),z&&z.m(v,null),k(g,S),K&&K.m(g,null),b=!0,O||(L=he(y,"click",t[7]),O=!0)},p(M,[H]){M[1]?N?N.p(M,H):(N=ra(M),N.c(),N.m(i,null)):N&&(N.d(1),N=null),(!b||H&32)&&Je(m,M[5]),(!b||H&16)&&D!==(D=M[4]?"Hide":"Show")&&Je(p,D),(!b||H&8&&E!==(E=!M[3]))&&(y.disabled=E),M[2]?z?z.p(M,H):(z=oa(M),z.c(),z.m(v,null)):z&&(z.d(1),z=null),M[4]&&M[3]?K?K.p(M,H):(K=aa(M),K.c(),K.m(g,null)):K&&(K.d(1),K=null)},i(M){b||(xe(f.$$.fragment,M),b=!0)},o(M){ze(f.$$.fragment,M),b=!1},d(M){M&&V(e),N&&N.d(),dt(f),z&&z.d(),K&&K.d(),O=!1,L()}}}function zu(t){return t.replace(/^\d{2,4}.\d{2}.\d{2,4} \d{2}:\d{2}:\d{2}/g,"").replace(/^[\-\|\s]+/,"")}function qu(t,e,n){let{applicationName:i="AtroCore"}=e,{logoPath:r=null}=e,{logFilePath:o}=e,{restoreLink:l=null}=e,s=!1,a=!1,u=0,f=!0,c="",d,m;Du(()=>{m&&f&&m.scrollTo(0,m.scrollHeight)});function h(){n(4,s=!s),s||(f=!0)}function g(y){const _=y.currentTarget;f=_.scrollHeight-_.scrollTop===_.clientHeight}setInterval(async()=>{try{const y=await fetch(o,{cache:"no-store"});u+=1,y.ok?(n(3,c=(await y.text()).trim()),c.search("composer")>=0&&n(10,a=!0),u>65&&!a&&n(3,c="Something wrong. Please, reboot the server.")):a?setTimeout(()=>{location.reload()},2e3):u>65&&n(3,c="Something wrong. Please, reboot the server.")}catch(y){console.error("Error: ",y)}},1e3);function v(y){je[y?"unshift":"push"](()=>{m=y,n(6,m)})}return t.$$set=y=>{"applicationName"in y&&n(0,i=y.applicationName),"logoPath"in y&&n(1,r=y.logoPath),"logFilePath"in y&&n(9,o=y.logFilePath),"restoreLink"in y&&n(2,l=y.restoreLink)},t.$$.update=()=>{if(t.$$.dirty&1032)if(c){const y=c.trim().split(`
`);n(5,d=zu(y.pop()))}else a?n(5,d=""):n(5,d="Starting...")},[i,r,l,c,s,d,m,h,g,o,a,v]}class Gu extends Ge{constructor(e){super(),qe(this,e,qu,Wu,Le,{applicationName:0,logoPath:1,logFilePath:9,restoreLink:2})}}function la(t,e,n){const i=t.slice();return i[20]=e[n],i}function sa(t){let e,n=t[20].label+"",i,r,o,l,s,a;function u(){return t[12](t[20])}return{c(){e=T("button"),i=_e(n),r=j(),w(e,"data-action",o=t[20].name),e.disabled=t[1],w(e,"type","button"),w(e,"class",l=`btn action btn-${t[20].style??"default"}`)},m(f,c){X(f,e,c),k(e,i),k(e,r),s||(a=he(e,"click",u),s=!0)},p(f,c){t=f,c&1&&n!==(n=t[20].label+"")&&Je(i,n),c&1&&o!==(o=t[20].name)&&w(e,"data-action",o),c&2&&(e.disabled=t[1]),c&1&&l!==(l=`btn action btn-${t[20].style??"default"}`)&&w(e,"class",l)},d(f){f&&V(e),s=!1,a()}}}function Vu(t){let e,n,i,r=Ee(t[0]),o=[];for(let a=0;a<r.length;a+=1)o[a]=sa(la(t,r,a));const l=t[11].default,s=Mo(l,t,t[10],null);return{c(){e=T("div");for(let a=0;a<o.length;a+=1)o[a].c();n=j(),s&&s.c(),w(e,"class","button-container"),be(e,"padding-top","10px")},m(a,u){X(a,e,u);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);t[13](e),X(a,n,u),s&&s.m(a,u),i=!0},p(a,[u]){if(u&11){r=Ee(a[0]);let f;for(f=0;f<r.length;f+=1){const c=la(a,r,f);o[f]?o[f].p(c,u):(o[f]=sa(c),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=r.length}s&&s.p&&(!i||u&1024)&&Bo(s,l,a,a[10],i?Ro(l,a[10],u,null):Fo(a[10]),null)},i(a){i||(xe(s,a),i=!0)},o(a){ze(s,a),i=!1},d(a){a&&(V(e),V(n)),Nn(o,a),t[13](null),s&&s.d(a)}}}function Uu(t,e,n){let{$$slots:i={},$$scope:r}=e;const o=rr();let{params:l}=e,{fetch:s}=e,a,{loadLayout:u=()=>{Dt.get(scope,type,layoutProfileId,E=>{n(9,a=E.layout)},!1)}}=e,{validate:f=()=>!0}=e,c=!1,d=[],m;l.layoutProfiles,Rn(async()=>{var A;await h(),await un(),o("ready");const E=document.querySelector("#layout-buttons");m&&E&&(l.inModal||l.replaceButtons)&&((A=E.closest(".modal-body"))==null||A.classList.add("modal-layout-manager"),E.appendChild(m))});async function h(){return tt.notify("Loading..."),new Promise((E,A)=>{u(S=>{n(9,a=S),tt.notify(!1),E(),l.afterRender&&l.afterRender()})})}function g(){n(1,c=!0);const E=s();if(!f(E)){n(1,c=!1);return}if(tt.notify("Saving..."),l.inModal&&!l.getActiveLayoutProfileId()){v(!0);return}Dt.set(l.scope,l.type,l.relatedScope,l.layoutProfileId,E,()=>{tt.notify("Saved","success",2e3),v(!1),n(1,c=!1),l.inModal||u()})}function v(E){l.onUpdate&&l.onUpdate(E)}function y(){u()}function _(){tt.confirm("Are you sure you want to reset this layout?",()=>{var E;Dt.resetToDefault(l.scope,l.type,l.relatedScope,(E=a.storedProfile)==null?void 0:E.id,()=>{v(!0),y()})})}function D(E){switch(E.name){case"save":g();break;case"cancel":y();break;case"reset":_();break;case"fullEdit":window.open(`#Admin/layouts/scope=${l.scope}&type=${l.type}${l.relatedScope?"&relatedScope="+l.relatedScope:""}${l.layoutProfileId?"&layoutProfileId="+l.layoutProfileId:""}`,"_blank");break}}const p=E=>D(E);function C(E){je[E?"unshift":"push"](()=>{m=E,n(2,m)})}return t.$$set=E=>{"params"in E&&n(4,l=E.params),"fetch"in E&&n(5,s=E.fetch),"loadLayout"in E&&n(6,u=E.loadLayout),"validate"in E&&n(7,f=E.validate),"$$scope"in E&&n(10,r=E.$$scope)},t.$$.update=()=>{if(t.$$.dirty&529){if(n(0,d=[{name:"cancel",label:F.translate("Cancel","labels")}]),l.inModal){let E=mi.get();E&&E.user&&E.user.isAdmin&&d.push({name:"fullEdit",label:F.translate("Full Edit","labels","LayoutManager")})}(!l.inModal||a!=null&&a.canEdit)&&d.unshift({name:"save",label:F.translate("Save","labels"),style:"primary"}),a&&a.storedProfile&&a.storedProfile.id===l.layoutProfileId&&a.canEdit&&d.push({name:"reset",label:F.translate("reset","labels","LayoutManager")})}},[d,c,m,D,l,s,u,f,g,a,r,i,p,C]}let ua=class extends Ge{constructor(e){super(),qe(this,e,Uu,Vu,Le,{params:4,fetch:5,loadLayout:6,validate:7,save:8})}get save(){return this.$$.ctx[8]}};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function fa(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function kt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fa(Object(n),!0).forEach(function(i){Xu(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fa(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function bi(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?bi=function(e){return typeof e}:bi=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bi(t)}function Xu(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function At(){return At=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},At.apply(this,arguments)}function Yu(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,o;for(o=0;o<i.length;o++)r=i[o],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function Ju(t,e){if(t==null)return{};var n=Yu(t,e),i,r;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)i=o[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}var Ku="1.15.6";function Lt(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Pt=Lt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),jn=Lt(/Edge/i),ca=Lt(/firefox/i),Wn=Lt(/safari/i)&&!Lt(/chrome/i)&&!Lt(/android/i),fr=Lt(/iP(ad|od|hone)/i),da=Lt(/chrome/i)&&Lt(/android/i),pa={capture:!1,passive:!1};function ce(t,e,n){t.addEventListener(e,n,!Pt&&pa)}function ue(t,e,n){t.removeEventListener(e,n,!Pt&&pa)}function yi(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function ha(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function gt(t,e,n,i){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&yi(t,e):yi(t,e))||i&&t===n)return t;if(t===n)break}while(t=ha(t))}return null}var ma=/\s+/g;function ot(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var i=(" "+t.className+" ").replace(ma," ").replace(" "+e+" "," ");t.className=(i+(n?" "+e:"")).replace(ma," ")}}function Z(t,e,n){var i=t&&t.style;if(i){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=n+(typeof n=="string"?"":"px")}}function dn(t,e){var n="";if(typeof t=="string")n=t;else do{var i=Z(t,"transform");i&&i!=="none"&&(n=i+" "+n)}while(!e&&(t=t.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(n)}function va(t,e,n){if(t){var i=t.getElementsByTagName(e),r=0,o=i.length;if(n)for(;r<o;r++)n(i[r],r);return i}return[]}function St(){var t=document.scrollingElement;return t||document.documentElement}function Pe(t,e,n,i,r){if(!(!t.getBoundingClientRect&&t!==window)){var o,l,s,a,u,f,c;if(t!==window&&t.parentNode&&t!==St()?(o=t.getBoundingClientRect(),l=o.top,s=o.left,a=o.bottom,u=o.right,f=o.height,c=o.width):(l=0,s=0,a=window.innerHeight,u=window.innerWidth,f=window.innerHeight,c=window.innerWidth),(e||n)&&t!==window&&(r=r||t.parentNode,!Pt))do if(r&&r.getBoundingClientRect&&(Z(r,"transform")!=="none"||n&&Z(r,"position")!=="static")){var d=r.getBoundingClientRect();l-=d.top+parseInt(Z(r,"border-top-width")),s-=d.left+parseInt(Z(r,"border-left-width")),a=l+o.height,u=s+o.width;break}while(r=r.parentNode);if(i&&t!==window){var m=dn(r||t),h=m&&m.a,g=m&&m.d;m&&(l/=g,s/=h,c/=h,f/=g,a=l+f,u=s+c)}return{top:l,left:s,bottom:a,right:u,width:c,height:f}}}function ga(t,e,n){for(var i=Ft(t,!0),r=Pe(t)[e];i;){var o=Pe(i)[n],l=void 0;if(l=r>=o,!l)return i;if(i===St())break;i=Ft(i,!1)}return!1}function pn(t,e,n,i){for(var r=0,o=0,l=t.children;o<l.length;){if(l[o].style.display!=="none"&&l[o]!==J.ghost&&(i||l[o]!==J.dragged)&&gt(l[o],n.draggable,t,!1)){if(r===e)return l[o];r++}o++}return null}function cr(t,e){for(var n=t.lastElementChild;n&&(n===J.ghost||Z(n,"display")==="none"||e&&!yi(n,e));)n=n.previousElementSibling;return n||null}function pt(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==J.clone&&(!e||yi(t,e))&&n++;return n}function ba(t){var e=0,n=0,i=St();if(t)do{var r=dn(t),o=r.a,l=r.d;e+=t.scrollLeft*o,n+=t.scrollTop*l}while(t!==i&&(t=t.parentNode));return[e,n]}function Qu(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n)}return-1}function Ft(t,e){if(!t||!t.getBoundingClientRect)return St();var n=t,i=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var r=Z(n);if(n.clientWidth<n.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return St();if(i||e)return n;i=!0}}while(n=n.parentNode);return St()}function Zu(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function dr(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var zn;function ya(t,e){return function(){if(!zn){var n=arguments,i=this;n.length===1?t.call(i,n[0]):t.apply(i,n),zn=setTimeout(function(){zn=void 0},e)}}}function $u(){clearTimeout(zn),zn=void 0}function wa(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function _a(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Ea(t,e,n){var i={};return Array.from(t.children).forEach(function(r){var o,l,s,a;if(!(!gt(r,e.draggable,t,!1)||r.animated||r===n)){var u=Pe(r);i.left=Math.min((o=i.left)!==null&&o!==void 0?o:1/0,u.left),i.top=Math.min((l=i.top)!==null&&l!==void 0?l:1/0,u.top),i.right=Math.max((s=i.right)!==null&&s!==void 0?s:-1/0,u.right),i.bottom=Math.max((a=i.bottom)!==null&&a!==void 0?a:-1/0,u.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var nt="Sortable"+new Date().getTime();function ef(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(Z(r,"display")==="none"||r===J.ghost)){t.push({target:r,rect:Pe(r)});var o=kt({},t[t.length-1].rect);if(r.thisAnimationDuration){var l=dn(r,!0);l&&(o.top-=l.f,o.left-=l.e)}r.fromRect=o}})}},addAnimationState:function(i){t.push(i)},removeAnimationState:function(i){t.splice(Qu(t,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var o=!1,l=0;t.forEach(function(s){var a=0,u=s.target,f=u.fromRect,c=Pe(u),d=u.prevFromRect,m=u.prevToRect,h=s.rect,g=dn(u,!0);g&&(c.top-=g.f,c.left-=g.e),u.toRect=c,u.thisAnimationDuration&&dr(d,c)&&!dr(f,c)&&(h.top-c.top)/(h.left-c.left)===(f.top-c.top)/(f.left-c.left)&&(a=nf(h,d,m,r.options)),dr(c,f)||(u.prevFromRect=f,u.prevToRect=c,a||(a=r.options.animation),r.animate(u,h,c,a)),a&&(o=!0,l=Math.max(l,a),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},a),u.thisAnimationDuration=a)}),clearTimeout(e),o?e=setTimeout(function(){typeof i=="function"&&i()},l):typeof i=="function"&&i(),t=[]},animate:function(i,r,o,l){if(l){Z(i,"transition",""),Z(i,"transform","");var s=dn(this.el),a=s&&s.a,u=s&&s.d,f=(r.left-o.left)/(a||1),c=(r.top-o.top)/(u||1);i.animatingX=!!f,i.animatingY=!!c,Z(i,"transform","translate3d("+f+"px,"+c+"px,0)"),this.forRepaintDummy=tf(i),Z(i,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),Z(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){Z(i,"transition",""),Z(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},l)}}}}function tf(t){return t.offsetWidth}function nf(t,e,n,i){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*i.animation}var hn=[],pr={initializeByDefault:!0},qn={mount:function(e){for(var n in pr)pr.hasOwnProperty(n)&&!(n in e)&&(e[n]=pr[n]);hn.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),hn.push(e)},pluginEvent:function(e,n,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var o=e+"Global";hn.forEach(function(l){n[l.pluginName]&&(n[l.pluginName][o]&&n[l.pluginName][o](kt({sortable:n},i)),n.options[l.pluginName]&&n[l.pluginName][e]&&n[l.pluginName][e](kt({sortable:n},i)))})},initializePlugins:function(e,n,i,r){hn.forEach(function(s){var a=s.pluginName;if(!(!e.options[a]&&!s.initializeByDefault)){var u=new s(e,n,e.options);u.sortable=e,u.options=e.options,e[a]=u,At(i,u.defaults)}});for(var o in e.options)if(e.options.hasOwnProperty(o)){var l=this.modifyOption(e,o,e.options[o]);typeof l<"u"&&(e.options[o]=l)}},getEventProperties:function(e,n){var i={};return hn.forEach(function(r){typeof r.eventProperties=="function"&&At(i,r.eventProperties.call(n[r.pluginName],e))}),i},modifyOption:function(e,n,i){var r;return hn.forEach(function(o){e[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(r=o.optionListeners[n].call(e[o.pluginName],i))}),r}};function rf(t){var e=t.sortable,n=t.rootEl,i=t.name,r=t.targetEl,o=t.cloneEl,l=t.toEl,s=t.fromEl,a=t.oldIndex,u=t.newIndex,f=t.oldDraggableIndex,c=t.newDraggableIndex,d=t.originalEvent,m=t.putSortable,h=t.extraEventProperties;if(e=e||n&&n[nt],!!e){var g,v=e.options,y="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Pt&&!jn?g=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(i,!0,!0)),g.to=l||n,g.from=s||n,g.item=r||n,g.clone=o,g.oldIndex=a,g.newIndex=u,g.oldDraggableIndex=f,g.newDraggableIndex=c,g.originalEvent=d,g.pullMode=m?m.lastPutMode:void 0;var _=kt(kt({},h),qn.getEventProperties(i,e));for(var D in _)g[D]=_[D];n&&n.dispatchEvent(g),v[y]&&v[y].call(e,g)}}var of=["evt"],it=function(e,n){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,o=Ju(i,of);qn.pluginEvent.bind(J)(e,n,kt({dragEl:R,parentEl:Se,ghostEl:ne,rootEl:De,nextEl:Yt,lastDownEl:wi,cloneEl:ke,cloneHidden:Ht,dragStarted:Vn,putSortable:Ve,activeSortable:J.active,originalEvent:r,oldIndex:mn,oldDraggableIndex:Gn,newIndex:at,newDraggableIndex:jt,hideGhostForTarget:Aa,unhideGhostForTarget:La,cloneNowHidden:function(){Ht=!0},cloneNowShown:function(){Ht=!1},dispatchSortableEvent:function(s){Ke({sortable:n,name:s,originalEvent:r})}},o))};function Ke(t){rf(kt({putSortable:Ve,cloneEl:ke,targetEl:R,rootEl:De,oldIndex:mn,oldDraggableIndex:Gn,newIndex:at,newDraggableIndex:jt},t))}var R,Se,ne,De,Yt,wi,ke,Ht,mn,at,Gn,jt,_i,Ve,vn=!1,Ei=!1,Di=[],Jt,bt,hr,mr,Da,ka,Vn,gn,Un,Xn=!1,ki=!1,Si,Ue,vr=[],gr=!1,Ci=[],Ti=typeof document<"u",Oi=fr,Sa=jn||Pt?"cssFloat":"float",af=Ti&&!da&&!fr&&"draggable"in document.createElement("div"),Ca=function(){if(Ti){if(Pt)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}}(),Ta=function(e,n){var i=Z(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),o=pn(e,0,n),l=pn(e,1,n),s=o&&Z(o),a=l&&Z(l),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Pe(o).width,f=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Pe(l).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&s.float&&s.float!=="none"){var c=s.float==="left"?"left":"right";return l&&(a.clear==="both"||a.clear===c)?"vertical":"horizontal"}return o&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=r&&i[Sa]==="none"||l&&i[Sa]==="none"&&u+f>r)?"vertical":"horizontal"},lf=function(e,n,i){var r=i?e.left:e.top,o=i?e.right:e.bottom,l=i?e.width:e.height,s=i?n.left:n.top,a=i?n.right:n.bottom,u=i?n.width:n.height;return r===s||o===a||r+l/2===s+u/2},sf=function(e,n){var i;return Di.some(function(r){var o=r[nt].options.emptyInsertThreshold;if(!(!o||cr(r))){var l=Pe(r),s=e>=l.left-o&&e<=l.right+o,a=n>=l.top-o&&n<=l.bottom+o;if(s&&a)return i=r}}),i},Oa=function(e){function n(o,l){return function(s,a,u,f){var c=s.options.group.name&&a.options.group.name&&s.options.group.name===a.options.group.name;if(o==null&&(l||c))return!0;if(o==null||o===!1)return!1;if(l&&o==="clone")return o;if(typeof o=="function")return n(o(s,a,u,f),l)(s,a,u,f);var d=(l?s:a).options.group.name;return o===!0||typeof o=="string"&&o===d||o.join&&o.indexOf(d)>-1}}var i={},r=e.group;(!r||bi(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=n(r.pull,!0),i.checkPut=n(r.put),i.revertClone=r.revertClone,e.group=i},Aa=function(){!Ca&&ne&&Z(ne,"display","none")},La=function(){!Ca&&ne&&Z(ne,"display","")};Ti&&!da&&document.addEventListener("click",function(t){if(Ei)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Ei=!1,!1},!0);var Kt=function(e){if(R){e=e.touches?e.touches[0]:e;var n=sf(e.clientX,e.clientY);if(n){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=n,i.preventDefault=void 0,i.stopPropagation=void 0,n[nt]._onDragOver(i)}}},uf=function(e){R&&R.parentNode[nt]._isOutsideThisEl(e.target)};function J(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=At({},e),t[nt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ta(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,s){l.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:J.supportPointer!==!1&&"PointerEvent"in window&&(!Wn||fr),emptyInsertThreshold:5};qn.initializePlugins(this,t,n);for(var i in n)!(i in e)&&(e[i]=n[i]);Oa(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:af,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?ce(t,"pointerdown",this._onTapStart):(ce(t,"mousedown",this._onTapStart),ce(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(ce(t,"dragover",this),ce(t,"dragenter",this)),Di.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),At(this,ef())}J.prototype={constructor:J,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(gn=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,R):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,r=this.options,o=r.preventOnFilter,l=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(s||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,f=r.filter;if(gf(i),!R&&!(/mousedown|pointerdown/.test(l)&&e.button!==0||r.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Wn&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=gt(a,r.draggable,i,!1),!(a&&a.animated)&&wi!==a)){if(mn=pt(a),Gn=pt(a,r.draggable),typeof f=="function"){if(f.call(this,e,a,this)){Ke({sortable:n,rootEl:u,name:"filter",targetEl:a,toEl:i,fromEl:i}),it("filter",n,{evt:e}),o&&e.preventDefault();return}}else if(f&&(f=f.split(",").some(function(c){if(c=gt(u,c.trim(),i,!1),c)return Ke({sortable:n,rootEl:c,name:"filter",targetEl:a,fromEl:i,toEl:i}),it("filter",n,{evt:e}),!0}),f)){o&&e.preventDefault();return}r.handle&&!gt(u,r.handle,i,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,n,i){var r=this,o=r.el,l=r.options,s=o.ownerDocument,a;if(i&&!R&&i.parentNode===o){var u=Pe(i);if(De=o,R=i,Se=R.parentNode,Yt=R.nextSibling,wi=i,_i=l.group,J.dragged=R,Jt={target:R,clientX:(n||e).clientX,clientY:(n||e).clientY},Da=Jt.clientX-u.left,ka=Jt.clientY-u.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,R.style["will-change"]="all",a=function(){if(it("delayEnded",r,{evt:e}),J.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!ca&&r.nativeDraggable&&(R.draggable=!0),r._triggerDragStart(e,n),Ke({sortable:r,name:"choose",originalEvent:e}),ot(R,l.chosenClass,!0)},l.ignore.split(",").forEach(function(f){va(R,f.trim(),br)}),ce(s,"dragover",Kt),ce(s,"mousemove",Kt),ce(s,"touchmove",Kt),l.supportPointer?(ce(s,"pointerup",r._onDrop),!this.nativeDraggable&&ce(s,"pointercancel",r._onDrop)):(ce(s,"mouseup",r._onDrop),ce(s,"touchend",r._onDrop),ce(s,"touchcancel",r._onDrop)),ca&&this.nativeDraggable&&(this.options.touchStartThreshold=4,R.draggable=!0),it("delayStart",this,{evt:e}),l.delay&&(!l.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(jn||Pt))){if(J.eventCanceled){this._onDrop();return}l.supportPointer?(ce(s,"pointerup",r._disableDelayedDrag),ce(s,"pointercancel",r._disableDelayedDrag)):(ce(s,"mouseup",r._disableDelayedDrag),ce(s,"touchend",r._disableDelayedDrag),ce(s,"touchcancel",r._disableDelayedDrag)),ce(s,"mousemove",r._delayedDragTouchMoveHandler),ce(s,"touchmove",r._delayedDragTouchMoveHandler),l.supportPointer&&ce(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(a,l.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){R&&br(R),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;ue(e,"mouseup",this._disableDelayedDrag),ue(e,"touchend",this._disableDelayedDrag),ue(e,"touchcancel",this._disableDelayedDrag),ue(e,"pointerup",this._disableDelayedDrag),ue(e,"pointercancel",this._disableDelayedDrag),ue(e,"mousemove",this._delayedDragTouchMoveHandler),ue(e,"touchmove",this._delayedDragTouchMoveHandler),ue(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?ce(document,"pointermove",this._onTouchMove):n?ce(document,"touchmove",this._onTouchMove):ce(document,"mousemove",this._onTouchMove):(ce(R,"dragend",this),ce(De,"dragstart",this._onDragStart));try{document.selection?Li(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(vn=!1,De&&R){it("dragStarted",this,{evt:n}),this.nativeDraggable&&ce(document,"dragover",uf);var i=this.options;!e&&ot(R,i.dragClass,!1),ot(R,i.ghostClass,!0),J.active=this,e&&this._appendGhost(),Ke({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(bt){this._lastX=bt.clientX,this._lastY=bt.clientY,Aa();for(var e=document.elementFromPoint(bt.clientX,bt.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(bt.clientX,bt.clientY),e!==n);)n=e;if(R.parentNode[nt]._isOutsideThisEl(e),n)do{if(n[nt]){var i=void 0;if(i=n[nt]._onDragOver({clientX:bt.clientX,clientY:bt.clientY,target:e,rootEl:n}),i&&!this.options.dragoverBubble)break}e=n}while(n=ha(n));La()}},_onTouchMove:function(e){if(Jt){var n=this.options,i=n.fallbackTolerance,r=n.fallbackOffset,o=e.touches?e.touches[0]:e,l=ne&&dn(ne,!0),s=ne&&l&&l.a,a=ne&&l&&l.d,u=Oi&&Ue&&ba(Ue),f=(o.clientX-Jt.clientX+r.x)/(s||1)+(u?u[0]-vr[0]:0)/(s||1),c=(o.clientY-Jt.clientY+r.y)/(a||1)+(u?u[1]-vr[1]:0)/(a||1);if(!J.active&&!vn){if(i&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(ne){l?(l.e+=f-(hr||0),l.f+=c-(mr||0)):l={a:1,b:0,c:0,d:1,e:f,f:c};var d="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");Z(ne,"webkitTransform",d),Z(ne,"mozTransform",d),Z(ne,"msTransform",d),Z(ne,"transform",d),hr=f,mr=c,bt=o}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ne){var e=this.options.fallbackOnBody?document.body:De,n=Pe(R,!0,Oi,!0,e),i=this.options;if(Oi){for(Ue=e;Z(Ue,"position")==="static"&&Z(Ue,"transform")==="none"&&Ue!==document;)Ue=Ue.parentNode;Ue!==document.body&&Ue!==document.documentElement?(Ue===document&&(Ue=St()),n.top+=Ue.scrollTop,n.left+=Ue.scrollLeft):Ue=St(),vr=ba(Ue)}ne=R.cloneNode(!0),ot(ne,i.ghostClass,!1),ot(ne,i.fallbackClass,!0),ot(ne,i.dragClass,!0),Z(ne,"transition",""),Z(ne,"transform",""),Z(ne,"box-sizing","border-box"),Z(ne,"margin",0),Z(ne,"top",n.top),Z(ne,"left",n.left),Z(ne,"width",n.width),Z(ne,"height",n.height),Z(ne,"opacity","0.8"),Z(ne,"position",Oi?"absolute":"fixed"),Z(ne,"zIndex","100000"),Z(ne,"pointerEvents","none"),J.ghost=ne,e.appendChild(ne),Z(ne,"transform-origin",Da/parseInt(ne.style.width)*100+"% "+ka/parseInt(ne.style.height)*100+"%")}},_onDragStart:function(e,n){var i=this,r=e.dataTransfer,o=i.options;if(it("dragStart",this,{evt:e}),J.eventCanceled){this._onDrop();return}it("setupClone",this),J.eventCanceled||(ke=_a(R),ke.removeAttribute("id"),ke.draggable=!1,ke.style["will-change"]="",this._hideClone(),ot(ke,this.options.chosenClass,!1),J.clone=ke),i.cloneId=Li(function(){it("clone",i),!J.eventCanceled&&(i.options.removeCloneOnHide||De.insertBefore(ke,R),i._hideClone(),Ke({sortable:i,name:"clone"}))}),!n&&ot(R,o.dragClass,!0),n?(Ei=!0,i._loopId=setInterval(i._emulateDragOver,50)):(ue(document,"mouseup",i._onDrop),ue(document,"touchend",i._onDrop),ue(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",o.setData&&o.setData.call(i,r,R)),ce(document,"drop",i),Z(R,"transform","translateZ(0)")),vn=!0,i._dragStartId=Li(i._dragStarted.bind(i,n,e)),ce(document,"selectstart",i),Vn=!0,window.getSelection().removeAllRanges(),Wn&&Z(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,i=e.target,r,o,l,s=this.options,a=s.group,u=J.active,f=_i===a,c=s.sort,d=Ve||u,m,h=this,g=!1;if(gr)return;function v(fe,Re){it(fe,h,kt({evt:e,isOwner:f,axis:m?"vertical":"horizontal",revert:l,dragRect:r,targetRect:o,canSort:c,fromSortable:d,target:i,completed:_,onMove:function(Ae,Ne){return Ai(De,n,R,r,Ae,Pe(Ae),e,Ne)},changed:D},Re))}function y(){v("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function _(fe){return v("dragOverCompleted",{insertion:fe}),fe&&(f?u._hideClone():u._showClone(h),h!==d&&(ot(R,Ve?Ve.options.ghostClass:u.options.ghostClass,!1),ot(R,s.ghostClass,!0)),Ve!==h&&h!==J.active?Ve=h:h===J.active&&Ve&&(Ve=null),d===h&&(h._ignoreWhileAnimating=i),h.animateAll(function(){v("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(i===R&&!R.animated||i===n&&!i.animated)&&(gn=null),!s.dragoverBubble&&!e.rootEl&&i!==document&&(R.parentNode[nt]._isOutsideThisEl(e.target),!fe&&Kt(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),g=!0}function D(){at=pt(R),jt=pt(R,s.draggable),Ke({sortable:h,name:"change",toEl:n,newIndex:at,newDraggableIndex:jt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=gt(i,s.draggable,n,!0),v("dragOver"),J.eventCanceled)return g;if(R.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||h._ignoreWhileAnimating===i)return _(!1);if(Ei=!1,u&&!s.disabled&&(f?c||(l=Se!==De):Ve===this||(this.lastPutMode=_i.checkPull(this,u,R,e))&&a.checkPut(this,u,R,e))){if(m=this._getDirection(e,i)==="vertical",r=Pe(R),v("dragOverValid"),J.eventCanceled)return g;if(l)return Se=De,y(),this._hideClone(),v("revert"),J.eventCanceled||(Yt?De.insertBefore(R,Yt):De.appendChild(R)),_(!0);var p=cr(n,s.draggable);if(!p||pf(e,m,this)&&!p.animated){if(p===R)return _(!1);if(p&&n===e.target&&(i=p),i&&(o=Pe(i)),Ai(De,n,R,r,i,o,e,!!i)!==!1)return y(),p&&p.nextSibling?n.insertBefore(R,p.nextSibling):n.appendChild(R),Se=n,D(),_(!0)}else if(p&&df(e,m,this)){var C=pn(n,0,s,!0);if(C===R)return _(!1);if(i=C,o=Pe(i),Ai(De,n,R,r,i,o,e,!1)!==!1)return y(),n.insertBefore(R,C),Se=n,D(),_(!0)}else if(i.parentNode===n){o=Pe(i);var E=0,A,S=R.parentNode!==n,b=!lf(R.animated&&R.toRect||r,i.animated&&i.toRect||o,m),O=m?"top":"left",L=ga(i,"top","top")||ga(R,"top","top"),N=L?L.scrollTop:void 0;gn!==i&&(A=o[O],Xn=!1,ki=!b&&s.invertSwap||S),E=hf(e,i,o,m,b?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,ki,gn===i);var z;if(E!==0){var K=pt(R);do K-=E,z=Se.children[K];while(z&&(Z(z,"display")==="none"||z===ne))}if(E===0||z===i)return _(!1);gn=i,Un=E;var M=i.nextElementSibling,H=!1;H=E===1;var ae=Ai(De,n,R,r,i,o,e,H);if(ae!==!1)return(ae===1||ae===-1)&&(H=ae===1),gr=!0,setTimeout(cf,30),y(),H&&!M?n.appendChild(R):i.parentNode.insertBefore(R,H?M:i),L&&wa(L,0,N-L.scrollTop),Se=R.parentNode,A!==void 0&&!ki&&(Si=Math.abs(A-Pe(i)[O])),D(),_(!0)}if(n.contains(R))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ue(document,"mousemove",this._onTouchMove),ue(document,"touchmove",this._onTouchMove),ue(document,"pointermove",this._onTouchMove),ue(document,"dragover",Kt),ue(document,"mousemove",Kt),ue(document,"touchmove",Kt)},_offUpEvents:function(){var e=this.el.ownerDocument;ue(e,"mouseup",this._onDrop),ue(e,"touchend",this._onDrop),ue(e,"pointerup",this._onDrop),ue(e,"pointercancel",this._onDrop),ue(e,"touchcancel",this._onDrop),ue(document,"selectstart",this)},_onDrop:function(e){var n=this.el,i=this.options;if(at=pt(R),jt=pt(R,i.draggable),it("drop",this,{evt:e}),Se=R&&R.parentNode,at=pt(R),jt=pt(R,i.draggable),J.eventCanceled){this._nulling();return}vn=!1,ki=!1,Xn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),yr(this.cloneId),yr(this._dragStartId),this.nativeDraggable&&(ue(document,"drop",this),ue(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Wn&&Z(document.body,"user-select",""),Z(R,"transform",""),e&&(Vn&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),ne&&ne.parentNode&&ne.parentNode.removeChild(ne),(De===Se||Ve&&Ve.lastPutMode!=="clone")&&ke&&ke.parentNode&&ke.parentNode.removeChild(ke),R&&(this.nativeDraggable&&ue(R,"dragend",this),br(R),R.style["will-change"]="",Vn&&!vn&&ot(R,Ve?Ve.options.ghostClass:this.options.ghostClass,!1),ot(R,this.options.chosenClass,!1),Ke({sortable:this,name:"unchoose",toEl:Se,newIndex:null,newDraggableIndex:null,originalEvent:e}),De!==Se?(at>=0&&(Ke({rootEl:Se,name:"add",toEl:Se,fromEl:De,originalEvent:e}),Ke({sortable:this,name:"remove",toEl:Se,originalEvent:e}),Ke({rootEl:Se,name:"sort",toEl:Se,fromEl:De,originalEvent:e}),Ke({sortable:this,name:"sort",toEl:Se,originalEvent:e})),Ve&&Ve.save()):at!==mn&&at>=0&&(Ke({sortable:this,name:"update",toEl:Se,originalEvent:e}),Ke({sortable:this,name:"sort",toEl:Se,originalEvent:e})),J.active&&((at==null||at===-1)&&(at=mn,jt=Gn),Ke({sortable:this,name:"end",toEl:Se,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){it("nulling",this),De=R=Se=ne=Yt=ke=wi=Ht=Jt=bt=Vn=at=jt=mn=Gn=gn=Un=Ve=_i=J.dragged=J.ghost=J.clone=J.active=null,Ci.forEach(function(e){e.checked=!0}),Ci.length=hr=mr=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":R&&(this._onDragOver(e),ff(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,i=this.el.children,r=0,o=i.length,l=this.options;r<o;r++)n=i[r],gt(n,l.draggable,this.el,!1)&&e.push(n.getAttribute(l.dataIdAttr)||vf(n));return e},sort:function(e,n){var i={},r=this.el;this.toArray().forEach(function(o,l){var s=r.children[l];gt(s,this.options.draggable,r,!1)&&(i[o]=s)},this),n&&this.captureAnimationState(),e.forEach(function(o){i[o]&&(r.removeChild(i[o]),r.appendChild(i[o]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return gt(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var i=this.options;if(n===void 0)return i[e];var r=qn.modifyOption(this,e,n);typeof r<"u"?i[e]=r:i[e]=n,e==="group"&&Oa(i)},destroy:function(){it("destroy",this);var e=this.el;e[nt]=null,ue(e,"mousedown",this._onTapStart),ue(e,"touchstart",this._onTapStart),ue(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(ue(e,"dragover",this),ue(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Di.splice(Di.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ht){if(it("hideClone",this),J.eventCanceled)return;Z(ke,"display","none"),this.options.removeCloneOnHide&&ke.parentNode&&ke.parentNode.removeChild(ke),Ht=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ht){if(it("showClone",this),J.eventCanceled)return;R.parentNode==De&&!this.options.group.revertClone?De.insertBefore(ke,R):Yt?De.insertBefore(ke,Yt):De.appendChild(ke),this.options.group.revertClone&&this.animate(R,ke),Z(ke,"display",""),Ht=!1}}};function ff(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function Ai(t,e,n,i,r,o,l,s){var a,u=t[nt],f=u.options.onMove,c;return window.CustomEvent&&!Pt&&!jn?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=e,a.from=t,a.dragged=n,a.draggedRect=i,a.related=r||e,a.relatedRect=o||Pe(e),a.willInsertAfter=s,a.originalEvent=l,t.dispatchEvent(a),f&&(c=f.call(u,a,l)),c}function br(t){t.draggable=!1}function cf(){gr=!1}function df(t,e,n){var i=Pe(pn(n.el,0,n.options,!0)),r=Ea(n.el,n.options,ne),o=10;return e?t.clientX<r.left-o||t.clientY<i.top&&t.clientX<i.right:t.clientY<r.top-o||t.clientY<i.bottom&&t.clientX<i.left}function pf(t,e,n){var i=Pe(cr(n.el,n.options.draggable)),r=Ea(n.el,n.options,ne),o=10;return e?t.clientX>r.right+o||t.clientY>i.bottom&&t.clientX>i.left:t.clientY>r.bottom+o||t.clientX>i.right&&t.clientY>i.top}function hf(t,e,n,i,r,o,l,s){var a=i?t.clientY:t.clientX,u=i?n.height:n.width,f=i?n.top:n.left,c=i?n.bottom:n.right,d=!1;if(!l){if(s&&Si<u*r){if(!Xn&&(Un===1?a>f+u*o/2:a<c-u*o/2)&&(Xn=!0),Xn)d=!0;else if(Un===1?a<f+Si:a>c-Si)return-Un}else if(a>f+u*(1-r)/2&&a<c-u*(1-r)/2)return mf(e)}return d=d||l,d&&(a<f+u*o/2||a>c-u*o/2)?a>f+u/2?1:-1:0}function mf(t){return pt(R)<pt(t)?1:-1}function vf(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;n--;)i+=e.charCodeAt(n);return i.toString(36)}function gf(t){Ci.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var i=e[n];i.checked&&Ci.push(i)}}function Li(t){return setTimeout(t,0)}function yr(t){return clearTimeout(t)}Ti&&ce(document,"touchmove",function(t){(J.active||vn)&&t.cancelable&&t.preventDefault()}),J.utils={on:ce,off:ue,css:Z,find:va,is:function(e,n){return!!gt(e,n,e,!1)},extend:Zu,throttle:ya,closest:gt,toggleClass:ot,clone:_a,index:pt,nextTick:Li,cancelNextTick:yr,detectDirection:Ta,getChild:pn,expando:nt},J.get=function(t){return t[nt]},J.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(J.utils=kt(kt({},J.utils),i.utils)),qn.mount(i)})},J.create=function(t,e){return new J(t,e)},J.version=Ku;var Ie=[],Yn,wr,_r=!1,Er,Dr,Pi,Jn;function bf(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var i=n.originalEvent;this.sortable.nativeDraggable?ce(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ce(document,"pointermove",this._handleFallbackAutoScroll):i.touches?ce(document,"touchmove",this._handleFallbackAutoScroll):ce(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var i=n.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?ue(document,"dragover",this._handleAutoScroll):(ue(document,"pointermove",this._handleFallbackAutoScroll),ue(document,"touchmove",this._handleFallbackAutoScroll),ue(document,"mousemove",this._handleFallbackAutoScroll)),Pa(),Ii(),$u()},nulling:function(){Pi=wr=Yn=_r=Jn=Er=Dr=null,Ie.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,i){var r=this,o=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,s=document.elementFromPoint(o,l);if(Pi=n,i||this.options.forceAutoScrollFallback||jn||Pt||Wn){kr(n,this.options,s,i);var a=Ft(s,!0);_r&&(!Jn||o!==Er||l!==Dr)&&(Jn&&Pa(),Jn=setInterval(function(){var u=Ft(document.elementFromPoint(o,l),!0);u!==a&&(a=u,Ii()),kr(n,r.options,u,i)},10),Er=o,Dr=l)}else{if(!this.options.bubbleScroll||Ft(s,!0)===St()){Ii();return}kr(n,this.options,Ft(s,!1),!1)}}},At(t,{pluginName:"scroll",initializeByDefault:!0})}function Ii(){Ie.forEach(function(t){clearInterval(t.pid)}),Ie=[]}function Pa(){clearInterval(Jn)}var kr=ya(function(t,e,n,i){if(e.scroll){var r=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,l=e.scrollSensitivity,s=e.scrollSpeed,a=St(),u=!1,f;wr!==n&&(wr=n,Ii(),Yn=e.scroll,f=e.scrollFn,Yn===!0&&(Yn=Ft(n,!0)));var c=0,d=Yn;do{var m=d,h=Pe(m),g=h.top,v=h.bottom,y=h.left,_=h.right,D=h.width,p=h.height,C=void 0,E=void 0,A=m.scrollWidth,S=m.scrollHeight,b=Z(m),O=m.scrollLeft,L=m.scrollTop;m===a?(C=D<A&&(b.overflowX==="auto"||b.overflowX==="scroll"||b.overflowX==="visible"),E=p<S&&(b.overflowY==="auto"||b.overflowY==="scroll"||b.overflowY==="visible")):(C=D<A&&(b.overflowX==="auto"||b.overflowX==="scroll"),E=p<S&&(b.overflowY==="auto"||b.overflowY==="scroll"));var N=C&&(Math.abs(_-r)<=l&&O+D<A)-(Math.abs(y-r)<=l&&!!O),z=E&&(Math.abs(v-o)<=l&&L+p<S)-(Math.abs(g-o)<=l&&!!L);if(!Ie[c])for(var K=0;K<=c;K++)Ie[K]||(Ie[K]={});(Ie[c].vx!=N||Ie[c].vy!=z||Ie[c].el!==m)&&(Ie[c].el=m,Ie[c].vx=N,Ie[c].vy=z,clearInterval(Ie[c].pid),(N!=0||z!=0)&&(u=!0,Ie[c].pid=setInterval((function(){i&&this.layer===0&&J.active._onTouchMove(Pi);var M=Ie[this.layer].vy?Ie[this.layer].vy*s:0,H=Ie[this.layer].vx?Ie[this.layer].vx*s:0;typeof f=="function"&&f.call(J.dragged.parentNode[nt],H,M,t,Pi,Ie[this.layer].el)!=="continue"||wa(Ie[this.layer].el,H,M)}).bind({layer:c}),24))),c++}while(e.bubbleScroll&&d!==a&&(d=Ft(d,!1)));_r=u}},30),Ia=function(e){var n=e.originalEvent,i=e.putSortable,r=e.dragEl,o=e.activeSortable,l=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(n){var u=i||o;s();var f=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,c=document.elementFromPoint(f.clientX,f.clientY);a(),u&&!u.el.contains(c)&&(l("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function Sr(){}Sr.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=pn(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(n,r):this.sortable.el.appendChild(n),this.sortable.animateAll(),i&&i.animateAll()},drop:Ia},At(Sr,{pluginName:"revertOnSpill"});function Cr(){}Cr.prototype={onSpill:function(e){var n=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),r.animateAll()},drop:Ia},At(Cr,{pluginName:"removeOnSpill"}),J.mount(new bf),J.mount(Cr,Sr);function Na(t,e,n){const i=t.slice();return i[16]=e[n],i}function Ma(t,e,n){const i=t.slice();return i[19]=e[n],i}function xa(t,e,n){const i=t.slice();return i[22]=e[n],i}function Ra(t){let e,n,i,r;function o(){return t[11](t[22])}return{c(){e=T("div"),n=T("a"),n.innerHTML='<i class="fas fa-pencil-alt fa-sm"></i>',w(n,"href","javascript:"),w(n,"data-action","editField"),w(n,"class","edit-field svelte-1azk92t"),w(e,"class","right svelte-1azk92t")},m(l,s){X(l,e,s),k(e,n),i||(r=he(n,"click",o),i=!0)},p(l,s){t=l},d(l){l&&V(e),i=!1,r()}}}function Ba(t,e){let n,i,r,o=e[22].label+"",l,s,a,u=e[2].editable&&Ra(e),f=[e[10](e[22])],c={};for(let d=0;d<f.length;d+=1)c=In(c,f[d]);return{key:t,first:null,c(){n=T("li"),i=T("div"),r=T("label"),l=_e(o),s=j(),u&&u.c(),a=j(),w(r,"class","svelte-1azk92t"),w(i,"class","left svelte-1azk92t"),Rt(n,c),ye(n,"svelte-1azk92t",!0),this.first=n},m(d,m){X(d,n,m),k(n,i),k(i,r),k(r,l),k(n,s),u&&u.m(n,null),k(n,a)},p(d,m){e=d,m&1&&o!==(o=e[22].label+"")&&Je(l,o),e[2].editable?u?u.p(e,m):(u=Ra(e),u.c(),u.m(n,a)):u&&(u.d(1),u=null),Rt(n,c=hi(f,[m&1&&e[10](e[22])])),ye(n,"svelte-1azk92t",!0)},d(d){d&&V(n),u&&u.d()}}}function Fa(t){let e,n=F.translate(t[16].name,"scopeNames")+"",i;return{c(){e=T("span"),i=_e(n),w(e,"class","title svelte-1azk92t")},m(r,o){X(r,e,o),k(e,i)},p(r,o){o&2&&n!==(n=F.translate(r[16].name,"scopeNames")+"")&&Je(i,n)},d(r){r&&V(e)}}}function Ha(t,e){let n,i,r,o=e[19].label+"",l,s,a=[e[10](e[19])],u={};for(let f=0;f<a.length;f+=1)u=In(u,a[f]);return{key:t,first:null,c(){n=T("li"),i=T("div"),r=T("label"),l=_e(o),s=j(),w(r,"class","svelte-1azk92t"),w(i,"class","left svelte-1azk92t"),Rt(n,u),ye(n,"svelte-1azk92t",!0),this.first=n},m(f,c){X(f,n,c),k(n,i),k(i,r),k(r,l),k(n,s)},p(f,c){e=f,c&2&&o!==(o=e[19].label+"")&&Je(l,o),Rt(n,u=hi(a,[c&2&&e[10](e[19])])),ye(n,"svelte-1azk92t",!0)},d(f){f&&V(n)}}}function ja(t,e){let n,i,r,o=[],l=new Map,s,a,u=e[1].length>1&&Fa(e),f=Ee(e[16].fields);const c=d=>d[19].name;for(let d=0;d<f.length;d+=1){let m=Ma(e,f,d),h=c(m);l.set(h,o[d]=Ha(h,m))}return{key:t,first:null,c(){n=T("div"),u&&u.c(),i=j(),r=T("ul");for(let d=0;d<o.length;d+=1)o[d].c();a=j(),w(r,"class","disabled connected svelte-1azk92t"),w(r,"data-name",s=e[16].name),w(n,"class","svelte-1azk92t"),ye(n,"group",e[1].length>1),this.first=n},m(d,m){X(d,n,m),u&&u.m(n,null),k(n,i),k(n,r);for(let h=0;h<o.length;h+=1)o[h]&&o[h].m(r,null);k(n,a)},p(d,m){e=d,e[1].length>1?u?u.p(e,m):(u=Fa(e),u.c(),u.m(n,i)):u&&(u.d(1),u=null),m&1026&&(f=Ee(e[16].fields),o=Xt(o,m,c,1,e,f,l,r,Ut,Ha,null,Ma)),m&2&&s!==(s=e[16].name)&&w(r,"data-name",s),m&2&&ye(n,"group",e[1].length>1)},d(d){d&&V(n),u&&u.d();for(let m=0;m<o.length;m+=1)o[m].d()}}}function yf(t){let e,n,i,r,o,l,s,a=[],u=new Map,f,c,d,m,h,g,v,y,_=[],D=new Map,p=Ee(t[0].sort(za));const C=S=>S[22].name;for(let S=0;S<p.length;S+=1){let b=xa(t,p,S),O=C(b);u.set(O,a[S]=Ba(O,b))}let E=Ee(t[1]);const A=S=>S[16].name;for(let S=0;S<E.length;S+=1){let b=Na(t,E,S),O=A(b);D.set(O,_[S]=ja(O,b))}return{c(){e=T("div"),n=T("div"),i=T("div"),r=T("header"),r.textContent=`${F.translate("Selected","labels","Admin")}`,o=j(),l=T("div"),s=T("ul");for(let S=0;S<a.length;S+=1)a[S].c();f=j(),c=T("div"),d=j(),m=T("div"),h=T("div"),g=T("header"),g.textContent=`${F.translate("Available","labels","Admin")}`,v=j(),y=T("div");for(let S=0;S<_.length;S+=1)_[S].c();w(r,"class","svelte-1azk92t"),w(s,"class","enabled connected svelte-1azk92t"),w(l,"class","rows-wrapper svelte-1azk92t"),w(i,"class","well svelte-1azk92t"),w(n,"class","col-sm-5 svelte-1azk92t"),w(c,"class","col-sm-1 svelte-1azk92t"),be(c,"width","35px"),w(g,"class","svelte-1azk92t"),w(y,"class","rows-wrapper svelte-1azk92t"),w(h,"class","well svelte-1azk92t"),w(m,"class","col-sm-5 svelte-1azk92t"),w(e,"id","layout"),w(e,"class","row svelte-1azk92t")},m(S,b){X(S,e,b),k(e,n),k(n,i),k(i,r),k(i,o),k(i,l),k(l,s);for(let O=0;O<a.length;O+=1)a[O]&&a[O].m(s,null);k(e,f),k(e,c),k(e,d),k(e,m),k(m,h),k(h,g),k(h,v),k(h,y);for(let O=0;O<_.length;O+=1)_[O]&&_[O].m(y,null);t[12](e)},p(S,b){b&1285&&(p=Ee(S[0].sort(za)),a=Xt(a,b,C,1,S,p,u,s,Ut,Ba,null,xa)),b&1026&&(E=Ee(S[1]),_=Xt(_,b,A,1,S,E,D,y,Ut,ja,null,Na))},d(S){S&&V(e);for(let b=0;b<a.length;b+=1)a[b].d();for(let b=0;b<_.length;b+=1)_[b].d();t[12](null)}}}function wf(t){let e,n,i={params:t[2],validate:t[9],fetch:t[4],loadLayout:t[3],$$slots:{default:[yf]},$$scope:{ctx:t}};return e=new ua({props:i}),t[13](e),e.$on("ready",t[7]),{c(){vt(e.$$.fragment)},m(r,o){ct(e,r,o),n=!0},p(r,[o]){const l={};o&4&&(l.params=r[2]),o&16&&(l.fetch=r[4]),o&8&&(l.loadLayout=r[3]),o&33554471&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(xe(e.$$.fragment,r),n=!0)},o(r){ze(e.$$.fragment,r),n=!1},d(r){t[13](null),dt(e,r)}}}function _f(t){return t.toLowerCase()}function Wa(t,e){return t[e]}const za=(t,e)=>t.sortOrder-e.sortOrder;function Ef(t,e,n){let i,r,o,{params:l}=e,{selectedFields:s=[]}=e,{availableGroups:a=[]}=e,{loadLayout:u}=e,f;ir(()=>{r&&r.destroy(),o&&o.forEach(D=>D.destroy())});function c(){const D={group:"fields",draggable:"li",animation:150};r=J.create(i.querySelector("ul.enabled"),{...D,onEnd(p){const C=p.to.closest(".connected");if(C.classList.contains("enabled")){const[E]=s.splice(p.oldIndex,1);s.splice(p.newIndex,0,E)}else{const E=s[p.oldIndex];s.splice(p.oldIndex,1),n(1,a=a.map(A=>(A.name===C.attributes["data-name"].value&&A.fields.splice(p.newIndex,0,E),A)))}n(0,s=[...s])}}),o=[];for(let p of i.querySelectorAll("ul.disabled")){const C=J.create(p,{...D,onEnd(E){const A=E.to.closest(".connected");let S=null;if(A.classList.contains("disabled")){for(let b of a)if(b.name===p.attributes["data-name"].value){[S]=b.fields.splice(E.oldIndex,1);break}if(S){for(let b of a)if(b.name===A.attributes["data-name"].value){b.fields.splice(E.newIndex,0,S);break}}}else n(1,a=a.map(b=>(b.name===E.from.closest("ul").attributes["data-name"].value&&([S]=b.fields.splice(E.oldIndex,1)),b))),s.splice(E.newIndex,0,S),n(0,s=[...s]);console.log(a,s)}});o.push(C)}}function d(D){l.openEditDialog(D,l.scope,l.dataAttributeList,l.dataAttributesDefs,p=>{n(0,s=s.map(C=>{if(C.name===D.name)for(let E in p)C[E]=p[E];return C}))})}let{fetch:m=()=>s}=e;function h(D){return D.length===0?(tt.notify("Layout cannot be empty","error"),!1):!0}function g(D){const p={};return l.dataAttributeList.forEach(C=>{Wa(D,C)!=null&&(p[`data-${_f(C)}`]=Wa(D,C))}),p}const v=D=>d(D);function y(D){je[D?"unshift":"push"](()=>{i=D,n(5,i)})}function _(D){je[D?"unshift":"push"](()=>{f=D,n(6,f)})}return t.$$set=D=>{"params"in D&&n(2,l=D.params),"selectedFields"in D&&n(0,s=D.selectedFields),"availableGroups"in D&&n(1,a=D.availableGroups),"loadLayout"in D&&n(3,u=D.loadLayout),"fetch"in D&&n(4,m=D.fetch)},[s,a,l,u,m,i,f,c,d,h,g,v,y,_]}let Tr=class extends Ge{constructor(e){super(),qe(this,e,Ef,wf,Le,{params:2,selectedFields:0,availableGroups:1,loadLayout:3,fetch:4})}};function Df(t){let e,n,i={params:t[0],selectedFields:t[2],availableGroups:t[3],editable:kf,loadLayout:t[4]};return e=new Tr({props:i}),t[5](e),{c(){vt(e.$$.fragment)},m(r,o){ct(e,r,o),n=!0},p(r,[o]){const l={};o&1&&(l.params=r[0]),o&4&&(l.selectedFields=r[2]),o&8&&(l.availableGroups=r[3]),e.$set(l)},i(r){n||(xe(e.$$.fragment,r),n=!0)},o(r){ze(e.$$.fragment,r),n=!1},d(r){t[5](null),dt(e,r)}}}let kf=!0;function Sf(t,e,n){let{params:i}=e;i.dataAttributeList||(i.dataAttributeList=["id","name","width","widthPx","link","notSortable","align","view","customLabel","editable"]),i.dataAttributesDefs||(i.dataAttributesDefs={link:{type:"bool"},width:{type:"float"},notSortable:{type:"bool"},align:{type:"enum",options:["left","right"]},view:{type:"varchar",readOnly:!0},customLabel:{type:"varchar",readOnly:!0},widthPx:{type:"float"},name:{type:"varchar",readOnly:!0},editable:{type:"bool"}});let r,o=[],l=[];const s=[],a=[];function u(_){Dt.get(i.scope,i.type,i.relatedScope,i.layoutProfileId,D=>{_&&(h(D.layout),_(D))},!1)}function f(_,D){return D==="_self"?F.translate(_,"scopeNamesPlural","Global"):D==="_bookmark"?F.translate("Bookmark","scopeNamesPlural","Global"):F.translate(D,"fields",_)}function c(){const _=[];return i.type==="leftSidebar"&&(me.get(["scopes",i.scope,"bookmarkDisabled"])||_.push("_bookmark"),me.get(["scopes",i.scope,"type"])==="Hierarchy"&&!me.get(["scopes",i.scope,"disableHierarchy"])&&_.push("_self")),_}function d(_,D){return me.get(["entityDefs",_,D,"type"])??""}function m(_,D){var C;const p=me.get(["entityDefs",_,"links"])??{};for(const E of Object.keys(p))if(((C=p[E])==null?void 0:C.entity)===D&&p[E].relationName)return Espo.utils.upperCaseFirst(p[E].relationName);return""}function h(_){const D=[];let p="",C=Object.keys(me.get(["entityDefs",i.scope,"fields"])||{}).filter(S=>g(d(i.scope,S))&&v(i.scope,S));if(i.relatedScope){p=m(i.scope,i.relatedScope);const S={name:p,scope:p,prefix:p+"__"};let b=Object.keys(me.get(["entityDefs",p,"fields"])||{}).filter(O=>g(d(p,O))&&v(p,O));b=b.filter(O=>!(me.get(["entityDefs",p,"fields",O,"relationField"])??!1)),b=b.sort((O,L)=>f(p,O).localeCompare(f(p,L))).map(O=>S.prefix+O),S.fields=b,D.push(S)}C.push(...c()),C=C.sort((S,b)=>f(i.scope,S).localeCompare(f(i.scope,b))),D.unshift({name:i.scope,scope:i.scope,fields:C});const E=[],A=[];for(const S of D)S.fields=S.fields.map(b=>{const O=f(S.scope,S.prefix?b.replace(S.prefix,""):b);S.prefix||(E.includes(O)&&A.push(O),E.push(O));const L={name:b,label:O},N=me.get(["entityDefs",S.scope,"fields",b,"type"]);return N&&me.get(["fields",N,"notSortable"])&&(L.notSortable=!0),L});n(2,o=_),D[0].fields.forEach(S=>{A.includes(S.label)&&(S.label+=` (${S.name})`);const b=o.find(O=>!O.label&&O.name===S.name);b&&(b.label=S.label)}),D[1]&&D[1].fields.forEach(S=>{E.includes(S.label)&&(S.label+=" (Relation)");const b=o.find(O=>!O.label&&O.name===S.name);b&&(b.label=S.label)});for(const S of D)S.fields=S.fields.filter(b=>!o.find(O=>O.name===b.name));n(3,l=D.reverse())}function g(_){return i.fieldTypes?i.fieldTypes.includes(_):!0}function v(_,D){if(s.includes(D)||a.includes(d(_,D)))return!1;const p=["disabled",`layout${Espo.utils.upperCaseFirst(i.type)}Disabled`];i.reelType&&p.push(`layout${Espo.utils.upperCaseFirst(i.reelType)}Disabled`);for(let C of p)if(me.get(["entityDefs",_,"fields",D,C]))return!1;return!0}function y(_){je[_?"unshift":"push"](()=>{r=_,n(1,r)})}return t.$$set=_=>{"params"in _&&n(0,i=_.params)},[i,r,o,l,u,y]}class Or extends Ge{constructor(e){super(),qe(this,e,Sf,Df,Le,{params:0})}}function Cf(t){let e,n,i={params:t[0],selectedFields:t[2],availableGroups:t[3],loadLayout:t[5],fetch:t[4]};return e=new Tr({props:i}),t[7](e),{c(){vt(e.$$.fragment)},m(r,o){ct(e,r,o),n=!0},p(r,[o]){const l={};o&1&&(l.params=r[0]),o&4&&(l.selectedFields=r[2]),o&8&&(l.availableGroups=r[3]),e.$set(l)},i(r){n||(xe(e.$$.fragment,r),n=!0)},o(r){ze(e.$$.fragment,r),n=!1},d(r){t[7](null),dt(e,r)}}}function Tf(t,e,n){let{params:i}=e,{viewType:r="detail"}=e;i.dataAttributeList||(i.dataAttributeList=["id","name","style","sticked"]),i.dataAttributesDefs||(i.dataAttributesDefs={style:{type:"enum",options:["default","success","danger","primary","info","warning"],translation:"LayoutManager.options.style"},sticked:{type:"bool"},name:{readOnly:!0}});let o,l=[],s=[],a=()=>{let d={};return l.forEach(m=>{d[m.name]=m}),s[0].fields.forEach(m=>{d[m.name]={...m,disabled:!0}}),d};function u(d){Dt.get(i.scope,i.type,null,i.layoutProfileId,m=>{d&&(f(m.layout),d(m))},!1)}function f(d){let m=[],h={},g={};me.get(["clientDefs",i.scope,"defaultSidePanel",r])!==!1&&!me.get(["clientDefs",i.scope,"defaultSidePanelDisabled"])&&(m.push("default"),h.default="Default"),(me.get(["clientDefs",i.scope,"sidePanels",r])||[]).forEach(y=>{y.name&&(m.push(y.name),y.label&&(h[y.name]=y.label),g[y.name]=y)});const v={name:i.scope,fields:[]};d=d||{},n(2,l=[]),m.forEach((y,_)=>{let D=!1,p=d[y]||{};p.disabled&&(D=!0);let C;if(h[y]?C=F.translate(h[y],"labels",i.scope):C=F.translate(y,"panels",i.scope),D)v.fields.push({name:y,label:C});else{let E={name:y,label:C};E.name in g&&i.dataAttributeList.forEach(A=>{if(A==="name")return;let S=g[E.name]||{};A in S&&(E[A]=S[A])});for(let A in p)E[A]=p[A];E.index="index"in p?p.index:_,l.push(E)}}),l.sort((y,_)=>y.index-_.index),n(3,s=[v])}function c(d){je[d?"unshift":"push"](()=>{o=d,n(1,o)})}return t.$$set=d=>{"params"in d&&n(0,i=d.params),"viewType"in d&&n(6,r=d.viewType)},[i,o,l,s,a,u,r,c]}class Of extends Ge{constructor(e){super(),qe(this,e,Tf,Cf,Le,{params:0,viewType:6})}}function Af(t){let e,n;return e=new Tr({props:{params:t[0],selectedFields:t[1],availableGroups:t[2],loadLayout:t[3]}}),{c(){vt(e.$$.fragment)},m(i,r){ct(e,i,r),n=!0},p(i,[r]){const o={};r&1&&(o.params=i[0]),r&2&&(o.selectedFields=i[1]),r&4&&(o.availableGroups=i[2]),e.$set(o)},i(i){n||(xe(e.$$.fragment,i),n=!0)},o(i){ze(e.$$.fragment,i),n=!1},d(i){dt(e,i)}}}function Lf(t,e){return!t.getLinkParam(e,"disabled")&&!t.getLinkParam(e,"layoutRelationshipsDisabled")}function Pf(t,e,n){let{params:i}=e;i.dataAttributeList||(i.dataAttributeList=["id","name","style","hiddenPerDefault"]),i.dataAttributesDefs||(i.dataAttributesDefs={style:{type:"enum",options:["default","success","danger","primary","info","warning"],translation:"LayoutManager.options.style"},hiddenPerDefault:{type:"bool"},name:{readOnly:!0}});let r=[],o=[];function l(a){gi.create(i.scope,function(u){Dt.get(i.scope,i.type,null,i.layoutProfileId,f=>{a&&(s(u,f.layout),a(f))},!1)})}function s(a,u){let f=[];for(let h in a.defs.links)["belongsTo","hasMany","hasChildren"].includes(a.defs.links[h].type)&&Lf(a,h)&&f.push(h);const c=me.get(["clientDefs",i.scope,"bottomPanels","detail"])||[];for(let h of c)h.layoutRelationshipsDisabled||f.push(h.name);f.sort(function(h,g){let v,y,_=c.find(p=>p.name===h),D=c.find(p=>p.name===g);return h in a.defs.links?v=F.translate(h,"links",i.scope):_&&(v=F.translate(_.label,"labels",i.scope)),g in a.defs.links?y=F.translate(g,"links",i.scope):D&&(y=F.translate(D.label,"labels",i.scope)),v.localeCompare(y)});let d=[];n(1,r=[]);const m={name:i.scope,fields:[]};for(let h in u){let g=u[h],v,y=c.find(_=>_.name===g.name);typeof g=="string"||g instanceof String?v={name:g,label:y?F.translate(y.label,"labels",i.scope):F.translate(g,"links",i.scope)}:(v=g,v.label=y?F.translate(y.label,"labels",i.scope):F.translate(v.name,"links",i.scope)),i.dataAttributeList.forEach(_=>{if(_==="name"||_ in v)return;let D=me.get(["clientDefs",i.scope,"relationshipPanels",v.name,_]);D!==null&&(v[_]=D)}),r.push(v),d.push(v.name)}for(let h of f)if(!d.includes(h)){let g=c.find(v=>v.name===h);m.fields.push({name:h,label:g?F.translate(g.label,"labels",i.scope):F.translate(h,"fields",i.scope)||F.translate(h,"links",i.scope)})}n(2,o=[m])}return t.$$set=a=>{"params"in a&&n(0,i=a.params)},[i,r,o,l]}class If extends Ge{constructor(e){super(),qe(this,e,Pf,Af,Le,{params:0})}}function qa(t,e,n){const i=t.slice();return i[39]=e[n],i}function Ga(t,e,n){const i=t.slice();return i[42]=e[n],i}function Va(t,e,n){const i=t.slice();return i[45]=e[n],i}function Ua(t,e,n){const i=t.slice();return i[48]=e[n],i[50]=n,i}function Nf(t){let e,n,i,r,o;function l(){return t[20](t[42],t[45],t[50])}function s(...a){return t[21](t[42],t[45],t[50],...a)}return{c(){e=T("li"),n=T("a"),n.innerHTML='<i class="fas fa-minus"></i>',i=j(),w(n,"href","#"),w(n,"data-action","minusCell"),w(n,"class","remove-field svelte-385ryu"),w(e,"class","empty cell svelte-385ryu")},m(a,u){X(a,e,u),k(e,n),k(e,i),r||(o=[he(n,"click",xt(l)),he(e,"dragover",xt(Ff)),he(e,"drop",s)],r=!0)},p(a,u){t=a},d(a){a&&V(e),r=!1,ft(o)}}}function Mf(t){let e,n=t[48].label+"",i,r,o,l,s,a,u,f,c,d,m;function h(){return t[18](t[42],t[45],t[50])}function g(...v){return t[19](t[48],...v)}return{c(){e=T("li"),i=_e(n),r=j(),o=T("a"),o.innerHTML='<i class="fas fa-times"></i>',l=j(),w(o,"href","#"),w(o,"data-action","removeField"),w(o,"class","remove-field svelte-385ryu"),w(e,"class","cell svelte-385ryu"),w(e,"draggable","true"),w(e,"data-id",s=t[48].id),w(e,"data-name",a=t[48].name),w(e,"data-full-width",u=t[48].fullWidth?"true":void 0),w(e,"data-custom-label",f=t[48].customLabel?t[48].customLabel:void 0),w(e,"data-no-label",c=t[48].noLabel)},m(v,y){X(v,e,y),k(e,i),k(e,r),k(e,o),k(e,l),d||(m=[he(o,"click",xt(h)),he(e,"dragstart",nr(g))],d=!0)},p(v,y){t=v,y[0]&2&&n!==(n=t[48].label+"")&&Je(i,n),y[0]&2&&s!==(s=t[48].id)&&w(e,"data-id",s),y[0]&2&&a!==(a=t[48].name)&&w(e,"data-name",a),y[0]&2&&u!==(u=t[48].fullWidth?"true":void 0)&&w(e,"data-full-width",u),y[0]&2&&f!==(f=t[48].customLabel?t[48].customLabel:void 0)&&w(e,"data-custom-label",f),y[0]&2&&c!==(c=t[48].noLabel)&&w(e,"data-no-label",c)},d(v){v&&V(e),d=!1,ft(m)}}}function Xa(t){let e;function n(o,l){return o[48]?Mf:Nf}let i=n(t),r=i(t);return{c(){r.c(),e=tr()},m(o,l){r.m(o,l),X(o,e,l)},p(o,l){i===(i=n(o))&&r?r.p(o,l):(r.d(1),r=i(o),r&&(r.c(),r.m(e.parentNode,e)))},d(o){o&&V(e),r.d(o)}}}function Ya(t,e){let n,i,r,o,l,s,a,u,f;function c(){return e[17](e[42],e[45])}let d=Ee(e[45].cells),m=[];for(let h=0;h<d.length;h+=1)m[h]=Xa(Ua(e,d,h));return{key:t,first:null,c(){n=T("li"),i=T("div"),r=T("a"),r.innerHTML='<i class="fas fa-times"></i>',o=j(),l=T("ul");for(let h=0;h<m.length;h+=1)m[h].c();s=j(),w(r,"href","#"),w(r,"data-action","removeRow"),w(r,"class","remove-row pull-right svelte-385ryu"),w(i,"class","svelte-385ryu"),w(l,"class","cells svelte-385ryu"),w(n,"class","row svelte-385ryu"),w(n,"data-number",a=e[45].number),this.first=n},m(h,g){X(h,n,g),k(n,i),k(i,r),k(n,o),k(n,l);for(let v=0;v<m.length;v+=1)m[v]&&m[v].m(l,null);k(n,s),u||(f=[he(r,"click",xt(c)),he(l,"mousedown",nr(Hf))],u=!0)},p(h,g){if(e=h,g[0]&5634){d=Ee(e[45].cells);let v;for(v=0;v<d.length;v+=1){const y=Ua(e,d,v);m[v]?m[v].p(y,g):(m[v]=Xa(y),m[v].c(),m[v].m(l,null))}for(;v<m.length;v+=1)m[v].d(1);m.length=d.length}g[0]&2&&a!==(a=e[45].number)&&w(n,"data-number",a)},d(h){h&&V(n),Nn(m,h),u=!1,ft(f)}}}function Ja(t,e){let n,i,r,o=(e[42].customLabel||e[42].label||"")+"",l,s,a,u,f,c,d,m,h,g,v,y=[],_=new Map,D,p,C,E,A,S,b;function O(){return e[15](e[42])}function L(){return e[16](e[42])}let N=Ee(e[42].rows);const z=M=>M[45].number;for(let M=0;M<N.length;M+=1){let H=Va(e,N,M),ae=z(H);_.set(ae,y[M]=Ya(ae,H))}function K(){return e[22](e[42])}return{key:t,first:null,c(){n=T("li"),i=T("header"),r=T("label"),l=_e(o),a=_e(` \r
                                    `),u=T("a"),u.innerHTML='<i class="fas fa-pencil-alt fa-sm"></i>',f=j(),c=T("a"),d=T("i"),g=j(),v=T("ul");for(let M=0;M<y.length;M+=1)y[M].c();D=j(),p=T("div"),C=T("a"),C.innerHTML='<i class="fas fa-plus"></i>',E=j(),w(r,"data-is-custom",s=e[42].customLabel?"true":void 0),w(r,"class","svelte-385ryu"),w(u,"href","#"),w(u,"data-action","edit-panel-label"),w(u,"class","edit-panel-label svelte-385ryu"),w(d,"class","fas fa-times"),w(c,"href","#"),be(c,"float","right"),w(c,"data-action","removePanel"),w(c,"class","remove-panel svelte-385ryu"),w(c,"data-number",m=e[42].number),w(i,"data-name",h=e[42].name),w(i,"class","svelte-385ryu"),w(v,"class","rows svelte-385ryu"),w(C,"href","#"),w(C,"data-action","addRow"),w(C,"class","svelte-385ryu"),w(p,"class","svelte-385ryu"),w(n,"data-number",A=e[42].number),w(n,"class","panel-layout svelte-385ryu"),this.first=n},m(M,H){X(M,n,H),k(n,i),k(i,r),k(r,l),k(i,a),k(i,u),k(i,f),k(i,c),k(c,d),k(n,g),k(n,v);for(let ae=0;ae<y.length;ae+=1)y[ae]&&y[ae].m(v,null);k(n,D),k(n,p),k(p,C),k(n,E),S||(b=[he(u,"click",xt(O)),he(c,"click",xt(L)),he(v,"mousedown",nr(jf)),he(C,"click",xt(K))],S=!0)},p(M,H){e=M,H[0]&2&&o!==(o=(e[42].customLabel||e[42].label||"")+"")&&Je(l,o),H[0]&2&&s!==(s=e[42].customLabel?"true":void 0)&&w(r,"data-is-custom",s),H[0]&2&&m!==(m=e[42].number)&&w(c,"data-number",m),H[0]&2&&h!==(h=e[42].name)&&w(i,"data-name",h),H[0]&5890&&(N=Ee(e[42].rows),y=Xt(y,H,z,1,e,N,_,v,Ut,Ya,null,Va)),H[0]&2&&A!==(A=e[42].number)&&w(n,"data-number",A)},d(M){M&&V(n);for(let H=0;H<y.length;H+=1)y[H].d();S=!1,ft(b)}}}function Ka(t){let e,n=t[39].label+"",i,r,o,l,s;function a(...u){return t[23](t[39],...u)}return{c(){e=T("li"),i=_e(n),r=j(),w(e,"class","cell svelte-385ryu"),w(e,"data-name",o=t[39].name)},m(u,f){X(u,e,f),k(e,i),k(e,r),l||(s=he(e,"dragstart",a),l=!0)},p(u,f){t=u,f[0]&4&&n!==(n=t[39].label+"")&&Je(i,n),f[0]&4&&o!==(o=t[39].name)&&w(e,"data-name",o)},d(u){u&&V(e),l=!1,s()}}}function xf(t){let e,n,i,r,o,l,s,a,u,f=[],c=new Map,d,m,h,g,v,y,_,D,p,C=Ee(t[1]);const E=b=>b[42].number;for(let b=0;b<C.length;b+=1){let O=Ga(t,C,b),L=E(O);c.set(L,f[b]=Ja(L,O))}let A=Ee(t[2]),S=[];for(let b=0;b<A.length;b+=1)S[b]=Ka(qa(t,A,b));return{c(){e=T("div"),n=T("div"),i=T("div"),r=T("header"),r.textContent=`${F.translate("Layout","LayoutManager")}`,o=j(),l=T("a"),l.textContent=`${F.translate("Add Panel","Admin")}`,s=j(),a=T("div"),u=T("ul");for(let b=0;b<f.length;b+=1)f[b].c();d=j(),m=T("div"),h=T("div"),g=T("header"),g.textContent=`${F.translate("Available Fields","Admin")}`,v=j(),y=T("div"),_=T("ul");for(let b=0;b<S.length;b+=1)S[b].c();w(r,"class","svelte-385ryu"),w(l,"href","#"),w(l,"class","svelte-385ryu"),w(u,"class","panels svelte-385ryu"),w(a,"class","rows-wrapper svelte-385ryu"),w(i,"class","well svelte-385ryu"),w(n,"class","col-md-8 svelte-385ryu"),w(g,"class","svelte-385ryu"),w(_,"class","disabled cells clearfix svelte-385ryu"),w(y,"class","rows-wrapper svelte-385ryu"),w(h,"class","well available-fields svelte-385ryu"),w(m,"class","col-md-4 svelte-385ryu"),w(e,"id","layout"),w(e,"class","row svelte-385ryu")},m(b,O){X(b,e,O),k(e,n),k(n,i),k(i,r),k(i,o),k(i,l),k(i,s),k(i,a),k(a,u);for(let L=0;L<f.length;L+=1)f[L]&&f[L].m(u,null);k(e,d),k(e,m),k(m,h),k(h,g),k(h,v),k(h,y),k(y,_);for(let L=0;L<S.length;L+=1)S[L]&&S[L].m(_,null);D||(p=he(l,"click",xt(t[5])),D=!0)},p(b,O){if(O[0]&8130&&(C=Ee(b[1]),f=Xt(f,O,E,1,b,C,c,u,Ut,Ja,null,Ga)),O[0]&4){A=Ee(b[2]);let L;for(L=0;L<A.length;L+=1){const N=qa(b,A,L);S[L]?S[L].p(N,O):(S[L]=Ka(N),S[L].c(),S[L].m(_,null))}for(;L<S.length;L+=1)S[L].d(1);S.length=A.length}},d(b){b&&V(e);for(let O=0;O<f.length;O+=1)f[O].d();Nn(S,b),D=!1,p()}}}function Rf(t){let e,n;return e=new ua({props:{params:t[0],validate:t[13],fetch:t[4],loadLayout:t[3],$$slots:{default:[xf]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},m(i,r){ct(e,i,r),n=!0},p(i,r){const o={};r[0]&1&&(o.params=i[0]),r[0]&6|r[1]&1048576&&(o.$$scope={dirty:r,ctx:i}),e.$set(o)},i(i){n||(xe(e.$$.fragment,i),n=!0)},o(i){ze(e.$$.fragment,i),n=!1},d(i){dt(e,i)}}}function Bf(t,e){return e.some(n=>n.name===t)}const Ff=t=>t.dataTransfer.dropEffect="move",Hf=()=>{},jf=()=>{};function Wf(t,e,n){let{params:i}=e,{columnCount:r=2}=e,o=["id","label","style"],l={label:{type:"varchar"},style:{type:"enum",options:["default","success","danger","primary","info","warning"],translation:"LayoutManager.options.style"},dynamicLogicVisible:{type:"base",view:"views/admin/field-manager/fields/dynamic-logic-conditions"}},s=["modifiedAt","createdAt","modifiedBy","createdBy","assignedUser","ownerUser","teams"],a=[],u=[],f=-1,c=-1,d;rr();function m(B){let x,W;const Y=[];Y.push(new Promise($=>{gi.create(i.scope,ie=>{Dt.get(i.scope,i.type,i.relatedScope,i.layoutProfileId,oe=>{x=oe,W=ie,$()},!1)})})),i.type==="detail"&&Y.push(new Promise($=>{Dt.get(i.scope,"sidePanelsDetail",null,i.layoutProfileId,ie=>{d=ie.layout,$()},!1)})),Promise.all(Y).then(()=>{B&&(h(W,x.layout),_(),un().then(()=>{p()}),B(x))})}function h(B,x){let W=[];const Y=[];for(const oe in B.defs.fields)g(B,oe)&&(Y.push(F.translate(oe,"fields",i.scope)),W.push(oe));const $=Y.filter((oe,we)=>Y.indexOf(oe)!==we);let ie=[];n(2,u=[]),n(1,a=x),x.forEach((oe,we)=>{oe.rows.forEach((de,We)=>{de&&de.forEach((Ce,Xe)=>{if(Xe==r||!Ce)return;let Qe=F.translate(Ce.name,"fields",i.scope);$.includes(Qe)&&(Qe+=` (${Ce.name})`),ie.push({name:Ce.name,label:Qe}),n(1,a[we].rows[We][Xe].label=Qe,a)})})}),W.sort((oe,we)=>F.translate(oe,"fields",i.scope).localeCompare(F.translate(we,"fields",i.scope)));for(const oe in W)if(!Bf(W[oe],ie)){const we=W[oe];let de=F.translate(we,"fields",i.scope);$.includes(de)&&(de+=` (${we})`),u.push({name:we,label:de})}}function g(B,x){if(v()&&s.includes(x))return!1;const W=["disabled",`layout${Espo.utils.upperCaseFirst(i.type)}Disabled`];i.reelType&&W.push(`layout${Espo.utils.upperCaseFirst(i.reelType)}Disabled`);for(let Y of W)if(B.getFieldParam(x,Y))return!1;return!0}function v(){if(me.get(["clientDefs",i.scope,"defaultSidePanelDisabled"]))return!1;if(d){for(const B in d)if(B==="default"&&d[B].disabled)return!1}return!0}function y(){return a.map(B=>({...B,rows:B.rows.map(x=>x.cells)}))}function _(){f=-1,c=-1,n(1,a=a.map((B,x)=>(B.number=x,f=x,B.rows=B.rows.map(W=>({number:c++,cells:W})),B)))}function D(B){J.create(B,{animation:150,group:"rows",draggable:"li.row",onEnd(x){const W=parseInt(x.to.closest(".panel-layout").getAttribute("data-number")),Y=parseInt(x.from.closest(".panel-layout").getAttribute("data-number"));if(Y===W)n(1,a=a.map($=>{if($.number===W){const[ie]=$.rows.splice(x.oldIndex,1);$.rows.splice(x.newIndex,0,ie)}return $}));else{const ie=a.find(oe=>oe.number===Y).rows[x.oldIndex];n(1,a=a.map(oe=>(oe.number===Y&&oe.rows.splice(x.oldIndex,1),oe.number===W&&oe.rows.splice(x.newIndex,0,ie),oe)))}}})}function p(){const B=document.querySelector("ul.panels");B&&J.create(B,{animation:150,group:"panels",draggable:"li.panel-layout",onEnd(x){const W=Array.from(x.to.children);n(1,a=W.map(Y=>{const $=parseInt(Y.getAttribute("data-number"));return a.find(ie=>ie.number===$)}))}}),document.querySelectorAll("ul.rows").forEach(x=>{D(x)}),document.querySelectorAll("ul.cells.disabled").forEach(x=>{J.create(x,{animation:150,group:"cells",draggable:"li.cell"})})}function C(){f++;const B={label:"New panel",rows:[{number:c++,cells:[!1,!1]}],number:f,name:`panel${f}`,isCustomLabel:!0};n(1,a=[...a,B]),un().then(()=>{const x=document.querySelector(`.panel-layout[data-number="${B.number}"] > .rows`);D(x),x.scrollIntoView()})}function E(B){const x=a.find(Y=>Y.number===B);n(1,a=a.filter(Y=>Y!==x));let W=[];x.rows.forEach(Y=>{Y.cells.forEach($=>{$&&W.push($)})}),n(2,u=[...u,...W])}function A(B){n(1,a=a.map(x=>(x.number===B&&(x.rows=[...x.rows,{number:c++,cells:Array(r).fill(!1)}]),x)))}function S(B,x){n(1,a=a.map(W=>{if(W.number===B){const Y=W.rows.find($=>$.number===x);W.rows=W.rows.filter($=>$!=Y),n(2,u=[...u,...Y.cells.filter($=>!!$)])}return W}))}function b(B,x,W){n(1,a=a.map(Y=>(Y.number===B&&(Y.rows=Y.rows.map(($,ie)=>{if($.number===x){const oe=$.cells[W];oe&&n(2,u=[...u,oe]),$.cells[W]=!1}return $})),Y)))}function O(B,x,W,Y){const $=B.dataTransfer.getData("name");let ie=u.find(de=>de.name===$),oe=null,we=null;if(ie)n(2,u=u.filter(de=>de!==ie));else{if(a.forEach(de=>{de.rows.forEach((We,Ce)=>{We.cells.forEach(Xe=>{Xe&&Xe.name===$&&(ie=Xe,oe=We.number,we=de.number)})})}),!ie)return;n(1,a=a.map((de,We)=>(we===de.number&&(de.rows=de.rows.map((Ce,Xe)=>(Ce.number===oe&&(Ce.cells=Ce.cells.map((Qe,It)=>Qe&&Qe.name===$?!1:Qe)),Ce))),de)))}n(1,a=a.map(de=>(x===de.number&&(de.rows=de.rows.map(We=>(W===We.number&&(We.cells=We.cells.map((Ce,Xe)=>Xe===Y?(ie.fullWidth&&We.cells.length>1&&delete ie.fullWidth,ie):Ce)),We))),de)))}function L(B){i.onEditPanel(B,o,l,x=>{n(1,a=a.map(W=>(W.number===B.number&&o.forEach(Y=>{B[Y]=x[Y]}),W)))})}function N(B,x,W){n(1,a=a.map(Y=>(B===Y.number&&(Y.rows=Y.rows.map($=>{if(x===$.number){const ie=$.cells.filter((oe,we)=>we!==W);ie.length===1&&ie[0]&&(ie[0].fullWidth=!0),$.cells=ie}return $})),Y)))}function z(B){let x=0;return B.forEach(W=>{W.rows.forEach(Y=>{Y.forEach($=>{$&&x++})})}),x===0?(tt.notify("Layout cannot be empty.","error"),!1):!0}const K=B=>L(B),M=B=>E(B.number),H=(B,x)=>S(B.number,x.number),ae=(B,x,W)=>b(B.number,x.number,W),fe=(B,x)=>{x.dataTransfer.setData("name",B.name)},Re=(B,x,W)=>N(B.number,x.number,W),Be=(B,x,W,Y)=>O(Y,B.number,x.number,W),Ae=B=>A(B.number),Ne=(B,x)=>{x.dataTransfer.setData("name",B.name)};return t.$$set=B=>{"params"in B&&n(0,i=B.params),"columnCount"in B&&n(14,r=B.columnCount)},[i,a,u,m,y,C,E,A,S,b,O,L,N,z,r,K,M,H,ae,fe,Re,Be,Ae,Ne]}class zf extends Ge{constructor(e){super(),qe(this,e,Wf,Rf,Le,{params:0,columnCount:14},null,[-1,-1])}}function qf(t){let e,n;return e=new t[1]({props:{params:t[0],viewType:t[2]}}),{c(){vt(e.$$.fragment)},m(i,r){ct(e,i,r),n=!0},p(i,[r]){const o={};r&1&&(o.params=i[0]),r&4&&(o.viewType=i[2]),e.$set(o)},i(i){n||(xe(e.$$.fragment,i),n=!0)},o(i){ze(e.$$.fragment,i),n=!1},d(i){dt(e,i)}}}function Gf(t,e,n){let{params:i}=e,r,o;const l=me.get(["clientDefs",i.scope,"additionalLayouts",i.type])||i.type;switch(l&&(i.reelType=l),t.$$set=s=>{"params"in s&&n(0,i=s.params)},l){case"list":n(1,r=Or);break;case"leftSidebar":n(1,r=Or),n(0,i.fieldTypes=["link","linkMultiple"],i);break;case"kanban":n(1,r=Or),n(0,i.dataAttributeList=["id","name","link","align","view","isLarge","cssStyle"],i),n(0,i.dataAttributesDefs={link:{type:"bool"},isLarge:{type:"bool"},width:{type:"float"},cssStyle:{type:"varchar"},align:{type:"enum",options:["left","right"]},view:{type:"varchar",readOnly:!0},name:{type:"varchar",readOnly:!0}},i);break;case"relationships":n(1,r=If);break;case"detail":n(1,r=zf);break;case"sidePanelsDetail":n(2,o="detail"),n(1,r=Of);break}return[i,r,o]}class Vf extends Ge{constructor(e){super(),qe(this,e,Gf,qf,Le,{params:0})}}function Uf(t){let e,n,i,r,o,l=F.translate("apiRequest","labels","Admin")+"",s,a,u,f,c,d,m,h,g,v,y,_,D,p,C,E,A,S,b,O,L,N,z=F.translate("response","fields","Admin")+"",K,M,H=F.translate("status","labels","Admin")+"",ae,fe,Re,Be,Ae,Ne,B;return{c(){e=T("div"),n=T("h3"),i=T("div"),r=T("div"),o=T("a"),o.textContent=`${F.translate("Administration")}`,s=_e(l),a=j(),u=T("div"),u.textContent=`${F.translate("apiRequest","labels","Admin")}`,f=j(),c=T("button"),c.textContent=`${F.translate("execute","labels","Admin")}`,d=j(),m=T("div"),h=T("div"),g=T("div"),v=T("div"),y=T("label"),y.textContent=`${F.translate("Type","fields","Admin")}`,_=j(),D=T("div"),p=j(),C=T("div"),E=T("div"),A=T("label"),A.textContent=`${F.translate("request","fields","Admin")}`,S=j(),b=T("div"),O=j(),L=T("div"),N=T("label"),K=_e(z),M=T("span"),ae=_e(H),fe=_e(": "),Re=T("span"),Be=j(),Ae=T("div"),w(o,"href","#Admin"),w(r,"class","breadcrumbs-wrapper"),w(i,"class","header-breadcrumbs fixed-header-breadcrumbs"),w(u,"class","header-title"),be(c,"margin","10px 7px 10px 5px"),w(c,"class","btn btn-primary action"),w(c,"data-action","execute"),w(c,"type","button"),w(e,"class","page-header"),w(y,"class","control-label"),w(y,"data-name","type"),w(D,"class","field"),w(D,"data-name","type"),w(v,"class","col-xs-12 cell form-group"),w(g,"class","row"),w(h,"class","col-sm-3"),w(m,"class","row"),w(A,"class","control-label"),w(A,"data-name","request"),w(b,"class","field"),w(b,"data-name","request"),w(E,"class","col-sm-12 col-md-6 cell form-group"),w(M,"class","pull-right status hidden"),be(N,"width","100%"),w(N,"class","control-label"),w(N,"data-name","response"),w(Ae,"class","field"),w(Ae,"data-name","response"),w(L,"class","col-sm-12 col-md-6 cell form-group"),w(C,"class","row")},m(x,W){X(x,e,W),k(e,n),k(n,i),k(i,r),k(r,o),k(r,s),k(n,a),k(n,u),k(e,f),k(e,c),X(x,d,W),X(x,m,W),k(m,h),k(h,g),k(g,v),k(v,y),k(v,_),k(v,D),X(x,p,W),X(x,C,W),k(C,E),k(E,A),k(E,S),k(E,b),k(C,O),k(C,L),k(L,N),k(N,K),k(N,M),k(M,ae),k(M,fe),k(M,Re),k(L,Be),k(L,Ae),Ne||(B=he(c,"click",function(){si(t[0](t[1]))&&t[0](t[1]).apply(this,arguments)}),Ne=!0)},p(x,[W]){t=x},i:Me,o:Me,d(x){x&&(V(e),V(d),V(m),V(p),V(C)),Ne=!1,B()}}}function Xf(t,e,n){let{afterOnMount:i=()=>null}=e,{sendRequest:r=()=>null}=e,o=null;return Rn(()=>{gi.create("",function(l){n(1,o=l),i(o)})}),t.$$set=l=>{"afterOnMount"in l&&n(2,i=l.afterOnMount),"sendRequest"in l&&n(0,r=l.sendRequest)},[r,o,i]}class Yf extends Ge{constructor(e){super(),qe(this,e,Xf,Uf,Le,{afterOnMount:2,sendRequest:0})}}function Qa(t,e,n){const i=t.slice();return i[12]=e[n],i}function Za(t){let e,n=t[12].label+"",i,r,o,l,s,a,u;function f(){return t[10](t[12])}return{c(){e=T("button"),i=_e(n),r=j(),w(e,"data-action",o=t[12].name),e.disabled=t[1],w(e,"type","button"),w(e,"style",l=t[12].cssStyle),w(e,"class",s=`btn action btn-${t[12].style??"default"}`)},m(c,d){X(c,e,d),k(e,i),k(e,r),a||(u=he(e,"click",f),a=!0)},p(c,d){t=c,d&1&&n!==(n=t[12].label+"")&&Je(i,n),d&1&&o!==(o=t[12].name)&&w(e,"data-action",o),d&2&&(e.disabled=t[1]),d&1&&l!==(l=t[12].cssStyle)&&w(e,"style",l),d&1&&s!==(s=`btn action btn-${t[12].style??"default"}`)&&w(e,"class",s)},d(c){c&&V(e),a=!1,u()}}}function Jf(t){let e,n,i,r=Ee(t[0]),o=[];for(let a=0;a<r.length;a+=1)o[a]=Za(Qa(t,r,a));const l=t[9].default,s=Mo(l,t,t[8],null);return{c(){e=T("div");for(let a=0;a<o.length;a+=1)o[a].c();n=j(),s&&s.c(),w(e,"class","button-container"),be(e,"padding-top","10px")},m(a,u){X(a,e,u);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(e,null);t[11](e),X(a,n,u),s&&s.m(a,u),i=!0},p(a,[u]){if(u&11){r=Ee(a[0]);let f;for(f=0;f<r.length;f+=1){const c=Qa(a,r,f);o[f]?o[f].p(c,u):(o[f]=Za(c),o[f].c(),o[f].m(e,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=r.length}s&&s.p&&(!i||u&256)&&Bo(s,l,a,a[8],i?Ro(l,a[8],u,null):Fo(a[8]),null)},i(a){i||(xe(s,a),i=!0)},o(a){ze(s,a),i=!1},d(a){a&&(V(e),V(n)),Nn(o,a),t[11](null),s&&s.d(a)}}}function Kf(t,e,n){let{$$slots:i={},$$scope:r}=e,{params:o}=e,{fetch:l}=e,{validate:s=()=>!0}=e,a=!1,{buttonList:u=[{name:"save",label:F.translate("Save","labels"),style:"primary"},{name:"cancel",label:F.translate("Cancel","labels")}]}=e,f;function c(){n(1,a=!0);const g=l();s(g)&&o.onSaved(g),n(1,a=!1)}function d(g){if(g.action){g.action();return}switch(g.name){case"save":c();break}}const m=g=>d(g);function h(g){je[g?"unshift":"push"](()=>{f=g,n(2,f)})}return t.$$set=g=>{"params"in g&&n(4,o=g.params),"fetch"in g&&n(5,l=g.fetch),"validate"in g&&n(6,s=g.validate),"buttonList"in g&&n(0,u=g.buttonList),"$$scope"in g&&n(8,r=g.$$scope)},[u,a,f,d,o,l,s,c,r,i,m,h]}class Qf extends Ge{constructor(e){super(),qe(this,e,Kf,Jf,Le,{params:4,fetch:5,validate:6,buttonList:0,save:7})}get save(){return this.$$.ctx[7]}}function $a(t,e,n){const i=t.slice();return i[22]=e[n],i}function el(t,e,n){const i=t.slice();return i[22]=e[n],i}function tl(t){let e,n,i;function r(){return t[14](t[22])}return{c(){e=T("a"),e.innerHTML='<i class="fas fa-pencil-alt fa-sm svelte-7ge08f"></i>',w(e,"href","javascript:"),w(e,"data-action","editField"),w(e,"class","edit-field svelte-7ge08f")},m(o,l){X(o,e,l),n||(i=he(e,"click",r),n=!0)},p(o,l){t=o},d(o){o&&V(e),n=!1,i()}}}function nl(t){let e,n,i;function r(){return t[15](t[22])}return{c(){e=T("a"),e.innerHTML='<i class="fas fa-times"></i>',w(e,"href","javascript:"),w(e,"data-action","removeField"),w(e,"class","remove-field svelte-7ge08f")},m(o,l){X(o,e,l),n||(i=he(e,"click",r),n=!0)},p(o,l){t=o},d(o){o&&V(e),n=!1,i()}}}function il(t,e){let n,i,r,o=e[22].label+"",l,s,a,u,f,c,d,m=e[22].canEdit&&tl(e),h=e[22].canRemove&&nl(e),g=[Ni(e[22]),{class:d=(e[22].isGroup?"group":"")+" "+(e[22].groupEnd?"end":"")+" "+(e[1][e[22].name]&&!e[22].isGroup?"in-group":"")}],v={};for(let y=0;y<g.length;y+=1)v=In(v,g[y]);return{key:t,first:null,c(){n=T("li"),i=T("div"),r=T("label"),l=_e(o),a=j(),u=T("div"),m&&m.c(),f=j(),h&&h.c(),c=j(),w(r,"title",s=e[22].label),w(r,"class","svelte-7ge08f"),w(i,"class","left svelte-7ge08f"),w(u,"class","right svelte-7ge08f"),Rt(n,v),ye(n,"svelte-7ge08f",!0),this.first=n},m(y,_){X(y,n,_),k(n,i),k(i,r),k(r,l),k(n,a),k(n,u),m&&m.m(u,null),k(u,f),h&&h.m(u,null),k(n,c)},p(y,_){e=y,_&1&&o!==(o=e[22].label+"")&&Je(l,o),_&1&&s!==(s=e[22].label)&&w(r,"title",s),e[22].canEdit?m?m.p(e,_):(m=tl(e),m.c(),m.m(u,f)):m&&(m.d(1),m=null),e[22].canRemove?h?h.p(e,_):(h=nl(e),h.c(),h.m(u,null)):h&&(h.d(1),h=null),Rt(n,v=hi(g,[_&1&&Ni(e[22]),_&3&&d!==(d=(e[22].isGroup?"group":"")+" "+(e[22].groupEnd?"end":"")+" "+(e[1][e[22].name]&&!e[22].isGroup?"in-group":""))&&{class:d}])),ye(n,"svelte-7ge08f",!0)},d(y){y&&V(n),m&&m.d(),h&&h.d()}}}function rl(t,e){let n,i,r,o=e[22].label+"",l,s,a,u=[Ni(e[22])],f={};for(let c=0;c<u.length;c+=1)f=In(f,u[c]);return{key:t,first:null,c(){n=T("li"),i=T("div"),r=T("label"),l=_e(o),a=j(),w(r,"title",s=e[22].label),w(r,"class","svelte-7ge08f"),w(i,"class","left svelte-7ge08f"),Rt(n,f),ye(n,"svelte-7ge08f",!0),this.first=n},m(c,d){X(c,n,d),k(n,i),k(i,r),k(r,l),k(n,a)},p(c,d){e=c,d&8&&o!==(o=e[22].label+"")&&Je(l,o),d&8&&s!==(s=e[22].label)&&w(r,"title",s),Rt(n,f=hi(u,[d&8&&Ni(e[22])])),ye(n,"svelte-7ge08f",!0)},d(c){c&&V(n)}}}function Zf(t){let e,n,i,r,o,l,s,a=[],u=new Map,f,c,d,m,h,g,v,y,_,D=[],p=new Map,C=Ee(t[0].sort(al));const E=b=>b[22].name;for(let b=0;b<C.length;b+=1){let O=el(t,C,b),L=E(O);u.set(L,a[b]=il(L,O))}let A=Ee(t[3]);const S=b=>b[22].name;for(let b=0;b<A.length;b+=1){let O=$a(t,A,b),L=S(O);p.set(L,D[b]=rl(L,O))}return{c(){e=T("div"),n=T("div"),i=T("div"),r=T("header"),r.textContent=`${F.translate("Selected","labels","Admin")}`,o=j(),l=T("div"),s=T("ul");for(let b=0;b<a.length;b+=1)a[b].c();f=j(),c=T("div"),d=j(),m=T("div"),h=T("div"),g=T("header"),g.textContent=`${F.translate("Available","labels","Admin")}`,v=j(),y=T("div"),_=T("ul");for(let b=0;b<D.length;b+=1)D[b].c();w(r,"class","svelte-7ge08f"),w(s,"class","enabled connected svelte-7ge08f"),w(l,"class","rows-wrapper svelte-7ge08f"),w(i,"class","well svelte-7ge08f"),w(n,"class","col-sm-5 svelte-7ge08f"),w(c,"class","col-sm-2 svelte-7ge08f"),w(g,"class","svelte-7ge08f"),w(_,"class","disabled connected svelte-7ge08f"),w(y,"class","rows-wrapper svelte-7ge08f"),w(h,"class","well svelte-7ge08f"),w(m,"class","col-sm-5 svelte-7ge08f"),w(e,"id","layout"),w(e,"class","row svelte-7ge08f")},m(b,O){X(b,e,O),k(e,n),k(n,i),k(i,r),k(i,o),k(i,l),k(l,s);for(let L=0;L<a.length;L+=1)a[L]&&a[L].m(s,null);k(e,f),k(e,c),k(e,d),k(e,m),k(m,h),k(h,g),k(h,v),k(h,y),k(y,_);for(let L=0;L<D.length;L+=1)D[L]&&D[L].m(_,null);t[16](e)},p(b,O){O&2115&&(C=Ee(b[0].sort(al)),a=Xt(a,O,E,1,b,C,u,s,Ut,il,null,el)),O&8&&(A=Ee(b[3]),D=Xt(D,O,S,1,b,A,p,_,Ut,rl,null,$a))},d(b){b&&V(e);for(let O=0;O<a.length;O+=1)a[O].d();for(let O=0;O<D.length;O+=1)D[O].d();t[16](null)}}}function $f(t){let e,n,i={params:t[2],validate:t[8],fetch:t[7],loadData:t[5],buttonList:t[4],$$slots:{default:[Zf]},$$scope:{ctx:t}};return e=new Qf({props:i}),t[17](e),{c(){vt(e.$$.fragment)},m(r,o){ct(e,r,o),n=!0},p(r,[o]){const l={};o&4&&(l.params=r[2]),o&256&&(l.validate=r[8]),o&128&&(l.fetch=r[7]),o&32&&(l.loadData=r[5]),o&16&&(l.buttonList=r[4]),o&134218315&&(l.$$scope={dirty:o,ctx:r}),e.$set(l)},i(r){n||(xe(e.$$.fragment,r),n=!0)},o(r){ze(e.$$.fragment,r),n=!1},d(r){t[17](null),dt(e,r)}}}function ec(t){return t.toLowerCase()}function ol(t,e){return t[e]}function Ni(t){let e={};return["name","id"].forEach(n=>{ol(t,n)!=null&&(e[`data-${ec(n)}`]=ol(t,n))}),e}const al=(t,e)=>t.sortOrder-e.sortOrder;function tc(t,e,n){let i,r,o,{params:l}=e,{enabledItems:s=[]}=e,{disabledItems:a=[]}=e,{buttonList:u}=e,{loadData:f}=e,{refresh:c=()=>{}}=e,{editItem:d}=e,{getGroupId:m=()=>"id"}=e,{fieldsInGroup:h}=e,g;function v(b){let O=!1,L={};b.forEach(N=>{if(N.isGroup){O=N.name!=="";return}O&&(L[N.name]=!0)}),n(1,h=L)}Rn(()=>{y()}),ir(()=>{r&&r.destroy(),o&&o.destroy()});function y(){const b={group:"fields",draggable:"li",animation:150};r=J.create(i.querySelector("ul.enabled"),{...b,onEnd(O){if(O.to.closest(".connected").classList.contains("enabled")){const[L]=s.splice(O.oldIndex,1);s.splice(O.newIndex,0,L);for(let N=O.newIndex;N<s.length;N++)n(0,s[N].sortOrder=(N>0?s[N-1].sortOrder:0)+N,s);v(s),c()}else{const L=s[O.oldIndex];if(L.canDisabled===!1){c();return}s.splice(O.oldIndex,1),a.splice(O.newIndex,0,L),c()}}}),o=J.create(i.querySelector("ul.disabled"),{...b,onEnd(O){if(O.to.closest(".connected").classList.contains("disabled")){const[L]=a.splice(O.oldIndex,1);a.splice(O.newIndex,0,L)}else{const L=a[O.oldIndex];a.splice(O.oldIndex,1),s.splice(O.newIndex,0,L);for(let N=O.newIndex;N<s.length;N++)n(0,s[N].sortOrder=(N>0?s[N-1].sortOrder:0)+N,s);v(s),c()}}})}let{fetch:_=()=>{let b=[],O=!1,L=!1;for(let M=0;M<s.length;M++){const H=s[M];if(H.isGroup){O=!H.groupEnd,b.push({id:H.id,name:H.name,color:H.color,iconClass:H.iconClass,items:[]});continue}O?b[b.length-1].items.push(H.name):b.push(H.name)}let N=!1,z=b.filter(M=>{if(typeof M=="object"){if(M.name!==""&&!M.items.length)return!1;if(M.name!==""&&M.items.length)return N=!0,!0;if(M.name===""&&N)return N=!1,!0;if(M.name===""&&!N)return!1}return!0});L=z.length!==b.length,b=z;let K=[];for(let M=0;M<b.length;M++){let H=b[M];K.push(H),typeof H=="object"&&H.name!==""&&(M===b.length-1||!(typeof b[M+1]=="object"&&b[M+1].name===""))&&(L=!0,K.push({id:m(),name:"",items:[]}))}return{adjusted:L,navigation:K}}}=e;function D(b){s.splice(s.findIndex(O=>O.id===b.id),1),c()}let{validate:p=b=>b.length===0?(tt.notify("Menu cannot be empty","error"),!1):!0}=e;const C=b=>d(b),E=b=>D(b);function A(b){je[b?"unshift":"push"](()=>{i=b,n(9,i)})}function S(b){je[b?"unshift":"push"](()=>{g=b,n(10,g)})}return t.$$set=b=>{"params"in b&&n(2,l=b.params),"enabledItems"in b&&n(0,s=b.enabledItems),"disabledItems"in b&&n(3,a=b.disabledItems),"buttonList"in b&&n(4,u=b.buttonList),"loadData"in b&&n(5,f=b.loadData),"refresh"in b&&n(12,c=b.refresh),"editItem"in b&&n(6,d=b.editItem),"getGroupId"in b&&n(13,m=b.getGroupId),"fieldsInGroup"in b&&n(1,h=b.fieldsInGroup),"fetch"in b&&n(7,_=b.fetch),"validate"in b&&n(8,p=b.validate)},t.$$.update=()=>{t.$$.dirty&1&&v(s)},[s,h,l,a,u,f,d,_,p,i,g,D,c,m,C,E,A,S]}class ll extends Ge{constructor(e){super(),qe(this,e,tc,$f,Le,{params:2,enabledItems:0,disabledItems:3,buttonList:4,loadData:5,refresh:12,editItem:6,getGroupId:13,fieldsInGroup:1,fetch:7,validate:8})}}function sl(t){let e,n,i={params:t[0],enabledItems:t[2],disabledItems:t[4],buttonList:t[6],fieldsInGroup:t[5],refresh:t[7],editItem:t[8],getGroupId:Kn};return e=new ll({props:i}),t[9](e),{c(){vt(e.$$.fragment)},m(r,o){ct(e,r,o),n=!0},p(r,o){const l={};o&1&&(l.params=r[0]),o&4&&(l.enabledItems=r[2]),e.$set(l)},i(r){n||(xe(e.$$.fragment,r),n=!0)},o(r){ze(e.$$.fragment,r),n=!1},d(r){t[9](null),dt(e,r)}}}function nc(t){let e,n=t[3],i,r=sl(t);return{c(){e=T("div"),r.c()},m(o,l){X(o,e,l),r.m(e,null),i=!0},p(o,[l]){l&8&&Le(n,n=o[3])?(Yo(),ze(r,1,1,Me),Jo(),r=sl(o),r.c(),xe(r,1),r.m(e,null)):r.p(o,l)},i(o){i||(xe(r),i=!0)},o(o){ze(r),i=!1},d(o){o&&V(e),r.d(o)}}}let ic="_delimiter_";function Kn(){return ic+rc()}function rc(){return Math.floor((1+Math.random())*4294967296).toString(16).substring(1)}function oc(t,e,n){let{params:i}=e,r,o=[],l=[],s=0,a={},u=[{name:"save",label:F.translate("Save","labels"),style:"primary"},{name:"cancel",label:F.translate("Cancel","labels")},{name:"addGroup",label:F.translate("addGroup","labels"),cssStyle:"margin-left: 30px",action:()=>{i.onEditItem({id:Kn(),groupEnd:!1},h=>{let g=10;o.length&&(g=o[o.length-1].sortOrder+10);let v={isGroup:!0,canEdit:!0,canRemove:!0,isGroup:!0,canDisabled:!1,name:"",label:"",sortOrder:g,...h};o.push(v),v.name!==""&&o.push({id:Kn(),isGroup:!0,canEdit:!0,canRemove:!0,isGroup:!0,canDisabled:!1,groupEnd:!0,name:"",label:"",sortOrder:v.sortOrder+1}),f()})}}];function f(){n(3,s++,s)}function c(h){i.onEditItem(h,g=>{let v=o.findIndex(y=>y.id===g.id);n(2,o[v]=g,o),f()})}d();function d(){let h=i.list??[],g=0;for(let v=0;v<h.length;v++){let y=h[v];if(typeof y=="string")me.get(["scopes",y,"tab"])&&o.push({name:y,label:F.translate(y,"scopeNamesPlural"),sortOrder:g}),g++;else if(typeof y=="object"){o.push({id:y.id??Kn(),canEdit:!0,canRemove:!0,isGroup:!0,canDisabled:!1,groupEnd:y.name==="",name:y.name,label:y.name,iconClass:y.iconClass||null,sortOrder:g}),g++;for(const _ of y.items)me.get(["scopes",_,"tab"])&&(o.push({name:_,label:F.translate(_,"scopeNamesPlural"),sortOrder:g}),g++);if(v<h.length-1&&h[v+1].name==="")continue;y.name!==""&&(v===h.length-1||typeof h[v+v]=="string"||y.items.length===0)&&(o.push({id:Kn(),canEdit:!0,canRemove:!0,canDisabled:!1,isGroup:!0,groupEnd:!0,name:"",label:"",iconClass:y.iconClass||null,sortOrder:g}),g++)}}Object.entries(me.get(["scopes"])).forEach(([v,y])=>{y.disabled||y.emHidden||!y.tab||o.find(_=>_.name===v)||l.push({name:v,label:F.translate(v,"scopeNamesPlural")})}),l.sort((v,y)=>v.label.localeCompare(y.label))}function m(h){je[h?"unshift":"push"](()=>{r=h,n(1,r)})}return t.$$set=h=>{"params"in h&&n(0,i=h.params)},[i,r,o,s,l,a,u,f,c,m]}class ac extends Ge{constructor(e){super(),qe(this,e,oc,nc,Le,{params:0})}}function ul(t){let e,n,i={params:t[0],enabledItems:t[3],disabledItems:t[4],buttonList:t[6],fieldsInGroup:t[5],refresh:t[7],validate:sc};return e=new ll({props:i}),t[8](e),{c(){vt(e.$$.fragment)},m(r,o){ct(e,r,o),n=!0},p(r,o){const l={};o&1&&(l.params=r[0]),e.$set(l)},i(r){n||(xe(e.$$.fragment,r),n=!0)},o(r){ze(e.$$.fragment,r),n=!1},d(r){t[8](null),dt(e,r)}}}function lc(t){let e,n=t[2],i,r=ul(t);return{c(){e=T("div"),r.c()},m(o,l){X(o,e,l),r.m(e,null),i=!0},p(o,[l]){l&4&&Le(n,n=o[2])?(Yo(),ze(r,1,1,Me),Jo(),r=ul(o),r.c(),xe(r,1),r.m(e,null)):r.p(o,l)},i(o){i||(xe(r),i=!0)},o(o){ze(r),i=!1},d(o){o&&V(e),r.d(o)}}}function sc(t){return!0}function uc(t,e,n){let{params:i}=e,r,o=[],l=[],s=0,a={},u=[{name:"save",label:F.translate("Save","labels"),style:"primary"},{name:"cancel",label:F.translate("Cancel","labels")}];function f(){n(2,s++,s)}c();function c(){let m=i.list??[],h=0;for(let g=0;g<m.length;g++){let v=m[g];typeof v=="string"&&(me.get(["scopes",v,"tab"])&&o.push({name:v,label:F.translate(v,"scopeNamesPlural"),sortOrder:h}),h++)}Object.entries(me.get(["scopes"])).forEach(([g,v])=>{v.disabled||v.emHidden||!v.tab||o.find(y=>y.name===g)||l.push({name:g,label:F.translate(g,"scopeNamesPlural")})}),l.sort((g,v)=>g.label.localeCompare(v.label))}function d(m){je[m?"unshift":"push"](()=>{r=m,n(1,r)})}return t.$$set=m=>{"params"in m&&n(0,i=m.params)},[i,r,s,o,l,a,u,f,d]}class fc extends Ge{constructor(e){super(),qe(this,e,uc,lc,Le,{params:0})}}function fl(t,{delay:e=0,duration:n=400,easing:i=Lo}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:i,css:o=>`opacity: ${o*r}`}}function cl(t,e,n){const i=t.slice();return i[58]=e[n],i}function cc(t){let e,n,i,r,o,l,s=Ee(t[5]),a=[];for(let f=0;f<s.length;f+=1)a[f]=dl(cl(t,s,f));let u=t[1]&&pl(t);return{c(){e=T("div"),n=T("div");for(let f=0;f<a.length;f+=1)a[f].c();i=j(),r=T("hr"),o=j(),u&&u.c(),l=tr(),w(n,"class","btn-group"),w(e,"class","panel-group"),be(e,"margin-bottom","10px"),be(e,"margin-top","-10px"),be(r,"margin","0 -10px")},m(f,c){X(f,e,c),k(e,n);for(let d=0;d<a.length;d+=1)a[d]&&a[d].m(n,null);X(f,i,c),X(f,r,c),X(f,o,c),u&&u.m(f,c),X(f,l,c)},p(f,c){if(c[0]&16418){s=Ee(f[5]);let d;for(d=0;d<s.length;d+=1){const m=cl(f,s,d);a[d]?a[d].p(m,c):(a[d]=dl(m),a[d].c(),a[d].m(n,null))}for(;d<a.length;d+=1)a[d].d(1);a.length=s.length}f[1]?u?u.p(f,c):(u=pl(f),u.c(),u.m(l.parentNode,l)):u&&(u.d(1),u=null)},d(f){f&&(V(e),V(i),V(r),V(o),V(l)),Nn(a,f),u&&u.d(f)}}}function dl(t){let e,n=t[58].label+"",i,r,o,l;function s(){return t[35](t[58])}return{c(){e=T("a"),i=_e(n),r=j(),w(e,"href","javascript:"),w(e,"class","btn btn-link tree-item svelte-csuwvv"),ye(e,"active",t[58].name===t[1].name)},m(a,u){X(a,e,u),k(e,i),k(e,r),o||(l=he(e,"click",s),o=!0)},p(a,u){t=a,u[0]&32&&n!==(n=t[58].label+"")&&Je(i,n),u[0]&34&&ye(e,"active",t[58].name===t[1].name)},d(a){a&&V(e),o=!1,l()}}}function pl(t){let e,n,i=t[1].label+"",r,o,l,s,a,u,f,c,d,m,h,g,v,y,_,D,p;return{c(){e=T("div"),n=T("h5"),r=_e(i),o=j(),l=T("div"),s=T("input"),a=j(),u=T("button"),f=j(),c=T("button"),d=j(),m=T("div"),h=T("button"),g=_e("Unset selection"),y=j(),_=T("div"),_.innerHTML="",be(n,"margin","20px 0"),be(n,"font-weight","bold"),be(n,"font-size","16px"),w(s,"type","text"),w(s,"class","form-control category-search search-in-tree-input"),w(s,"tabindex","1"),w(s,"placeholder","Type and press Enter..."),w(u,"class","fas fa-times reset-search-in-tree-button"),ye(u,"hidden",!t[6]),w(c,"class","fas fa-search search-in-tree-button"),w(l,"class","field"),w(l,"data-name","category-search"),w(h,"type","button"),h.disabled=v=!t[7]||!t[9],w(h,"class","btn btn-default"),be(m,"margin-top","20px"),w(e,"class","panel-group category-search"),be(e,"margin-bottom","20px"),w(_,"class","panel-group category-tree")},m(C,E){X(C,e,E),k(e,n),k(n,r),k(e,o),k(e,l),k(l,s),t[36](s),k(l,a),k(l,u),k(l,f),k(l,c),k(e,d),k(e,m),k(m,h),k(h,g),X(C,y,E),X(C,_,E),t[38](_),D||(p=[he(s,"keydown",t[37]),he(u,"click",t[15]),he(c,"click",t[16]),he(h,"click",t[13])],D=!0)},p(C,E){E[0]&2&&i!==(i=C[1].label+"")&&Je(r,i),E[0]&64&&ye(u,"hidden",!C[6]),E[0]&640&&v!==(v=!C[7]||!C[9])&&(h.disabled=v)},d(C){C&&(V(e),V(y),V(_)),t[36](null),t[38](null),D=!1,ft(p)}}}function hl(t){let e,n,i;return{c(){e=T("div"),w(e,"class","category-panel-resizer svelte-csuwvv")},m(r,o){X(r,e,o),n||(i=he(e,"mousedown",t[12]),n=!0)},p:Me,d(r){r&&V(e),n=!1,i()}}}function dc(t){let e,n,i,r,o,l,s,a,u,f,c,d,m,h,g;function v(p,C){if(p[5].length>0)return cc}let y=v(t),_=y&&y(t),D=!t[0]&&hl(t);return{c(){e=T("aside"),n=T("button"),i=T("span"),r=j(),o=T("span"),l=j(),s=T("div"),a=T("div"),u=T("div"),f=j(),_&&_.c(),c=j(),D&&D.c(),w(i,"class","toggle-icon-left fas fa-angle-left"),ye(i,"hidden",t[0]),w(o,"class","toggle-icon-right fas fa-angle-right"),ye(o,"hidden",!t[0]),w(n,"type","button"),w(n,"class","btn btn-link collapse-panel"),ye(n,"collapsed",t[0]),be(u,"margin-right","20px"),w(u,"class","layout-editor-container"),be(a,"display","flex"),be(a,"flex-direction","row-reverse"),be(a,"align-items","center"),be(a,"height","35px"),w(s,"class","category-panel"),ye(s,"hidden",t[0]),w(e,"class","catalog-tree-panel"),be(e,"width",t[10]),ye(e,"collapsed",t[0]),ye(e,"catalog-tree-panel-hidden",t[0]),ye(e,"hidden",t[8])},m(p,C){X(p,e,C),k(e,n),k(n,i),k(n,r),k(n,o),k(e,l),k(e,s),k(s,a),k(a,u),t[34](u),k(s,f),_&&_.m(s,null),k(s,c),D&&D.m(s,null),m=!0,h||(g=he(n,"click",t[11]),h=!0)},p(p,C){(!m||C[0]&1)&&ye(i,"hidden",p[0]),(!m||C[0]&1)&&ye(o,"hidden",!p[0]),(!m||C[0]&1)&&ye(n,"collapsed",p[0]),y===(y=v(p))&&_?_.p(p,C):(_&&_.d(1),_=y&&y(p),_&&(_.c(),_.m(s,c))),p[0]?D&&(D.d(1),D=null):D?D.p(p,C):(D=hl(p),D.c(),D.m(s,null)),(!m||C[0]&1)&&ye(s,"hidden",p[0]),(!m||C[0]&1024)&&be(e,"width",p[10]),(!m||C[0]&1)&&ye(e,"collapsed",p[0]),(!m||C[0]&1)&&ye(e,"catalog-tree-panel-hidden",p[0]),(!m||C[0]&256)&&ye(e,"hidden",p[8])},i(p){m||(p&&Bn(()=>{m&&(d||(d=Ko(e,fl,{},!0)),d.run(1))}),m=!0)},o(p){p&&(d||(d=Ko(e,fl,{},!1)),d.run(0)),m=!1},d(p){p&&V(e),t[34](null),_&&_.d(),D&&D.d(),p&&d&&d.end(),h=!1,g()}}}function pc(t){let e=[];return(t||"").split("|").forEach(n=>{n&&e.push(n)}),e}function hc(t,e,n){((n||t.tree("getTree")).children||[]).findIndex(o=>e.id===o.id)===-1&&t.tree("appendNode",e,n)}function mc(t,e,n){((n||t.tree("getTree")).children||[]).findIndex(o=>e.id===o.id)===-1&&t.tree("prependNode",e,n)}function Ar(t,e,n){if(!Array.isArray(e)||e.length===0){n();return}const i=e[0];let r=t.find(`.jqtree-title[data-id="${i}"]`);r.length>0&&r.each((o,l)=>{if(l=window.$(l),l.parent().parent().hasClass("jqtree-closed")){let a=t.tree("getNodeByHtmlElement",l);t.tree("openNode",a,!1,()=>Ar(t,e.slice(1),n))}else Ar(t,e.slice(1),n)})}function vc(t,e,n){let i,r,{scope:o}=e,{model:l}=e,{collection:s}=e,{callbacks:a}=e,{minWidth:u=220}=e,{maxWidth:f=600}=e,{currentWidth:c=u}=e,{isCollapsed:d=!1}=e,{mode:m}=e,{maxSize:h=ta.get("recordsPerPageSmall")||20}=e,{renderLayoutEditor:g}=e;rr();let v,y,_,D=!1,p,C,E=[],A,S="",b,O,L,N=!1;function z(I){s&&I.name===o&&Oe.set("treeWhereData",o,I.where),d||fe()}function K(){n(0,d=!d),d?(window.$(".page-header").addClass("collapsed").removeClass("not-collapsed"),window.$("#tree-list-table").addClass("collapsed")):(window.$(".page-header").removeClass("collapsed").addClass("not-collapsed"),window.$("#tree-list-table").removeClass("collapsed")),Oe.set("catalog-tree-panel",o,d?"collapsed":""),d||fe()}function M(I){if(!D)return;I.preventDefault();const ee=C+(I.pageX-p);ee>=u&&ee<=f&&n(17,c=ee)}function H(I){D=!0,p=I.pageX,C=c,document.addEventListener("mousemove",M),document.addEventListener("mouseup",ae,{once:!0}),document.body.style.userSelect="none"}function ae(){D&&(D=!1,Oe.set("panelWidth",o,c.toString()),document.removeEventListener("mousemove",M),document.body.style.userSelect="")}function fe(){Re(),Ae()}function Re(){let I=window.$(v);I&&I.tree("destroy")}function Be(){let I=Oe.get("treeWhereData",o)||[];return["_self","_bookmark"].includes(A.name)||(I=[]),I}function Ae(I=null){if(!A)return;let ee=window.$(v),Q=Be();if(I===null&&S&&me.get(["scopes",b,"type"])==="Hierarchy"&&!me.get(["scopes",b,"hierarchyDisabled"])){Q.push({type:"textFilter",value:S}),Espo.ajax.getRequest(`${b}/action/TreeData`,{where:Q,scope:o,link:A.name}).then(re=>{Ae(re.tree)});return}let le={dataUrl:B(),dataFilter:(function(re){return ie(re)}).bind(this),selectable:!0,saveState:!1,autoOpen:!1,dragAndDrop:me.get(["scopes",b,"multiParents"])!==!0&&me.get(["scopes",b,"dragAndDrop"]),useContextMenu:!1,closedIcon:window.$('<i class="fa fa-angle-right"></i>'),openedIcon:window.$('<i class="fa fa-angle-down"></i>'),onCreateLi:(function(re,se,ve){re.disabled?se.addClass("disabled"):se.removeClass("disabled");const Te=se.find(".jqtree-title");if(S){let Wt=S.replace(/\*/g,"");if(Wt.length>0){let Mi=Te.html(),xi=Mi.match(new RegExp(Wt,"ig"));if(xi){let P=[];xi.forEach(q=>{P.includes(q)||(P.push(q),Te.html(Mi.replace(new RegExp(q,"g"),`<b>${q}</b>`)))})}}}["_self","_bookmark"].includes(A.name)&&l&&l.get("id")===re.id&&(ee.tree("addToSelection",re),se.addClass("jqtree-selected")),!["_self","_bookmark"].includes(A.name)&&L===re.id&&(ee.tree("addToSelection",re),se.addClass("jqtree-selected")),Te.attr("data-id",re.id),le.dragAndDrop&&!re.showMoreDirection&&Te.attr("title",F.translate("useDragAndDrop")),re.showMoreDirection&&(se.addClass("show-more"),se.addClass("show-more-"+re.showMoreDirection),se.find(".jqtree-title").addClass("more-label"))}).bind(this)};I&&(le.data=I,le.autoOpen=!0,le.dragAndDrop=!1,delete le.dataUrl,delete le.dataFilter),ee.tree(le),ee.on("tree.load_data",re=>{tt.notify(!1)}),ee.on("tree.refresh",re=>{if(Oe.get("selectedNodeId",o)&&m==="list"){const se=Oe.get("selectedNodeId",o),ve=Oe.get("selectedNodeRoute",o);a!=null&&a.selectNode&&a.selectNode({id:se,route:ve},!0)}m==="detail"&&(l&&["_self","_bookmark"].includes(A.name)?x(l.get("id"),Object.keys(l.get("hierarchyRoute")).reverse()):Oe.get("selectedNodeId",o)&&x(Oe.get("selectedNodeId",o),pc(Oe.get("selectedNodeRoute",o))))}),ee.on("tree.move",re=>{re.preventDefault();const se="parent";let ve=re.move_info,Te={_position:ve.position,_target:ve.target_node.id};Te[se+"Id"]=null,Te[se+"Name"]=null,ve.position==="inside"?(Te[se+"Id"]=ve.target_node.id,Te[se+"Name"]=ve.target_node.name):ve.target_node.parent.id&&(Te[se+"Id"]=ve.target_node.parent.id,Te[se+"Name"]=ve.target_node.parent.name),Espo.ajax.patchRequest(`${b}/${ve.moved_node.id}`,Te).success(Wt=>{ve.do_move()})}),ee.on("tree.click",re=>{if(re.preventDefault(),re.node.disabled)return!1;const se=window.$(re.click_event.target);if(se.hasClass("jqtree-title")||se.parent().hasClass("jqtree-title")){let ve=re.node;if(ve.showMoreDirection)return Ne(ve);let Te=[];for(;ve.parent.id;)Te.push(ve.parent.id),ve=ve.parent;let Wt={id:re.node.id,route:"",click:!0};Te.length>0&&(Wt.route="|"+Te.reverse().join("|")+"|"),a!=null&&a.selectNode&&a.selectNode(Wt)}})}function Ne(I){tt.notify("Loading..."),Espo.ajax.getRequest(B(I)).then(ee=>{if(ee.list){const Q=window.$(v);I.showMoreDirection==="up"?ie(JSON.parse(JSON.stringify(ee)),"up").reverse().forEach(le=>{mc(Q,le,I.getParent())}):I.showMoreDirection==="down"&&ie(JSON.parse(JSON.stringify(ee)),"down").forEach(le=>{hc(Q,le,I.getParent())}),Q.tree("removeNode",I)}})}function B(I){let ee=b+`/action/Tree?isTreePanel=1&scope=${o}&link=${A.name}`;if(I&&I.showMoreDirection){let le=I.offset,re=h;if(I.showMoreDirection==="up"){let se=I.offset-re;le=I.offset-re,se<0?(le=0,re=re+se):le=se}else I.showMoreDirection==="down"&&(le=le+1);ee+="&offset="+le+"&maxSize="+re,I.getParent()&&(ee+="&node="+I.getParent().id)}else I&&I.id?ee+="&node="+I.id+"&offset=0&maxSize="+h:l&&l.id&&[l.urlRoot,"Bookmark"].includes(b)&&(ee+="&selectedId="+l.id);let Q=Be();return S&&(Q=[...Q,{type:"textFilter",value:S}]),Q.length>0&&(ee+="&",ee+=window.$.param({where:Q})),ee}function x(I,ee){const Q=window.$(v);Ar(Q,ee,()=>{let re=Q.tree("getNodeById",I);re&&(Q.tree("addToSelection",re),n(7,L=I)),Q.find(".jqtree-title").each((se,ve)=>{ve=window.$(ve);let Te=ve.parent().parent();ve.data("id")!==I&&Q.tree("getNodeById",ve.data("id"))?(Q.tree("removeFromSelection",Q.tree("getNodeById",ve.data("id"))),Te.removeClass("jqtree-selected")):Te.hasClass("jqtree-selected")||Te.addClass("jqtree-selected")})})}function W(){a!=null&&a.selectNode&&a.selectNode({id:L})}function Y(I){const ee=$(),Q=ee.tree("getNodeById",I);n(7,L=null),Q&&ee.tree("removeFromSelection",Q)}function $(){return window.$(v)}function ie(I,ee=null){return I.list?(oe(I.list,ee),I.list):I}function oe(I,ee){if(!ee||ee==="up"){let Q=JSON.parse(JSON.stringify(I)).shift();Q&&Q.offset&&Q.offset!==0&&I.unshift({id:"show-more-"+Q.offset,offset:Q.offset,showMoreDirection:"up",name:F.translate("Show more")})}if(!ee||ee==="down"){let Q=JSON.parse(JSON.stringify(I)).pop();Q&&Q.offset&&Q.total-1!==Q.offset&&I.push({id:"show-more-"+Q.offset,offset:Q.offset,showMoreDirection:"down",name:F.translate("Show more")})}I.forEach(Q=>{Q.children&&oe(Q.children)})}function we(I){return I==="_self"?o:I==="_bookmark"?"Bookmark":me.get(["entityDefs",o,"links",I,"entity"])||me.get(["entityDefs",o,"fields",I,"entity"])}function de(I){A&&A.name===I.name||(n(6,S=""),n(4,_.value="",_),Oe.clear("treeSearchValue",b),m==="list"?L&&(a!=null&&a.selectNode&&a.selectNode({id:L}),n(7,L=null)):n(7,L=null),n(1,A=I),Oe.set("treeItem",o,I.name),tt.notify("Loading..."),un().then(()=>{fe()}))}function We(){n(4,_.value="",_),m==="detail"&&Oe.clear("treeWhereData",o),Ce()}function Ce(){n(6,S=_.value),S?Oe.set("treeSearchValue",o,S):Oe.clear("treeSearchValue",o),tt.notify("Loading..."),fe()}function Xe(){b==="Bookmark"&&fe()}function Qe(){return O}function It(I){Dt.get(o,"leftSidebar",null,null,ee=>{O=ee,n(5,E=ee.layout.map(le=>{const re=me.get(["entityDefs",o,"fields",le.name,"type"]);let se="";if(le.name==="_self")se=F.get("Global","scopeNamesPlural",o);else if(le.name==="_bookmark")se=F.get("Global","scopeNamesPlural","Bookmark");else{if(re=="link"){const ve=we(le.name);se=F.get("Global","scopeNamesPlural",ve)}se||(se=F.get(o,"links",le.name)||F.get(o,"fields",le.name)||F.get("Global","fields",le.name))}return{name:le.name,label:se}}));const Q=Oe.get("treeItem",o);E.length>0&&(!Q||!E.find(le=>le.name===Q)?(Oe.set("treeItem",o,E[0].name),n(1,A=E[0])):n(1,A=E.find(le=>le.name===Q))),I()})}function Qt(){It(()=>{un().then(()=>{fe()})})}Rn(()=>{const I=Oe.get("panelWidth",o);return I&&n(17,c=parseInt(I)||u),(window.innerWidth<=767||Oe.get("catalog-tree-panel",o))&&n(0,d=!0),It(()=>{var ee,Q;E.length===0&&(n(0,d=!0),(Q=(ee=mi.get())==null?void 0:ee.user)!=null&&Q.isAdmin||n(8,N=!0)),un().then(()=>{n(6,S=Oe.get("treeSearchValue",o)||null),S&&n(4,_.value=S,_),d||Ae()}),g&&g(y)}),()=>{D&&ae()}});function bn(I){je[I?"unshift":"push"](()=>{y=I,n(3,y)})}const yn=I=>de(I);function yt(I){je[I?"unshift":"push"](()=>{_=I,n(4,_)})}const Ct=I=>I.key==="Enter"&&Ce();function Zt(I){je[I?"unshift":"push"](()=>{v=I,n(2,v)})}return t.$$set=I=>{"scope"in I&&n(18,o=I.scope),"model"in I&&n(19,l=I.model),"collection"in I&&n(20,s=I.collection),"callbacks"in I&&n(21,a=I.callbacks),"minWidth"in I&&n(22,u=I.minWidth),"maxWidth"in I&&n(23,f=I.maxWidth),"currentWidth"in I&&n(17,c=I.currentWidth),"isCollapsed"in I&&n(0,d=I.isCollapsed),"mode"in I&&n(24,m=I.mode),"maxSize"in I&&n(25,h=I.maxSize),"renderLayoutEditor"in I&&n(26,g=I.renderLayoutEditor)},t.$$.update=()=>{t.$$.dirty[0]&2228224&&c&&a!=null&&a.treeWidthChanged&&a.treeWidthChanged(c),t.$$.dirty[0]&131073&&n(10,i=d?"auto":`${c}px`),t.$$.dirty[0]&2&&(b=A?we(A.name):null),t.$$.dirty[0]&16777218&&n(9,r=A&&!["_self","_bookmark"].includes(A.name)&&m==="list")},[d,A,v,y,_,E,S,L,N,r,i,K,H,W,de,We,Ce,c,o,l,s,a,u,f,m,h,g,z,fe,x,Y,Xe,Qe,Qt,bn,yn,yt,Ct,Zt]}class gc extends Ge{constructor(e){super(),qe(this,e,vc,dc,Le,{scope:18,model:19,collection:20,callbacks:21,minWidth:22,maxWidth:23,currentWidth:17,isCollapsed:0,mode:24,maxSize:25,renderLayoutEditor:26,handleCollectionSearch:27,rebuildTree:28,selectTreeNode:29,unSelectTreeNode:30,reloadBookmarks:31,getLayoutData:32,refreshLayout:33},null,[-1,-1])}get handleCollectionSearch(){return this.$$.ctx[27]}get rebuildTree(){return this.$$.ctx[28]}get selectTreeNode(){return this.$$.ctx[29]}get unSelectTreeNode(){return this.$$.ctx[30]}get reloadBookmarks(){return this.$$.ctx[31]}get getLayoutData(){return this.$$.ctx[32]}get refreshLayout(){return this.$$.ctx[33]}}window.SvelteLanguage=F,window.SvelteUserData=mi,window.SvelteNotifier=tt,window.SvelteLayoutManager=Dt,window.SvelteMetadata=me,window.SvelteModelFactory=gi,window.SvelteConfig=ta,window.SvelteStorage=Oe,window.driver=Rl,window.tippy=Pn,Fe.ApiRequestComponent=Yf,Fe.Favorites=fc,Fe.JobManagerIcon=Bu,Fe.LayoutComponent=Vf,Fe.Navigation=ac,Fe.TreePanel=gc,Fe.UpdatePanel=Gu,Object.defineProperty(Fe,Symbol.toStringTag,{value:"Module"})});
