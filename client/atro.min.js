(function(_,c){typeof exports=="object"&&typeof module<"u"?c(exports):typeof define=="function"&&define.amd?define(["exports"],c):(_=typeof globalThis<"u"?globalThis:_||self,c(_.Svelte={}))})(this,function(_){"use strict";var qe=Object.defineProperty;var Ne=(_,c,v)=>c in _?qe(_,c,{enumerable:!0,configurable:!0,writable:!0,value:v}):_[c]=v;var J=(_,c,v)=>Ne(_,typeof c!="symbol"?c+"":c,v);function c(){}function v(e){return e()}function R(){return Object.create(null)}function j(e){e.forEach(v)}function K(e){return typeof e=="function"}function G(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function fe(e){return Object.keys(e).length===0}function b(e,t){e.appendChild(t)}function S(e,t,n){e.insertBefore(t,n||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function m(e){return document.createElement(e)}function W(e){return document.createTextNode(e)}function q(){return W(" ")}function ce(){return W("")}function M(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function de(e){return Array.from(e.childNodes)}let N;function D(e){N=e}function X(){if(!N)throw new Error("Function called outside component initialization");return N}function pe(e){X().$$.on_mount.push(e)}function he(e){X().$$.on_destroy.push(e)}const x=[],Q=[];let T=[];const Y=[],_e=Promise.resolve();let U=!1;function be(){U||(U=!0,_e.then(Z))}function V(e){T.push(e)}const B=new Set;let C=0;function Z(){if(C!==0)return;const e=N;do{try{for(;C<x.length;){const t=x[C];C++,D(t),me(t.$$)}}catch(t){throw x.length=0,C=0,t}for(D(null),x.length=0,C=0;Q.length;)Q.pop()();for(let t=0;t<T.length;t+=1){const n=T[t];B.has(n)||(B.add(n),n())}T.length=0}while(x.length);for(;Y.length;)Y.pop()();U=!1,B.clear(),D(e)}function me(e){if(e.fragment!==null){e.update(),j(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(V)}}function ge(e){const t=[],n=[];T.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),T=t}const A=new Set;let we;function ee(e,t){e&&e.i&&(A.delete(e),e.i(t))}function ye(e,t,n,i){if(e&&e.o){if(A.has(e))return;A.add(e),we.c.push(()=>{A.delete(e)}),e.o(t)}}function ke(e){e&&e.c()}function te(e,t,n){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),V(()=>{const a=e.$$.on_mount.map(v).filter(K);e.$$.on_destroy?e.$$.on_destroy.push(...a):j(a),e.$$.on_mount=[]}),s.forEach(V)}function ne(e,t){const n=e.$$;n.fragment!==null&&(ge(n.after_update),j(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(e,t){e.$$.dirty[0]===-1&&(x.push(e),be(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ie(e,t,n,i,s,a,u=null,r=[-1]){const f=N;D(e);const l=e.$$={fragment:null,ctx:[],props:a,update:c,not_equal:s,bound:R(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:R(),dirty:r,skip_bound:!1,root:t.target||f.$$.root};u&&u(l.root);let p=!1;if(l.ctx=n?n(e,t.props||{},(h,y,...k)=>{const o=k.length?k[0]:y;return l.ctx&&s(l.ctx[h],l.ctx[h]=o)&&(!l.skip_bound&&l.bound[h]&&l.bound[h](o),p&&$e(e,h)),y}):[],l.update(),p=!0,j(l.before_update),l.fragment=i?i(l.ctx):!1,t.target){if(t.hydrate){const h=de(t.target);l.fragment&&l.fragment.l(h),h.forEach(E)}else l.fragment&&l.fragment.c();t.intro&&ee(e.$$.fragment),te(e,t.target,t.anchor),Z()}D(f)}class se{constructor(){J(this,"$$");J(this,"$$set")}$destroy(){ne(this,1),this.$destroy=c}$on(t,n){if(!K(n))return c;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!fe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ve="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ve);const L=[];function F(e,t=c){let n;const i=new Set;function s(r){if(G(e,r)&&(e=r,n)){const f=!L.length;for(const l of i)l[1](),L.push(l,e);if(f){for(let l=0;l<L.length;l+=2)L[l][0](L[l+1]);L.length=0}}}function a(r){s(r(e))}function u(r,f=c){const l=[r,f];return i.add(l),i.size===1&&(n=t(s,a)||c),r(e),()=>{i.delete(l),i.size===0&&n&&(n(),n=null)}}return{set:s,update:a,subscribe:u}}const H=F({}),g={setTranslations(e){H.set(e)},has(e,t,n){let i=!1;return H.subscribe(s=>{if(n in s&&t in s[n]&&e in s[n][t]){i=!0;return}})(),i},get(e,t,n){let i=n;return H.subscribe(s=>{if(e in s&&t in s[e]&&n in s[e][t]){i=s[e][t][n];return}if(e in s&&t in s[e]&&n in s[e][t]){i=s[e][t][n];return}if(e=="Global"){i=n;return}i=null})(),i},translate(e,t=null,n=null){n=n||"Global",t=t||"labels";let i=g.get(n,t,e);return i===null&&n!="Global"&&(i=g.get("Global",t,e)),i},translateOption(e,t,n=null){let i=g.translate(t,"options",n);return i===null?"":typeof i=="object"?i[e]:e}},le=F({}),re={set(e){le.set(e)},get(){let e=null;return le.subscribe(t=>{t&&(e=t)})(),e}},oe=F(),ae={setNotifier(e){oe.set(e)},notify(e,t=null,n=2e3){oe.subscribe(i=>{i&&i.notify(e,t,2e3)})()}};function ue(e){let t,n,i,s,a,u,r,f,l,p,h,y,k,o,P;function O($,z){return $[2]?Oe:Ee}let I=O(e),w=I(e);return{c(){t=m("div"),n=m("div"),i=m("div"),s=m("span"),s.textContent=`${g.translate("queueManager","labels","QueueItem")}`,a=q(),u=m("span"),r=m("a"),r.innerHTML='<span aria-hidden="true">Ã—</span>',f=q(),w.c(),l=q(),p=m("a"),p.textContent=`${g.translate("View List")}`,h=q(),y=m("div"),k=m("div"),k.textContent=`${g.translate("Loading...")}`,d(s,"class","panel-heading-title"),d(r,"href","/"),d(r,"class","close svelte-1p6ppx8"),d(p,"href","#QueueItem"),d(p,"title",g.translate("View List")),d(p,"class","qp-view-list svelte-1p6ppx8"),d(u,"class","pull-right"),d(i,"class","panel-heading clearfix"),d(k,"class","list-container"),d(y,"class","panel-body"),d(n,"class","panel panel-default"),d(t,"class","queue-panel-container")},m($,z){S($,t,z),b(t,n),b(n,i),b(i,s),b(i,a),b(i,u),b(u,r),b(u,f),w.m(u,null),b(u,l),b(u,p),b(n,h),b(n,y),b(y,k),e[9](t),o||(P=M(r,"click",e[6]),o=!0)},p($,z){I===(I=O($))&&w?w.p($,z):(w.d(1),w=I($),w&&(w.c(),w.m(u,l)))},d($){$&&E(t),w.d(),e[9](null),o=!1,P()}}}function Ee(e){let t,n,i;return{c(){t=m("a"),t.textContent=`${g.translate("Pause")}`,d(t,"href","/"),d(t,"title",g.translate("Pause")),d(t,"class","qm-button")},m(s,a){S(s,t,a),n||(i=M(t,"click",e[8]),n=!0)},p:c,d(s){s&&E(t),n=!1,i()}}}function Oe(e){let t,n,i;return{c(){t=m("a"),t.textContent=`${g.translate("Start")}`,d(t,"href","/"),d(t,"title",g.translate("Start")),d(t,"class","qm-button")},m(s,a){S(s,t,a),n||(i=M(t,"click",e[7]),n=!0)},p:c,d(s){s&&E(t),n=!1,i()}}}function Se(e){let t,n=e[0]&&ue(e);return{c(){n&&n.c(),t=ce()},m(i,s){n&&n.m(i,s),S(i,t,s)},p(i,[s]){i[0]?n?n.p(i,s):(n=ue(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:c,o:c,d(i){i&&E(t),n&&n.d(i)}}}function xe(e,t,n){let{isOpen:i=!1}=t,{close:s}=t,{icon:a}=t,u=!1;window.addEventListener("publicDataFetched",o=>{n(2,u=!!o.detail.qmPaused)});let r;function f(o){r&&!r.contains(o.target)&&a&&!a.contains(o.target)&&i===!0&&s()}pe(()=>{document.addEventListener("click",f)}),he(()=>{document.removeEventListener("click",f)});async function l(o){let P=re.get();if(P)try{const O=await fetch("/api/v1/App/action/QueueManagerUpdate",{method:"POST",headers:{"Content-Type":"application/json","Authorization-Token":btoa(P.user.userName+":"+P.token)},body:JSON.stringify({pause:o})});if(!O.ok)throw new Error("Network response was not ok");await O.json(),ae.notify("Done","success")}catch(O){console.error("Error:",O)}}const p=o=>{o.preventDefault(),s()},h=o=>{o.preventDefault(),l(!1)},y=o=>{o.preventDefault(),l(!0)};function k(o){Q[o?"unshift":"push"](()=>{r=o,n(3,r)})}return e.$$set=o=>{"isOpen"in o&&n(0,i=o.isOpen),"close"in o&&n(1,s=o.close),"icon"in o&&n(5,a=o.icon)},[i,s,u,r,l,a,p,h,y,k]}class Te extends se{constructor(t){super(),ie(this,t,xe,Se,G,{isOpen:0,close:1,icon:5})}}function Ce(e){let t,n,i,s,a,u;return i=new Te({props:{icon:e[0],isOpen:e[1],close:e[3]}}),{c(){t=m("a"),t.innerHTML='<span class="fas fa-tasks"></span> <span class="fas fa-pause-circle pause-icon hidden"></span>',n=q(),ke(i.$$.fragment),d(t,"href","/"),d(t,"class","notifications-button")},m(r,f){S(r,t,f),e[5](t),S(r,n,f),te(i,r,f),s=!0,a||(u=M(t,"click",e[6]),a=!0)},p(r,[f]){const l={};f&1&&(l.icon=r[0]),f&2&&(l.isOpen=r[1]),i.$set(l)},i(r){s||(ee(i.$$.fragment,r),s=!0)},o(r){ye(i.$$.fragment,r),s=!1},d(r){r&&(E(t),E(n)),e[5](null),ne(i,r),a=!1,u()}}}function Le(e,t,n){let{renderTable:i=()=>{}}=t,s,a=!1;function u(){a||(n(1,a=!0),i())}function r(){n(1,a=!1),window.dispatchEvent(new Event("qmPanelClosed"))}function f(p){Q[p?"unshift":"push"](()=>{s=p,n(0,s)})}const l=p=>{p.preventDefault(),u()};return e.$$set=p=>{"renderTable"in p&&n(4,i=p.renderTable)},[s,a,u,r,i,f,l]}class Pe extends se{constructor(t){super(),ie(this,t,Le,Ce,G,{renderTable:4})}}window.SvelteLanguage=g,window.SvelteUserData=re,window.SvelteNotifier=ae,_.QueueManagerIcon=Pe,Object.defineProperty(_,Symbol.toStringTag,{value:"Module"})});
