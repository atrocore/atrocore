(function(g,d){typeof exports=="object"&&typeof module<"u"?d(exports):typeof define=="function"&&define.amd?define(["exports"],d):(g=typeof globalThis<"u"?globalThis:g||self,d(g.Svelte={}))})(this,function(g){"use strict";var Ne=Object.defineProperty;var De=(g,d,E)=>d in g?Ne(g,d,{enumerable:!0,configurable:!0,writable:!0,value:E}):g[d]=E;var J=(g,d,E)=>De(g,typeof d!="symbol"?d+"":d,E);function d(){}function E(e){return e()}function R(){return Object.create(null)}function j(e){e.forEach(E)}function K(e){return typeof e=="function"}function G(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ce(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode&&e.parentNode.removeChild(e)}function b(e){return document.createElement(e)}function W(e){return document.createTextNode(e)}function P(){return W(" ")}function de(){return W("")}function M(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function p(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function pe(e){return Array.from(e.childNodes)}let N;function D(e){N=e}function X(){if(!N)throw new Error("Function called outside component initialization");return N}function he(e){X().$$.on_mount.push(e)}function _e(e){X().$$.on_destroy.push(e)}const q=[],Q=[];let x=[];const Y=[],be=Promise.resolve();let U=!1;function me(){U||(U=!0,be.then(Z))}function F(e){x.push(e)}const V=new Set;let T=0;function Z(){if(T!==0)return;const e=N;do{try{for(;T<q.length;){const t=q[T];T++,D(t),ge(t.$$)}}catch(t){throw q.length=0,T=0,t}for(D(null),q.length=0,T=0;Q.length;)Q.pop()();for(let t=0;t<x.length;t+=1){const n=x[t];V.has(n)||(V.add(n),n())}x.length=0}while(q.length);for(;Y.length;)Y.pop()();U=!1,V.clear(),D(e)}function ge(e){if(e.fragment!==null){e.update(),j(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(F)}}function we(e){const t=[],n=[];x.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),x=t}const A=new Set;let ke;function ee(e,t){e&&e.i&&(A.delete(e),e.i(t))}function ye(e,t,n,i){if(e&&e.o){if(A.has(e))return;A.add(e),ke.c.push(()=>{A.delete(e)}),e.o(t)}}function ve(e){e&&e.c()}function te(e,t,n){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),F(()=>{const r=e.$$.on_mount.map(E).filter(K);e.$$.on_destroy?e.$$.on_destroy.push(...r):j(r),e.$$.on_mount=[]}),s.forEach(F)}function ne(e,t){const n=e.$$;n.fragment!==null&&(we(n.after_update),j(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function $e(e,t){e.$$.dirty[0]===-1&&(q.push(e),me(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ie(e,t,n,i,s,r,c=null,a=[-1]){const h=N;D(e);const l=e.$$={fragment:null,ctx:[],props:r,update:d,not_equal:s,bound:R(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(h?h.$$.context:[])),callbacks:R(),dirty:a,skip_bound:!1,root:t.target||h.$$.root};c&&c(l.root);let f=!1;if(l.ctx=n?n(e,t.props||{},(o,m,...y)=>{const u=y.length?y[0]:m;return l.ctx&&s(l.ctx[o],l.ctx[o]=u)&&(!l.skip_bound&&l.bound[o]&&l.bound[o](u),f&&$e(e,o)),m}):[],l.update(),f=!0,j(l.before_update),l.fragment=i?i(l.ctx):!1,t.target){if(t.hydrate){const o=pe(t.target);l.fragment&&l.fragment.l(o),o.forEach($)}else l.fragment&&l.fragment.c();t.intro&&ee(e.$$.fragment),te(e,t.target,t.anchor),Z()}D(h)}class se{constructor(){J(this,"$$");J(this,"$$set")}$destroy(){ne(this,1),this.$destroy=d}$on(t,n){if(!K(n))return d;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!ce(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ee="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Ee);const C=[];function B(e,t=d){let n;const i=new Set;function s(a){if(G(e,a)&&(e=a,n)){const h=!C.length;for(const l of i)l[1](),C.push(l,e);if(h){for(let l=0;l<C.length;l+=2)C[l][0](C[l+1]);C.length=0}}}function r(a){s(a(e))}function c(a,h=d){const l=[a,h];return i.add(l),i.size===1&&(n=t(s,r)||d),a(e),()=>{i.delete(l),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:c}}const H=B({}),w={setTranslations(e){H.set(e)},has(e,t,n){let i=!1;return H.subscribe(s=>{if(n in s&&t in s[n]&&e in s[n][t]){i=!0;return}})(),i},get(e,t,n){let i=n;return H.subscribe(s=>{if(e in s&&t in s[e]&&n in s[e][t]){i=s[e][t][n];return}if(e in s&&t in s[e]&&n in s[e][t]){i=s[e][t][n];return}if(e=="Global"){i=n;return}i=null})(),i},translate(e,t=null,n=null){n=n||"Global",t=t||"labels";let i=w.get(n,t,e);return i===null&&n!="Global"&&(i=w.get("Global",t,e)),i},translateOption(e,t,n=null){let i=w.translate(t,"options",n);return i===null?"":typeof i=="object"?i[e]:e}},le=B({}),re={set(e){le.set(e)},get(){let e=null;return le.subscribe(t=>{t&&(e=t)})(),e}},oe=B(),ae={setNotifier(e){oe.set(e)},notify(e,t=null,n=2e3){oe.subscribe(i=>{i&&i.notify(e,t,2e3)})()}};function ue(e){let t,n,i,s,r,c,a,h,l,f,o,m,y,u,L;function S(v,z){return v[2]?Se:Oe}let I=S(e),k=I(e);return{c(){t=b("div"),n=b("div"),i=b("div"),s=b("span"),s.textContent=`${w.translate("queueManager","labels","QueueItem")}`,r=P(),c=b("span"),a=b("a"),a.innerHTML='<span aria-hidden="true">Ã—</span>',h=P(),k.c(),l=P(),f=b("a"),f.textContent=`${w.translate("View List")}`,o=P(),m=b("div"),y=b("div"),y.textContent=`${w.translate("Loading...")}`,p(s,"class","panel-heading-title"),p(a,"href","/"),p(a,"class","close svelte-1p6ppx8"),p(f,"href","#QueueItem"),p(f,"title",w.translate("View List")),p(f,"class","qp-view-list svelte-1p6ppx8"),p(c,"class","pull-right"),p(i,"class","panel-heading clearfix"),p(y,"class","list-container"),p(m,"class","panel-body"),p(n,"class","panel panel-default"),p(t,"class","queue-panel-container")},m(v,z){O(v,t,z),_(t,n),_(n,i),_(i,s),_(i,r),_(i,c),_(c,a),_(c,h),k.m(c,null),_(c,l),_(c,f),_(n,o),_(n,m),_(m,y),e[9](t),u||(L=M(a,"click",e[6]),u=!0)},p(v,z){I===(I=S(v))&&k?k.p(v,z):(k.d(1),k=I(v),k&&(k.c(),k.m(c,l)))},d(v){v&&$(t),k.d(),e[9](null),u=!1,L()}}}function Oe(e){let t,n,i;return{c(){t=b("a"),t.textContent=`${w.translate("Pause")}`,p(t,"href","/"),p(t,"title",w.translate("Pause")),p(t,"class","qm-button")},m(s,r){O(s,t,r),n||(i=M(t,"click",e[8]),n=!0)},p:d,d(s){s&&$(t),n=!1,i()}}}function Se(e){let t,n,i;return{c(){t=b("a"),t.textContent=`${w.translate("Start")}`,p(t,"href","/"),p(t,"title",w.translate("Start")),p(t,"class","qm-button")},m(s,r){O(s,t,r),n||(i=M(t,"click",e[7]),n=!0)},p:d,d(s){s&&$(t),n=!1,i()}}}function Pe(e){let t,n=e[0]&&ue(e);return{c(){n&&n.c(),t=de()},m(i,s){n&&n.m(i,s),O(i,t,s)},p(i,[s]){i[0]?n?n.p(i,s):(n=ue(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:d,o:d,d(i){i&&$(t),n&&n.d(i)}}}function qe(e,t,n){let{isOpen:i=!1}=t,{close:s}=t,{icon:r}=t,c=!1;window.addEventListener("publicDataFetched",u=>{n(2,c=!!u.detail.qmPaused)});let a;function h(u){a&&!a.contains(u.target)&&r&&!r.contains(u.target)&&i===!0&&s()}he(()=>{document.addEventListener("click",h)}),_e(()=>{document.removeEventListener("click",h)});async function l(u){let L=re.get();if(L)try{const S=await fetch("/api/v1/App/action/QueueManagerUpdate",{method:"POST",headers:{"Content-Type":"application/json","Authorization-Token":btoa(L.user.userName+":"+L.token)},body:JSON.stringify({pause:u})});if(!S.ok)throw new Error("Network response was not ok");await S.json(),ae.notify("Done","success")}catch(S){console.error("Error:",S)}}const f=u=>{u.preventDefault(),s()},o=u=>{u.preventDefault(),l(!1)},m=u=>{u.preventDefault(),l(!0)};function y(u){Q[u?"unshift":"push"](()=>{a=u,n(3,a)})}return e.$$set=u=>{"isOpen"in u&&n(0,i=u.isOpen),"close"in u&&n(1,s=u.close),"icon"in u&&n(5,r=u.icon)},[i,s,c,a,l,r,f,o,m,y]}class xe extends se{constructor(t){super(),ie(this,t,qe,Pe,G,{isOpen:0,close:1,icon:5})}}function fe(e){let t;return{c(){t=b("span"),p(t,"class","fas fa-pause-circle pause-icon")},m(n,i){O(n,t,i)},d(n){n&&$(t)}}}function Te(e){let t,n,i,s,r,c,a,h,l=e[2]&&fe();return r=new xe({props:{icon:e[0],isOpen:e[1],close:e[4]}}),{c(){t=b("a"),n=b("span"),i=P(),l&&l.c(),s=P(),ve(r.$$.fragment),p(n,"class","fas fa-tasks"),p(t,"href","/"),p(t,"class","notifications-button")},m(f,o){O(f,t,o),_(t,n),_(t,i),l&&l.m(t,null),e[6](t),O(f,s,o),te(r,f,o),c=!0,a||(h=M(t,"click",e[7]),a=!0)},p(f,[o]){f[2]?l||(l=fe(),l.c(),l.m(t,null)):l&&(l.d(1),l=null);const m={};o&1&&(m.icon=f[0]),o&2&&(m.isOpen=f[1]),r.$set(m)},i(f){c||(ee(r.$$.fragment,f),c=!0)},o(f){ye(r.$$.fragment,f),c=!1},d(f){f&&($(t),$(s)),l&&l.d(),e[6](null),ne(r,f),a=!1,h()}}}function Ce(e,t,n){let{renderTable:i=()=>{}}=t,s,r=!1,c=!1;window.addEventListener("publicDataFetched",o=>{n(2,c=!!o.detail.qmPaused)});function a(){r||(n(1,r=!0),i())}function h(){n(1,r=!1),window.dispatchEvent(new Event("qmPanelClosed"))}function l(o){Q[o?"unshift":"push"](()=>{s=o,n(0,s)})}const f=o=>{o.preventDefault(),a()};return e.$$set=o=>{"renderTable"in o&&n(5,i=o.renderTable)},[s,r,c,a,h,i,l,f]}class Le extends se{constructor(t){super(),ie(this,t,Ce,Te,G,{renderTable:5})}}window.SvelteLanguage=w,window.SvelteUserData=re,window.SvelteNotifier=ae,g.QueueManagerIcon=Le,Object.defineProperty(g,Symbol.toStringTag,{value:"Module"})});
