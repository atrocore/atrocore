(function(h,f){typeof exports=="object"&&typeof module<"u"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(h=typeof globalThis<"u"?globalThis:h||self,f(h.Svelte={}))})(this,function(h){"use strict";var Ne=Object.defineProperty;var Pe=(h,f,w)=>f in h?Ne(h,f,{enumerable:!0,configurable:!0,writable:!0,value:w}):h[f]=w;var H=(h,f,w)=>Pe(h,typeof f!="symbol"?f+"":f,w);function f(){}function w(e){return e()}function F(){return Object.create(null)}function C(e){e.forEach(w)}function Q(e){return typeof e=="function"}function A(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function fe(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function x(e,t,n){e.insertBefore(t,n||null)}function $(e){e.parentNode&&e.parentNode.removeChild(e)}function b(e){return document.createElement(e)}function J(e){return document.createTextNode(e)}function P(){return J(" ")}function ue(){return J("")}function L(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function u(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ce(e){return Array.from(e.childNodes)}let I;function q(e){I=e}const S=[],R=[];let O=[];const K=[],de=Promise.resolve();let G=!1;function pe(){G||(G=!0,de.then(W))}function U(e){O.push(e)}const z=new Set;let E=0;function W(){if(E!==0)return;const e=I;do{try{for(;E<S.length;){const t=S[E];E++,q(t),he(t.$$)}}catch(t){throw S.length=0,E=0,t}for(q(null),S.length=0,E=0;R.length;)R.pop()();for(let t=0;t<O.length;t+=1){const n=O[t];z.has(n)||(z.add(n),n())}O.length=0}while(S.length);for(;K.length;)K.pop()();G=!1,z.clear(),q(e)}function he(e){if(e.fragment!==null){e.update(),C(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(U)}}function _e(e){const t=[],n=[];O.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),O=t}const j=new Set;let be;function X(e,t){e&&e.i&&(j.delete(e),e.i(t))}function me(e,t,n,i){if(e&&e.o){if(j.has(e))return;j.add(e),be.c.push(()=>{j.delete(e)}),e.o(t)}}function ge(e){e&&e.c()}function Y(e,t,n){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),U(()=>{const a=e.$$.on_mount.map(w).filter(Q);e.$$.on_destroy?e.$$.on_destroy.push(...a):C(a),e.$$.on_mount=[]}),s.forEach(U)}function Z(e,t){const n=e.$$;n.fragment!==null&&(_e(n.after_update),C(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function we(e,t){e.$$.dirty[0]===-1&&(S.push(e),pe(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ee(e,t,n,i,s,a,o=null,r=[-1]){const c=I;q(e);const l=e.$$={fragment:null,ctx:[],props:a,update:f,not_equal:s,bound:F(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:F(),dirty:r,skip_bound:!1,root:t.target||c.$$.root};o&&o(l.root);let p=!1;if(l.ctx=n?n(e,t.props||{},(d,y,...k)=>{const N=k.length?k[0]:y;return l.ctx&&s(l.ctx[d],l.ctx[d]=N)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](N),p&&we(e,d)),y}):[],l.update(),p=!0,C(l.before_update),l.fragment=i?i(l.ctx):!1,t.target){if(t.hydrate){const d=ce(t.target);l.fragment&&l.fragment.l(d),d.forEach($)}else l.fragment&&l.fragment.c();t.intro&&X(e.$$.fragment),Y(e,t.target,t.anchor),W()}q(c)}class te{constructor(){H(this,"$$");H(this,"$$set")}$destroy(){Z(this,1),this.$destroy=f}$on(t,n){if(!Q(n))return f;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!fe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const $e="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add($e);const T=[];function V(e,t=f){let n;const i=new Set;function s(r){if(A(e,r)&&(e=r,n)){const c=!T.length;for(const l of i)l[1](),T.push(l,e);if(c){for(let l=0;l<T.length;l+=2)T[l][0](T[l+1]);T.length=0}}}function a(r){s(r(e))}function o(r,c=f){const l=[r,c];return i.add(l),i.size===1&&(n=t(s,a)||f),r(e),()=>{i.delete(l),i.size===0&&n&&(n(),n=null)}}return{set:s,update:a,subscribe:o}}const B=V({}),m={setTranslations(e){B.set(e)},has(e,t,n){let i=!1;return B.subscribe(s=>{if(n in s&&t in s[n]&&e in s[n][t]){i=!0;return}})(),i},get(e,t,n){let i=n;return B.subscribe(s=>{if(e in s&&t in s[e]&&n in s[e][t]){i=s[e][t][n];return}if(e in s&&t in s[e]&&n in s[e][t]){i=s[e][t][n];return}if(e=="Global"){i=n;return}i=null})(),i},translate(e,t=null,n=null){n=n||"Global",t=t||"labels";var i=m.get(n,t,e);return i===null&&n!="Global"&&(i=m.get("Global",t,e)),i},translateOption(e,t,n=null){let i=m.translate(t,"options",n);return typeof i!="object"&&(i={}),i[e]||e}},ne=V({}),ie={set(e){ne.set(e)},get(){let e=null;return ne.subscribe(t=>{t&&(e=t)})(),e}},se=V(),le={setNotifier(e){se.set(e)},notify(e,t=null){console.log("Notify: "+e),se.subscribe(n=>{n&&n.notify(e,t,2e3)})()}};function re(e){let t,n,i,s,a,o,r,c,l,p,d,y,k,N,ae;function oe(v,M){return v[2]?ke:ye}let D=oe(e),g=D(e);return{c(){t=b("div"),n=b("div"),i=b("div"),s=b("span"),s.textContent=`${m.translate("queueManager","labels","QueueItem")}`,a=P(),o=b("span"),r=b("a"),r.innerHTML='<span aria-hidden="true">Ã—</span>',c=P(),g.c(),l=P(),p=b("a"),p.textContent=`${m.translate("View List")}`,d=P(),y=b("div"),k=b("div"),k.textContent=`${m.translate("Loading...")}`,u(s,"class","panel-heading-title"),u(r,"href","/"),u(r,"class","close svelte-1p6ppx8"),u(p,"href","#QueueItem"),u(p,"title",m.translate("View List")),u(p,"class","qp-view-list svelte-1p6ppx8"),u(o,"class","pull-right"),u(i,"class","panel-heading clearfix"),u(k,"class","list-container"),u(y,"class","panel-body"),u(n,"class","panel panel-default"),u(t,"class","queue-panel-container")},m(v,M){x(v,t,M),_(t,n),_(n,i),_(i,s),_(i,a),_(i,o),_(o,r),_(o,c),g.m(o,null),_(o,l),_(o,p),_(n,d),_(n,y),_(y,k),N||(ae=L(r,"click",function(){Q(e[1])&&e[1].apply(this,arguments)}),N=!0)},p(v,M){e=v,D===(D=oe(e))&&g?g.p(e,M):(g.d(1),g=D(e),g&&(g.c(),g.m(o,l)))},d(v){v&&$(t),g.d(),N=!1,ae()}}}function ye(e){let t,n,i;return{c(){t=b("a"),t.textContent=`${m.translate("Pause")}`,u(t,"href","/"),u(t,"title",m.translate("Pause")),u(t,"class","qm-button")},m(s,a){x(s,t,a),n||(i=L(t,"click",e[5]),n=!0)},p:f,d(s){s&&$(t),n=!1,i()}}}function ke(e){let t,n,i;return{c(){t=b("a"),t.textContent=`${m.translate("Start")}`,u(t,"href","/"),u(t,"title",m.translate("Start")),u(t,"class","qm-button")},m(s,a){x(s,t,a),n||(i=L(t,"click",e[4]),n=!0)},p:f,d(s){s&&$(t),n=!1,i()}}}function ve(e){let t,n=e[0]&&re(e);return{c(){n&&n.c(),t=ue()},m(i,s){n&&n.m(i,s),x(i,t,s)},p(i,[s]){i[0]?n?n.p(i,s):(n=re(i),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:f,o:f,d(i){i&&$(t),n&&n.d(i)}}}function xe(e,t,n){let{isOpen:i=!1}=t,{close:s}=t,a=!1;window.addEventListener("publicDataFetched",l=>{n(2,a=!!l.detail.qmPaused)});async function o(l){let p=ie.get();if(p)try{const d=await fetch("/api/v1/App/action/QueueManagerUpdate",{method:"POST",headers:{"Content-Type":"application/json","Authorization-Token":btoa(p.user.userName+":"+p.token)},body:JSON.stringify({pause:l})});if(!d.ok)throw new Error("Network response was not ok");await d.json(),le.notify("Done","success")}catch(d){console.error("Error:",d)}}const r=l=>{l.preventDefault(),o(!1)},c=l=>{l.preventDefault(),o(!0)};return e.$$set=l=>{"isOpen"in l&&n(0,i=l.isOpen),"close"in l&&n(1,s=l.close)},[i,s,a,o,r,c]}class Se extends te{constructor(t){super(),ee(this,t,xe,ve,A,{isOpen:0,close:1})}}function Oe(e){let t,n,i,s,a,o;return i=new Se({props:{isOpen:e[0],close:e[2]}}),{c(){t=b("a"),t.innerHTML='<span class="fas fa-tasks"></span> <span class="fas fa-pause-circle pause-icon hidden"></span>',n=P(),ge(i.$$.fragment),u(t,"href","/"),u(t,"class","notifications-button")},m(r,c){x(r,t,c),x(r,n,c),Y(i,r,c),s=!0,a||(o=L(t,"click",e[1]),a=!0)},p(r,[c]){const l={};c&1&&(l.isOpen=r[0]),i.$set(l)},i(r){s||(X(i.$$.fragment,r),s=!0)},o(r){me(i.$$.fragment,r),s=!1},d(r){r&&($(t),$(n)),Z(i,r),a=!1,o()}}}function Ee(e,t,n){let{renderTable:i=()=>{}}=t,s=!1;function a(r){r.preventDefault(),n(0,s=!0),i()}function o(r){r.preventDefault(),n(0,s=!1),window.dispatchEvent(new Event("qmPanelClosed"))}return e.$$set=r=>{"renderTable"in r&&n(3,i=r.renderTable)},[s,a,o,i]}class Te extends te{constructor(t){super(),ee(this,t,Ee,Oe,A,{renderTable:3})}}window.SvelteLanguage=m,window.SvelteUserData=ie,window.SvelteNotifier=le,h.QueueManagerIcon=Te,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});
