(function(h,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(h=typeof globalThis<"u"?globalThis:h||self,u(h.Svelte={}))})(this,function(h){"use strict";var Ee=Object.defineProperty;var Te=(h,u,k)=>u in h?Ee(h,u,{enumerable:!0,configurable:!0,writable:!0,value:k}):h[u]=k;var B=(h,u,k)=>Te(h,typeof u!="symbol"?u+"":u,k);function u(){}function k(e){return e()}function H(){return Object.create(null)}function L(e){e.forEach(k)}function Q(e){return typeof e=="function"}function A(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function ae(e){return Object.keys(e).length===0}function _(e,t){e.appendChild(t)}function S(e,t,n){e.insertBefore(t,n||null)}function v(e){e.parentNode&&e.parentNode.removeChild(e)}function b(e){return document.createElement(e)}function F(e){return document.createTextNode(e)}function q(){return F(" ")}function oe(){return F("")}function j(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function f(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function ue(e){return Array.from(e.childNodes)}let I;function C(e){I=e}const O=[],J=[];let E=[];const R=[],fe=Promise.resolve();let G=!1;function ce(){G||(G=!0,fe.then(K))}function U(e){E.push(e)}const z=new Set;let T=0;function K(){if(T!==0)return;const e=I;do{try{for(;T<O.length;){const t=O[T];T++,C(t),de(t.$$)}}catch(t){throw O.length=0,T=0,t}for(C(null),O.length=0,T=0;J.length;)J.pop()();for(let t=0;t<E.length;t+=1){const n=E[t];z.has(n)||(z.add(n),n())}E.length=0}while(O.length);for(;R.length;)R.pop()();G=!1,z.clear(),C(e)}function de(e){if(e.fragment!==null){e.update(),L(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(U)}}function pe(e){const t=[],n=[];E.forEach(s=>e.indexOf(s)===-1?t.push(s):n.push(s)),n.forEach(s=>s()),E=t}const N=new Set;let he;function W(e,t){e&&e.i&&(N.delete(e),e.i(t))}function _e(e,t,n,s){if(e&&e.o){if(N.has(e))return;N.add(e),he.c.push(()=>{N.delete(e)}),e.o(t)}}function be(e){e&&e.c()}function X(e,t,n){const{fragment:s,after_update:i}=e.$$;s&&s.m(t,n),U(()=>{const a=e.$$.on_mount.map(k).filter(Q);e.$$.on_destroy?e.$$.on_destroy.push(...a):L(a),e.$$.on_mount=[]}),i.forEach(U)}function Y(e,t){const n=e.$$;n.fragment!==null&&(pe(n.after_update),L(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function me(e,t){e.$$.dirty[0]===-1&&(O.push(e),ce(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Z(e,t,n,s,i,a,o=null,r=[-1]){const c=I;C(e);const l=e.$$={fragment:null,ctx:[],props:a,update:u,not_equal:i,bound:H(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:H(),dirty:r,skip_bound:!1,root:t.target||c.$$.root};o&&o(l.root);let d=!1;if(l.ctx=n?n(e,t.props||{},(p,w,...g)=>{const y=g.length?g[0]:w;return l.ctx&&i(l.ctx[p],l.ctx[p]=y)&&(!l.skip_bound&&l.bound[p]&&l.bound[p](y),d&&me(e,p)),w}):[],l.update(),d=!0,L(l.before_update),l.fragment=s?s(l.ctx):!1,t.target){if(t.hydrate){const p=ue(t.target);l.fragment&&l.fragment.l(p),p.forEach(v)}else l.fragment&&l.fragment.c();t.intro&&W(e.$$.fragment),X(e,t.target,t.anchor),K()}C(c)}class ee{constructor(){B(this,"$$");B(this,"$$set")}$destroy(){Y(this,1),this.$destroy=u}$on(t,n){if(!Q(n))return u;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(n),()=>{const i=s.indexOf(n);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!ae(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ge="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ge);const P=[];function te(e,t=u){let n;const s=new Set;function i(r){if(A(e,r)&&(e=r,n)){const c=!P.length;for(const l of s)l[1](),P.push(l,e);if(c){for(let l=0;l<P.length;l+=2)P[l][0](P[l+1]);P.length=0}}}function a(r){i(r(e))}function o(r,c=u){const l=[r,c];return s.add(l),s.size===1&&(n=t(i,a)||u),r(e),()=>{s.delete(l),s.size===0&&n&&(n(),n=null)}}return{set:i,update:a,subscribe:o}}const V=te({}),m={setTranslations(e){V.set(e)},has(e,t,n){let s=!1;return V.subscribe(i=>{if(n in i&&t in i[n]&&e in i[n][t]){s=!0;return}})(),s},get(e,t,n){let s=n;return V.subscribe(i=>{if(e in i&&t in i[e]&&n in i[e][t]){s=i[e][t][n];return}if(e in i&&t in i[e]&&n in i[e][t]){s=i[e][t][n];return}if(e=="Global"){s=n;return}s=null})(),s},translate(e,t=null,n=null){n=n||"Global",t=t||"labels";var s=m.get(n,t,e);return s===null&&n!="Global"&&(s=m.get("Global",t,e)),s},translateOption(e,t,n=null){let s=m.translate(t,"options",n);return typeof s!="object"&&(s={}),s[e]||e}},ne=te({}),se={set(e){ne.set(e)},get(){let e=null;return ne.subscribe(t=>{t&&(e=t)})(),e}};function ie(e){let t,n,s,i,a,o,r,c,l,d,p,w,g,y,le;function re(x,M){return x[2]?we:$e}let D=re(e),$=D(e);return{c(){t=b("div"),n=b("div"),s=b("div"),i=b("span"),i.textContent=`${m.translate("queueManager","labels","QueueItem")}`,a=q(),o=b("span"),r=b("a"),r.innerHTML='<span aria-hidden="true">Ã—</span>',c=q(),$.c(),l=q(),d=b("a"),d.textContent=`${m.translate("View List")}`,p=q(),w=b("div"),g=b("div"),g.textContent=`${m.translate("Loading...")}`,f(i,"class","panel-heading-title"),f(r,"href","/"),f(r,"class","close svelte-1p6ppx8"),f(d,"href","#QueueItem"),f(d,"title",m.translate("View List")),f(d,"class","qp-view-list svelte-1p6ppx8"),f(o,"class","pull-right"),f(s,"class","panel-heading clearfix"),f(g,"class","list-container"),f(w,"class","panel-body"),f(n,"class","panel panel-default"),f(t,"class","queue-panel-container")},m(x,M){S(x,t,M),_(t,n),_(n,s),_(s,i),_(s,a),_(s,o),_(o,r),_(o,c),$.m(o,null),_(o,l),_(o,d),_(n,p),_(n,w),_(w,g),y||(le=j(r,"click",function(){Q(e[1])&&e[1].apply(this,arguments)}),y=!0)},p(x,M){e=x,D===(D=re(e))&&$?$.p(e,M):($.d(1),$=D(e),$&&($.c(),$.m(o,l)))},d(x){x&&v(t),$.d(),y=!1,le()}}}function $e(e){let t,n,s;return{c(){t=b("a"),t.textContent=`${m.translate("Pause")}`,f(t,"href","/"),f(t,"title",m.translate("Pause")),f(t,"class","qm-button")},m(i,a){S(i,t,a),n||(s=j(t,"click",e[5]),n=!0)},p:u,d(i){i&&v(t),n=!1,s()}}}function we(e){let t,n,s;return{c(){t=b("a"),t.textContent=`${m.translate("Start")}`,f(t,"href","/"),f(t,"title",m.translate("Start")),f(t,"class","qm-button")},m(i,a){S(i,t,a),n||(s=j(t,"click",e[4]),n=!0)},p:u,d(i){i&&v(t),n=!1,s()}}}function ye(e){let t,n=e[0]&&ie(e);return{c(){n&&n.c(),t=oe()},m(s,i){n&&n.m(s,i),S(s,t,i)},p(s,[i]){s[0]?n?n.p(s,i):(n=ie(s),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i:u,o:u,d(s){s&&v(t),n&&n.d(s)}}}function ke(e,t,n){let{isOpen:s=!1}=t,{close:i}=t,a=!1;window.addEventListener("publicDataFetched",l=>{n(2,a=!!l.detail.qmPaused)});async function o(l){let d=se.get();if(!d)return;console.log("stop",l);const p="/api/v1/App/action/QueueManagerUpdate",w={pause:l};try{const g=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json","Authorization-Token":btoa(d.user.userName+":"+d.token)},body:JSON.stringify(w)});if(!g.ok)throw new Error("Network response was not ok");const y=await g.json();console.log("Success:",y)}catch(g){console.error("Error:",g)}}const r=l=>{l.preventDefault(),o(!1)},c=l=>{l.preventDefault(),o(!0)};return e.$$set=l=>{"isOpen"in l&&n(0,s=l.isOpen),"close"in l&&n(1,i=l.close)},[s,i,a,o,r,c]}class ve extends ee{constructor(t){super(),Z(this,t,ke,ye,A,{isOpen:0,close:1})}}function xe(e){let t,n,s,i,a,o;return s=new ve({props:{isOpen:e[0],close:e[2]}}),{c(){t=b("a"),t.innerHTML='<span class="fas fa-tasks"></span> <span class="fas fa-pause-circle pause-icon hidden"></span>',n=q(),be(s.$$.fragment),f(t,"href","/"),f(t,"class","notifications-button")},m(r,c){S(r,t,c),S(r,n,c),X(s,r,c),i=!0,a||(o=j(t,"click",e[1]),a=!0)},p(r,[c]){const l={};c&1&&(l.isOpen=r[0]),s.$set(l)},i(r){i||(W(s.$$.fragment,r),i=!0)},o(r){_e(s.$$.fragment,r),i=!1},d(r){r&&(v(t),v(n)),Y(s,r),a=!1,o()}}}function Se(e,t,n){let{renderTable:s=()=>{}}=t,i=!1;function a(r){r.preventDefault(),n(0,i=!0),s()}function o(r){r.preventDefault(),n(0,i=!1),window.dispatchEvent(new Event("qmPanelClosed"))}return e.$$set=r=>{"renderTable"in r&&n(3,s=r.renderTable)},[i,a,o,s]}class Oe extends ee{constructor(t){super(),Z(this,t,Se,xe,A,{renderTable:3})}}window.SvelteLanguage=m,window.SvelteUserData=se,h.QueueManagerIcon=Oe,Object.defineProperty(h,Symbol.toStringTag,{value:"Module"})});
