(function(ze,st){typeof exports=="object"&&typeof module<"u"?st(exports):typeof define=="function"&&define.amd?define(["exports"],st):(ze=typeof globalThis<"u"?globalThis:ze||self,st(ze.Svelte={}))})(this,function(ze){"use strict";var Rm=Object.defineProperty;var Hm=(ze,st,ln)=>st in ze?Rm(ze,st,{enumerable:!0,configurable:!0,writable:!0,value:ln}):ze[st]=ln;var rn=(ze,st,ln)=>Hm(ze,typeof st!="symbol"?st+"":st,ln);let st={},ln;function fr(n={}){st={animate:!0,allowClose:!0,overlayClickBehavior:"close",overlayOpacity:.7,smoothScroll:!1,disableActiveInteraction:!1,showProgress:!1,stagePadding:10,stageRadius:5,popoverOffset:10,showButtons:["next","previous","close"],disableButtons:[],overlayColor:"#000",...n}}function x(n){return n?st[n]:st}function Vs(n){ln=n}function wt(){return ln}let wi={};function yi(n,e){wi[n]=e}function on(n){var e;(e=wi[n])==null||e.call(wi)}function Us(){wi={}}function ki(n,e,t,i){return(n/=i/2)<1?t/2*n*n+e:-t/2*(--n*(n-2)-1)+e}function ll(n){const e='a[href]:not([disabled]), button:not([disabled]), textarea:not([disabled]), input[type="text"]:not([disabled]), input[type="radio"]:not([disabled]), input[type="checkbox"]:not([disabled]), select:not([disabled])';return n.flatMap(t=>{const i=t.matches(e),r=Array.from(t.querySelectorAll(e));return[...i?[t]:[],...r]}).filter(t=>getComputedStyle(t).pointerEvents!=="none"&&Js(t))}function ol(n){if(!n||Ys(n))return;const e=x("smoothScroll"),t=n.offsetHeight>window.innerHeight;n.scrollIntoView({behavior:!e||Xs(n)?"auto":"smooth",inline:"center",block:t?"start":"center"})}function Xs(n){if(!n||!n.parentElement)return;const e=n.parentElement;return e.scrollHeight>e.clientHeight}function Ys(n){const e=n.getBoundingClientRect();return e.top>=0&&e.left>=0&&e.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&e.right<=(window.innerWidth||document.documentElement.clientWidth)}function Js(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)}let Ei={};function Qe(n,e){Ei[n]=e}function te(n){return n?Ei[n]:Ei}function al(){Ei={}}function Zs(n,e,t,i){let r=te("__activeStagePosition");const l=r||t.getBoundingClientRect(),o=i.getBoundingClientRect(),s=ki(n,l.x,o.x-l.x,e),a=ki(n,l.y,o.y-l.y,e),f=ki(n,l.width,o.width-l.width,e),u=ki(n,l.height,o.height-l.height,e);r={x:s,y:a,width:f,height:u},ul(r),Qe("__activeStagePosition",r)}function sl(n){if(!n)return;const e=n.getBoundingClientRect(),t={x:e.x,y:e.y,width:e.width,height:e.height};Qe("__activeStagePosition",t),ul(t)}function Ks(){const n=te("__activeStagePosition"),e=te("__overlaySvg");if(!n)return;if(!e){console.warn("No stage svg found.");return}const t=window.innerWidth,i=window.innerHeight;e.setAttribute("viewBox",`0 0 ${t} ${i}`)}function Qs(n){const e=xs(n);document.body.appendChild(e),pl(e,t=>{t.target.tagName==="path"&&on("overlayClick")}),Qe("__overlaySvg",e)}function ul(n){const e=te("__overlaySvg");if(!e){Qs(n);return}const t=e.firstElementChild;if((t==null?void 0:t.tagName)!=="path")throw new Error("no path element found in stage svg");t.setAttribute("d",fl(n))}function xs(n){const e=window.innerWidth,t=window.innerHeight,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.classList.add("driver-overlay","driver-overlay-animated"),i.setAttribute("viewBox",`0 0 ${e} ${t}`),i.setAttribute("xmlSpace","preserve"),i.setAttribute("xmlnsXlink","http://www.w3.org/1999/xlink"),i.setAttribute("version","1.1"),i.setAttribute("preserveAspectRatio","xMinYMin slice"),i.style.fillRule="evenodd",i.style.clipRule="evenodd",i.style.strokeLinejoin="round",i.style.strokeMiterlimit="2",i.style.zIndex="10000",i.style.position="fixed",i.style.top="0",i.style.left="0",i.style.width="100%",i.style.height="100%";const r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("d",fl(n)),r.style.fill=x("overlayColor")||"rgb(0,0,0)",r.style.opacity=`${x("overlayOpacity")}`,r.style.pointerEvents="auto",r.style.cursor="auto",i.appendChild(r),i}function fl(n){const e=window.innerWidth,t=window.innerHeight,i=x("stagePadding")||0,r=x("stageRadius")||0,l=n.width+i*2,o=n.height+i*2,s=Math.min(r,l/2,o/2),a=Math.floor(Math.max(s,0)),f=n.x-i+a,u=n.y-i,d=l-a*2,c=o-a*2;return`M${e},0L0,0L0,${t}L${e},${t}L${e},0Z
    M${f},${u} h${d} a${a},${a} 0 0 1 ${a},${a} v${c} a${a},${a} 0 0 1 -${a},${a} h-${d} a${a},${a} 0 0 1 -${a},-${a} v-${c} a${a},${a} 0 0 1 ${a},-${a} z`}function $s(){const n=te("__overlaySvg");n&&n.remove()}function eu(){const n=document.getElementById("driver-dummy-element");if(n)return n;let e=document.createElement("div");return e.id="driver-dummy-element",e.style.width="0",e.style.height="0",e.style.pointerEvents="none",e.style.opacity="0",e.style.position="fixed",e.style.top="50%",e.style.left="50%",document.body.appendChild(e),e}function cl(n){const{element:e}=n;let t=typeof e=="function"?e():typeof e=="string"?document.querySelector(e):e;t||(t=eu()),nu(t,n)}function tu(){const n=te("__activeElement"),e=te("__activeStep");n&&(sl(n),Ks(),bl(n,e))}function nu(n,e){var t;const i=Date.now(),r=te("__activeStep"),l=te("__activeElement")||n,o=!l||l===n,s=n.id==="driver-dummy-element",a=l.id==="driver-dummy-element",f=x("animate"),u=e.onHighlightStarted||x("onHighlightStarted"),d=(e==null?void 0:e.onHighlighted)||x("onHighlighted"),c=(r==null?void 0:r.onDeselected)||x("onDeselected"),m=x(),h=te();!o&&c&&c(a?void 0:l,r,{config:m,state:h,driver:wt()}),u&&u(s?void 0:n,e,{config:m,state:h,driver:wt()});const p=!o&&f;let g=!1;au(),Qe("previousStep",r),Qe("previousElement",l),Qe("activeStep",e),Qe("activeElement",n);const b=()=>{if(te("__transitionCallback")!==b)return;const y=Date.now()-i,D=400-y<=400/2;e.popover&&D&&!g&&p&&(ml(n,e),g=!0),x("animate")&&y<400?Zs(y,400,l,n):(sl(n),d&&d(s?void 0:n,e,{config:x(),state:te(),driver:wt()}),Qe("__transitionCallback",void 0),Qe("__previousStep",r),Qe("__previousElement",l),Qe("__activeStep",e),Qe("__activeElement",n)),window.requestAnimationFrame(b)};Qe("__transitionCallback",b),window.requestAnimationFrame(b),ol(n),!p&&e.popover&&ml(n,e),l.classList.remove("driver-active-element","driver-no-interaction"),l.removeAttribute("aria-haspopup"),l.removeAttribute("aria-expanded"),l.removeAttribute("aria-controls"),((t=e.disableActiveInteraction)!=null?t:x("disableActiveInteraction"))&&n.classList.add("driver-no-interaction"),n.classList.add("driver-active-element"),n.setAttribute("aria-haspopup","dialog"),n.setAttribute("aria-expanded","true"),n.setAttribute("aria-controls","driver-popover-content")}function iu(){var n;(n=document.getElementById("driver-dummy-element"))==null||n.remove(),document.querySelectorAll(".driver-active-element").forEach(e=>{e.classList.remove("driver-active-element","driver-no-interaction"),e.removeAttribute("aria-haspopup"),e.removeAttribute("aria-expanded"),e.removeAttribute("aria-controls")})}function zn(){const n=te("__resizeTimeout");n&&window.cancelAnimationFrame(n),Qe("__resizeTimeout",window.requestAnimationFrame(tu))}function ru(n){var e;if(!te("isInitialized")||!(n.key==="Tab"||n.keyCode===9))return;const t=te("__activeElement"),i=(e=te("popover"))==null?void 0:e.wrapper,r=ll([...i?[i]:[],...t?[t]:[]]),l=r[0],o=r[r.length-1];if(n.preventDefault(),n.shiftKey){const s=r[r.indexOf(document.activeElement)-1]||o;s==null||s.focus()}else{const s=r[r.indexOf(document.activeElement)+1]||l;s==null||s.focus()}}function dl(n){var e;((e=x("allowKeyboardControl"))==null||e)&&(n.key==="Escape"?on("escapePress"):n.key==="ArrowRight"?on("arrowRightPress"):n.key==="ArrowLeft"&&on("arrowLeftPress"))}function pl(n,e,t){const i=(r,l)=>{const o=r.target;n.contains(o)&&((!t||t(o))&&(r.preventDefault(),r.stopPropagation(),r.stopImmediatePropagation()),l==null||l(r))};document.addEventListener("pointerdown",i,!0),document.addEventListener("mousedown",i,!0),document.addEventListener("pointerup",i,!0),document.addEventListener("mouseup",i,!0),document.addEventListener("click",r=>{i(r,e)},!0)}function lu(){window.addEventListener("keyup",dl,!1),window.addEventListener("keydown",ru,!1),window.addEventListener("resize",zn),window.addEventListener("scroll",zn)}function ou(){window.removeEventListener("keyup",dl),window.removeEventListener("resize",zn),window.removeEventListener("scroll",zn)}function au(){const n=te("popover");n&&(n.wrapper.style.display="none")}function ml(n,e){var t,i;let r=te("popover");r&&document.body.removeChild(r.wrapper),r=uu(),document.body.appendChild(r.wrapper);const{title:l,description:o,showButtons:s,disableButtons:a,showProgress:f,nextBtnText:u=x("nextBtnText")||"Next &rarr;",prevBtnText:d=x("prevBtnText")||"&larr; Previous",progressText:c=x("progressText")||"{current} of {total}"}=e.popover||{};r.nextButton.innerHTML=u,r.previousButton.innerHTML=d,r.progress.innerHTML=c,l?(r.title.innerHTML=l,r.title.style.display="block"):r.title.style.display="none",o?(r.description.innerHTML=o,r.description.style.display="block"):r.description.style.display="none";const m=s||x("showButtons"),h=f||x("showProgress")||!1,p=(m==null?void 0:m.includes("next"))||(m==null?void 0:m.includes("previous"))||h;r.closeButton.style.display=m.includes("close")?"block":"none",p?(r.footer.style.display="flex",r.progress.style.display=h?"block":"none",r.nextButton.style.display=m.includes("next")?"block":"none",r.previousButton.style.display=m.includes("previous")?"block":"none"):r.footer.style.display="none";const g=a||x("disableButtons")||[];g!=null&&g.includes("next")&&(r.nextButton.disabled=!0,r.nextButton.classList.add("driver-popover-btn-disabled")),g!=null&&g.includes("previous")&&(r.previousButton.disabled=!0,r.previousButton.classList.add("driver-popover-btn-disabled")),g!=null&&g.includes("close")&&(r.closeButton.disabled=!0,r.closeButton.classList.add("driver-popover-btn-disabled"));const b=r.wrapper;b.style.display="block",b.style.left="",b.style.top="",b.style.bottom="",b.style.right="",b.id="driver-popover-content",b.setAttribute("role","dialog"),b.setAttribute("aria-labelledby","driver-popover-title"),b.setAttribute("aria-describedby","driver-popover-description");const y=r.arrow;y.className="driver-popover-arrow";const D=((t=e.popover)==null?void 0:t.popoverClass)||x("popoverClass")||"";b.className=`driver-popover ${D}`.trim(),pl(r.wrapper,L=>{var C,E,T;const P=L.target,O=((C=e.popover)==null?void 0:C.onNextClick)||x("onNextClick"),H=((E=e.popover)==null?void 0:E.onPrevClick)||x("onPrevClick"),q=((T=e.popover)==null?void 0:T.onCloseClick)||x("onCloseClick");if(P.classList.contains("driver-popover-next-btn"))return O?O(n,e,{config:x(),state:te(),driver:wt()}):on("nextClick");if(P.classList.contains("driver-popover-prev-btn"))return H?H(n,e,{config:x(),state:te(),driver:wt()}):on("prevClick");if(P.classList.contains("driver-popover-close-btn"))return q?q(n,e,{config:x(),state:te(),driver:wt()}):on("closeClick")},L=>!(r!=null&&r.description.contains(L))&&!(r!=null&&r.title.contains(L))&&typeof L.className=="string"&&L.className.includes("driver-popover")),Qe("popover",r);const _=((i=e.popover)==null?void 0:i.onPopoverRender)||x("onPopoverRender");_&&_(r,{config:x(),state:te(),driver:wt()}),bl(n,e),ol(b);const S=n.classList.contains("driver-dummy-element"),w=ll([b,...S?[]:[n]]);w.length>0&&w[0].focus()}function hl(){const n=te("popover");if(!(n!=null&&n.wrapper))return;const e=n.wrapper.getBoundingClientRect(),t=x("stagePadding")||0,i=x("popoverOffset")||0;return{width:e.width+t+i,height:e.height+t+i,realWidth:e.width,realHeight:e.height}}function gl(n,e){const{elementDimensions:t,popoverDimensions:i,popoverPadding:r,popoverArrowDimensions:l}=e;return n==="start"?Math.max(Math.min(t.top-r,window.innerHeight-i.realHeight-l.width),l.width):n==="end"?Math.max(Math.min(t.top-(i==null?void 0:i.realHeight)+t.height+r,window.innerHeight-(i==null?void 0:i.realHeight)-l.width),l.width):n==="center"?Math.max(Math.min(t.top+t.height/2-(i==null?void 0:i.realHeight)/2,window.innerHeight-(i==null?void 0:i.realHeight)-l.width),l.width):0}function vl(n,e){const{elementDimensions:t,popoverDimensions:i,popoverPadding:r,popoverArrowDimensions:l}=e;return n==="start"?Math.max(Math.min(t.left-r,window.innerWidth-i.realWidth-l.width),l.width):n==="end"?Math.max(Math.min(t.left-(i==null?void 0:i.realWidth)+t.width+r,window.innerWidth-(i==null?void 0:i.realWidth)-l.width),l.width):n==="center"?Math.max(Math.min(t.left+t.width/2-(i==null?void 0:i.realWidth)/2,window.innerWidth-(i==null?void 0:i.realWidth)-l.width),l.width):0}function bl(n,e){const t=te("popover");if(!t)return;const{align:i="start",side:r="left"}=(e==null?void 0:e.popover)||{},l=i,o=n.id==="driver-dummy-element"?"over":r,s=x("stagePadding")||0,a=hl(),f=t.arrow.getBoundingClientRect(),u=n.getBoundingClientRect(),d=u.top-a.height;let c=d>=0;const m=window.innerHeight-(u.bottom+a.height);let h=m>=0;const p=u.left-a.width;let g=p>=0;const b=window.innerWidth-(u.right+a.width);let y=b>=0;const D=!c&&!h&&!g&&!y;let _=o;if(o==="top"&&c?y=g=h=!1:o==="bottom"&&h?y=g=c=!1:o==="left"&&g?y=c=h=!1:o==="right"&&y&&(g=c=h=!1),o==="over"){const S=window.innerWidth/2-a.realWidth/2,w=window.innerHeight/2-a.realHeight/2;t.wrapper.style.left=`${S}px`,t.wrapper.style.right="auto",t.wrapper.style.top=`${w}px`,t.wrapper.style.bottom="auto"}else if(D){const S=window.innerWidth/2-(a==null?void 0:a.realWidth)/2,w=10;t.wrapper.style.left=`${S}px`,t.wrapper.style.right="auto",t.wrapper.style.bottom=`${w}px`,t.wrapper.style.top="auto"}else if(g){const S=Math.min(p,window.innerWidth-(a==null?void 0:a.realWidth)-f.width),w=gl(l,{elementDimensions:u,popoverDimensions:a,popoverPadding:s,popoverArrowDimensions:f});t.wrapper.style.left=`${S}px`,t.wrapper.style.top=`${w}px`,t.wrapper.style.bottom="auto",t.wrapper.style.right="auto",_="left"}else if(y){const S=Math.min(b,window.innerWidth-(a==null?void 0:a.realWidth)-f.width),w=gl(l,{elementDimensions:u,popoverDimensions:a,popoverPadding:s,popoverArrowDimensions:f});t.wrapper.style.right=`${S}px`,t.wrapper.style.top=`${w}px`,t.wrapper.style.bottom="auto",t.wrapper.style.left="auto",_="right"}else if(c){const S=Math.min(d,window.innerHeight-a.realHeight-f.width);let w=vl(l,{elementDimensions:u,popoverDimensions:a,popoverPadding:s,popoverArrowDimensions:f});t.wrapper.style.top=`${S}px`,t.wrapper.style.left=`${w}px`,t.wrapper.style.bottom="auto",t.wrapper.style.right="auto",_="top"}else if(h){const S=Math.min(m,window.innerHeight-(a==null?void 0:a.realHeight)-f.width);let w=vl(l,{elementDimensions:u,popoverDimensions:a,popoverPadding:s,popoverArrowDimensions:f});t.wrapper.style.left=`${w}px`,t.wrapper.style.bottom=`${S}px`,t.wrapper.style.top="auto",t.wrapper.style.right="auto",_="bottom"}D?t.arrow.classList.add("driver-popover-arrow-none"):su(l,_,n)}function su(n,e,t){const i=te("popover");if(!i)return;const r=t.getBoundingClientRect(),l=hl(),o=i.arrow,s=l.width,a=window.innerWidth,f=r.width,u=r.left,d=l.height,c=window.innerHeight,m=r.top,h=r.height;o.className="driver-popover-arrow";let p=e,g=n;if(e==="top"?(u+f<=0?(p="right",g="end"):u+f-s<=0&&(p="top",g="start"),u>=a?(p="left",g="end"):u+s>=a&&(p="top",g="end")):e==="bottom"?(u+f<=0?(p="right",g="start"):u+f-s<=0&&(p="bottom",g="start"),u>=a?(p="left",g="start"):u+s>=a&&(p="bottom",g="end")):e==="left"?(m+h<=0?(p="bottom",g="end"):m+h-d<=0&&(p="left",g="start"),m>=c?(p="top",g="end"):m+d>=c&&(p="left",g="end")):e==="right"&&(m+h<=0?(p="bottom",g="start"):m+h-d<=0&&(p="right",g="start"),m>=c?(p="top",g="start"):m+d>=c&&(p="right",g="end")),!p)o.classList.add("driver-popover-arrow-none");else{o.classList.add(`driver-popover-arrow-side-${p}`),o.classList.add(`driver-popover-arrow-align-${g}`);const b=t.getBoundingClientRect(),y=o.getBoundingClientRect(),D=x("stagePadding")||0,_=b.left-D<window.innerWidth&&b.right+D>0&&b.top-D<window.innerHeight&&b.bottom+D>0;e==="bottom"&&_&&(y.x>b.x&&y.x+y.width<b.x+b.width?i.wrapper.style.transform="translateY(0)":(o.classList.remove(`driver-popover-arrow-align-${g}`),o.classList.add("driver-popover-arrow-none"),i.wrapper.style.transform=`translateY(-${D/2}px)`))}}function uu(){const n=document.createElement("div");n.classList.add("driver-popover");const e=document.createElement("div");e.classList.add("driver-popover-arrow");const t=document.createElement("header");t.id="driver-popover-title",t.classList.add("driver-popover-title"),t.style.display="none",t.innerText="Popover Title";const i=document.createElement("div");i.id="driver-popover-description",i.classList.add("driver-popover-description"),i.style.display="none",i.innerText="Popover description is here";const r=document.createElement("button");r.type="button",r.classList.add("driver-popover-close-btn"),r.setAttribute("aria-label","Close"),r.innerHTML="&times;";const l=document.createElement("footer");l.classList.add("driver-popover-footer");const o=document.createElement("span");o.classList.add("driver-popover-progress-text"),o.innerText="";const s=document.createElement("span");s.classList.add("driver-popover-navigation-btns");const a=document.createElement("button");a.type="button",a.classList.add("driver-popover-prev-btn"),a.innerHTML="&larr; Previous";const f=document.createElement("button");return f.type="button",f.classList.add("driver-popover-next-btn"),f.innerHTML="Next &rarr;",s.appendChild(a),s.appendChild(f),l.appendChild(o),l.appendChild(s),n.appendChild(r),n.appendChild(e),n.appendChild(t),n.appendChild(i),n.appendChild(l),{wrapper:n,arrow:e,title:t,description:i,footer:l,previousButton:a,nextButton:f,closeButton:r,footerButtons:s,progress:o}}function fu(){var n;const e=te("popover");e&&((n=e.wrapper.parentElement)==null||n.removeChild(e.wrapper))}function cu(n={}){fr(n);function e(){x("allowClose")&&u()}function t(){const c=x("overlayClickBehavior");if(x("allowClose")&&c==="close"){u();return}c==="nextStep"&&i()}function i(){const c=te("activeIndex"),m=x("steps")||[];if(typeof c>"u")return;const h=c+1;m[h]?f(h):u()}function r(){const c=te("activeIndex"),m=x("steps")||[];if(typeof c>"u")return;const h=c-1;m[h]?f(h):u()}function l(c){(x("steps")||[])[c]?f(c):u()}function o(){var c;if(te("__transitionCallback"))return;const m=te("activeIndex"),h=te("__activeStep"),p=te("__activeElement");if(typeof m>"u"||typeof h>"u"||typeof te("activeIndex")>"u")return;const g=((c=h.popover)==null?void 0:c.onPrevClick)||x("onPrevClick");if(g)return g(p,h,{config:x(),state:te(),driver:wt()});r()}function s(){var c;if(te("__transitionCallback"))return;const m=te("activeIndex"),h=te("__activeStep"),p=te("__activeElement");if(typeof m>"u"||typeof h>"u")return;const g=((c=h.popover)==null?void 0:c.onNextClick)||x("onNextClick");if(g)return g(p,h,{config:x(),state:te(),driver:wt()});i()}function a(){te("isInitialized")||(Qe("isInitialized",!0),document.body.classList.add("driver-active",x("animate")?"driver-fade":"driver-simple"),lu(),yi("overlayClick",t),yi("escapePress",e),yi("arrowLeftPress",o),yi("arrowRightPress",s))}function f(c=0){var m,h,p,g,b,y,D,_;const S=x("steps");if(!S){console.error("No steps to drive through"),u();return}if(!S[c]){u();return}Qe("__activeOnDestroyed",document.activeElement),Qe("activeIndex",c);const w=S[c],L=S[c+1],C=S[c-1],E=((m=w.popover)==null?void 0:m.doneBtnText)||x("doneBtnText")||"Done",T=x("allowClose"),P=typeof((h=w.popover)==null?void 0:h.showProgress)<"u"?(p=w.popover)==null?void 0:p.showProgress:x("showProgress"),O=(((g=w.popover)==null?void 0:g.progressText)||x("progressText")||"{{current}} of {{total}}").replace("{{current}}",`${c+1}`).replace("{{total}}",`${S.length}`),H=((b=w.popover)==null?void 0:b.showButtons)||x("showButtons"),q=["next","previous",...T?["close"]:[]].filter(se=>!(H!=null&&H.length)||H.includes(se)),F=((y=w.popover)==null?void 0:y.onNextClick)||x("onNextClick"),U=((D=w.popover)==null?void 0:D.onPrevClick)||x("onPrevClick"),ae=((_=w.popover)==null?void 0:_.onCloseClick)||x("onCloseClick");cl({...w,popover:{showButtons:q,nextBtnText:L?void 0:E,disableButtons:[...C?[]:["previous"]],showProgress:P,progressText:O,onNextClick:F||(()=>{L?f(c+1):u()}),onPrevClick:U||(()=>{f(c-1)}),onCloseClick:ae||(()=>{u()}),...(w==null?void 0:w.popover)||{}}})}function u(c=!0){const m=te("__activeElement"),h=te("__activeStep"),p=te("__activeOnDestroyed"),g=x("onDestroyStarted");if(c&&g){const D=!m||(m==null?void 0:m.id)==="driver-dummy-element";g(D?void 0:m,h,{config:x(),state:te(),driver:wt()});return}const b=(h==null?void 0:h.onDeselected)||x("onDeselected"),y=x("onDestroyed");if(document.body.classList.remove("driver-active","driver-fade","driver-simple"),ou(),fu(),iu(),$s(),Us(),al(),m&&h){const D=m.id==="driver-dummy-element";b&&b(D?void 0:m,h,{config:x(),state:te(),driver:wt()}),y&&y(D?void 0:m,h,{config:x(),state:te(),driver:wt()})}p&&p.focus()}const d={isActive:()=>te("isInitialized")||!1,refresh:zn,drive:(c=0)=>{a(),f(c)},setConfig:fr,setSteps:c=>{al(),fr({...x(),steps:c})},getConfig:x,getState:te,getActiveIndex:()=>te("activeIndex"),isFirstStep:()=>te("activeIndex")===0,isLastStep:()=>{const c=x("steps")||[],m=te("activeIndex");return m!==void 0&&m===c.length-1},getActiveStep:()=>te("activeStep"),getActiveElement:()=>te("activeElement"),getPreviousElement:()=>te("previousElement"),getPreviousStep:()=>te("previousStep"),moveNext:i,movePrevious:r,moveTo:l,hasNextStep:()=>{const c=x("steps")||[],m=te("activeIndex");return m!==void 0&&!!c[m+1]},hasPreviousStep:()=>{const c=x("steps")||[],m=te("activeIndex");return m!==void 0&&!!c[m-1]},highlight:c=>{a(),cl({...c,popover:c.popover?{showButtons:[],showProgress:!1,progressText:"",...c.popover}:void 0})},destroy:()=>{u(!1)}};return Vs(d),d}var ct="top",yt="bottom",kt="right",dt="left",cr="auto",Gn=[ct,yt,kt,dt],gn="start",Vn="end",du="clippingParents",_l="viewport",Un="popper",pu="reference",wl=Gn.reduce(function(n,e){return n.concat([e+"-"+gn,e+"-"+Vn])},[]),yl=[].concat(Gn,[cr]).reduce(function(n,e){return n.concat([e,e+"-"+gn,e+"-"+Vn])},[]),mu="beforeRead",hu="read",gu="afterRead",vu="beforeMain",bu="main",_u="afterMain",wu="beforeWrite",yu="write",ku="afterWrite",Eu=[mu,hu,gu,vu,bu,_u,wu,yu,ku];function Tt(n){return n?(n.nodeName||"").toLowerCase():null}function ht(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var e=n.ownerDocument;return e&&e.defaultView||window}return n}function an(n){var e=ht(n).Element;return n instanceof e||n instanceof Element}function Et(n){var e=ht(n).HTMLElement;return n instanceof e||n instanceof HTMLElement}function dr(n){if(typeof ShadowRoot>"u")return!1;var e=ht(n).ShadowRoot;return n instanceof e||n instanceof ShadowRoot}function Du(n){var e=n.state;Object.keys(e.elements).forEach(function(t){var i=e.styles[t]||{},r=e.attributes[t]||{},l=e.elements[t];!Et(l)||!Tt(l)||(Object.assign(l.style,i),Object.keys(r).forEach(function(o){var s=r[o];s===!1?l.removeAttribute(o):l.setAttribute(o,s===!0?"":s)}))})}function Su(n){var e=n.state,t={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,t.popper),e.styles=t,e.elements.arrow&&Object.assign(e.elements.arrow.style,t.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],l=e.attributes[i]||{},o=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:t[i]),s=o.reduce(function(a,f){return a[f]="",a},{});!Et(r)||!Tt(r)||(Object.assign(r.style,s),Object.keys(l).forEach(function(a){r.removeAttribute(a)}))})}}const kl={name:"applyStyles",enabled:!0,phase:"write",fn:Du,effect:Su,requires:["computeStyles"]};function Lt(n){return n.split("-")[0]}var sn=Math.max,Di=Math.min,vn=Math.round;function pr(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function El(){return!/^((?!chrome|android).)*safari/i.test(pr())}function bn(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!1);var i=n.getBoundingClientRect(),r=1,l=1;e&&Et(n)&&(r=n.offsetWidth>0&&vn(i.width)/n.offsetWidth||1,l=n.offsetHeight>0&&vn(i.height)/n.offsetHeight||1);var o=an(n)?ht(n):window,s=o.visualViewport,a=!El()&&t,f=(i.left+(a&&s?s.offsetLeft:0))/r,u=(i.top+(a&&s?s.offsetTop:0))/l,d=i.width/r,c=i.height/l;return{width:d,height:c,top:u,right:f+d,bottom:u+c,left:f,x:f,y:u}}function mr(n){var e=bn(n),t=n.offsetWidth,i=n.offsetHeight;return Math.abs(e.width-t)<=1&&(t=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:n.offsetLeft,y:n.offsetTop,width:t,height:i}}function Dl(n,e){var t=e.getRootNode&&e.getRootNode();if(n.contains(e))return!0;if(t&&dr(t)){var i=e;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function Bt(n){return ht(n).getComputedStyle(n)}function Au(n){return["table","td","th"].indexOf(Tt(n))>=0}function Yt(n){return((an(n)?n.ownerDocument:n.document)||window.document).documentElement}function Si(n){return Tt(n)==="html"?n:n.assignedSlot||n.parentNode||(dr(n)?n.host:null)||Yt(n)}function Sl(n){return!Et(n)||Bt(n).position==="fixed"?null:n.offsetParent}function Cu(n){var e=/firefox/i.test(pr()),t=/Trident/i.test(pr());if(t&&Et(n)){var i=Bt(n);if(i.position==="fixed")return null}var r=Si(n);for(dr(r)&&(r=r.host);Et(r)&&["html","body"].indexOf(Tt(r))<0;){var l=Bt(r);if(l.transform!=="none"||l.perspective!=="none"||l.contain==="paint"||["transform","perspective"].indexOf(l.willChange)!==-1||e&&l.willChange==="filter"||e&&l.filter&&l.filter!=="none")return r;r=r.parentNode}return null}function Xn(n){for(var e=ht(n),t=Sl(n);t&&Au(t)&&Bt(t).position==="static";)t=Sl(t);return t&&(Tt(t)==="html"||Tt(t)==="body"&&Bt(t).position==="static")?e:t||Cu(n)||e}function hr(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function Yn(n,e,t){return sn(n,Di(e,t))}function Tu(n,e,t){var i=Yn(n,e,t);return i>t?t:i}function Al(){return{top:0,right:0,bottom:0,left:0}}function Cl(n){return Object.assign({},Al(),n)}function Tl(n,e){return e.reduce(function(t,i){return t[i]=n,t},{})}var Lu=function(e,t){return e=typeof e=="function"?e(Object.assign({},t.rects,{placement:t.placement})):e,Cl(typeof e!="number"?e:Tl(e,Gn))};function Ou(n){var e,t=n.state,i=n.name,r=n.options,l=t.elements.arrow,o=t.modifiersData.popperOffsets,s=Lt(t.placement),a=hr(s),f=[dt,kt].indexOf(s)>=0,u=f?"height":"width";if(!(!l||!o)){var d=Lu(r.padding,t),c=mr(l),m=a==="y"?ct:dt,h=a==="y"?yt:kt,p=t.rects.reference[u]+t.rects.reference[a]-o[a]-t.rects.popper[u],g=o[a]-t.rects.reference[a],b=Xn(l),y=b?a==="y"?b.clientHeight||0:b.clientWidth||0:0,D=p/2-g/2,_=d[m],S=y-c[u]-d[h],w=y/2-c[u]/2+D,L=Yn(_,w,S),C=a;t.modifiersData[i]=(e={},e[C]=L,e.centerOffset=L-w,e)}}function Pu(n){var e=n.state,t=n.options,i=t.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||Dl(e.elements.popper,r)&&(e.elements.arrow=r))}const Iu={name:"arrow",enabled:!0,phase:"main",fn:Ou,effect:Pu,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function _n(n){return n.split("-")[1]}var Nu={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Mu(n,e){var t=n.x,i=n.y,r=e.devicePixelRatio||1;return{x:vn(t*r)/r||0,y:vn(i*r)/r||0}}function Ll(n){var e,t=n.popper,i=n.popperRect,r=n.placement,l=n.variation,o=n.offsets,s=n.position,a=n.gpuAcceleration,f=n.adaptive,u=n.roundOffsets,d=n.isFixed,c=o.x,m=c===void 0?0:c,h=o.y,p=h===void 0?0:h,g=typeof u=="function"?u({x:m,y:p}):{x:m,y:p};m=g.x,p=g.y;var b=o.hasOwnProperty("x"),y=o.hasOwnProperty("y"),D=dt,_=ct,S=window;if(f){var w=Xn(t),L="clientHeight",C="clientWidth";if(w===ht(t)&&(w=Yt(t),Bt(w).position!=="static"&&s==="absolute"&&(L="scrollHeight",C="scrollWidth")),w=w,r===ct||(r===dt||r===kt)&&l===Vn){_=yt;var E=d&&w===S&&S.visualViewport?S.visualViewport.height:w[L];p-=E-i.height,p*=a?1:-1}if(r===dt||(r===ct||r===yt)&&l===Vn){D=kt;var T=d&&w===S&&S.visualViewport?S.visualViewport.width:w[C];m-=T-i.width,m*=a?1:-1}}var P=Object.assign({position:s},f&&Nu),O=u===!0?Mu({x:m,y:p},ht(t)):{x:m,y:p};if(m=O.x,p=O.y,a){var H;return Object.assign({},P,(H={},H[_]=y?"0":"",H[D]=b?"0":"",H.transform=(S.devicePixelRatio||1)<=1?"translate("+m+"px, "+p+"px)":"translate3d("+m+"px, "+p+"px, 0)",H))}return Object.assign({},P,(e={},e[_]=y?p+"px":"",e[D]=b?m+"px":"",e.transform="",e))}function Bu(n){var e=n.state,t=n.options,i=t.gpuAcceleration,r=i===void 0?!0:i,l=t.adaptive,o=l===void 0?!0:l,s=t.roundOffsets,a=s===void 0?!0:s,f={placement:Lt(e.placement),variation:_n(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ll(Object.assign({},f,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:a})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ll(Object.assign({},f,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:a})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const Fu={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Bu,data:{}};var Ai={passive:!0};function Ru(n){var e=n.state,t=n.instance,i=n.options,r=i.scroll,l=r===void 0?!0:r,o=i.resize,s=o===void 0?!0:o,a=ht(e.elements.popper),f=[].concat(e.scrollParents.reference,e.scrollParents.popper);return l&&f.forEach(function(u){u.addEventListener("scroll",t.update,Ai)}),s&&a.addEventListener("resize",t.update,Ai),function(){l&&f.forEach(function(u){u.removeEventListener("scroll",t.update,Ai)}),s&&a.removeEventListener("resize",t.update,Ai)}}const Hu={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ru,data:{}};var Wu={left:"right",right:"left",bottom:"top",top:"bottom"};function Ci(n){return n.replace(/left|right|bottom|top/g,function(e){return Wu[e]})}var ju={start:"end",end:"start"};function Ol(n){return n.replace(/start|end/g,function(e){return ju[e]})}function gr(n){var e=ht(n),t=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:t,scrollTop:i}}function vr(n){return bn(Yt(n)).left+gr(n).scrollLeft}function qu(n,e){var t=ht(n),i=Yt(n),r=t.visualViewport,l=i.clientWidth,o=i.clientHeight,s=0,a=0;if(r){l=r.width,o=r.height;var f=El();(f||!f&&e==="fixed")&&(s=r.offsetLeft,a=r.offsetTop)}return{width:l,height:o,x:s+vr(n),y:a}}function zu(n){var e,t=Yt(n),i=gr(n),r=(e=n.ownerDocument)==null?void 0:e.body,l=sn(t.scrollWidth,t.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),o=sn(t.scrollHeight,t.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-i.scrollLeft+vr(n),a=-i.scrollTop;return Bt(r||t).direction==="rtl"&&(s+=sn(t.clientWidth,r?r.clientWidth:0)-l),{width:l,height:o,x:s,y:a}}function br(n){var e=Bt(n),t=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(t+r+i)}function Pl(n){return["html","body","#document"].indexOf(Tt(n))>=0?n.ownerDocument.body:Et(n)&&br(n)?n:Pl(Si(n))}function Jn(n,e){var t;e===void 0&&(e=[]);var i=Pl(n),r=i===((t=n.ownerDocument)==null?void 0:t.body),l=ht(i),o=r?[l].concat(l.visualViewport||[],br(i)?i:[]):i,s=e.concat(o);return r?s:s.concat(Jn(Si(o)))}function _r(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function Gu(n,e){var t=bn(n,!1,e==="fixed");return t.top=t.top+n.clientTop,t.left=t.left+n.clientLeft,t.bottom=t.top+n.clientHeight,t.right=t.left+n.clientWidth,t.width=n.clientWidth,t.height=n.clientHeight,t.x=t.left,t.y=t.top,t}function Il(n,e,t){return e===_l?_r(qu(n,t)):an(e)?Gu(e,t):_r(zu(Yt(n)))}function Vu(n){var e=Jn(Si(n)),t=["absolute","fixed"].indexOf(Bt(n).position)>=0,i=t&&Et(n)?Xn(n):n;return an(i)?e.filter(function(r){return an(r)&&Dl(r,i)&&Tt(r)!=="body"}):[]}function Uu(n,e,t,i){var r=e==="clippingParents"?Vu(n):[].concat(e),l=[].concat(r,[t]),o=l[0],s=l.reduce(function(a,f){var u=Il(n,f,i);return a.top=sn(u.top,a.top),a.right=Di(u.right,a.right),a.bottom=Di(u.bottom,a.bottom),a.left=sn(u.left,a.left),a},Il(n,o,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Nl(n){var e=n.reference,t=n.element,i=n.placement,r=i?Lt(i):null,l=i?_n(i):null,o=e.x+e.width/2-t.width/2,s=e.y+e.height/2-t.height/2,a;switch(r){case ct:a={x:o,y:e.y-t.height};break;case yt:a={x:o,y:e.y+e.height};break;case kt:a={x:e.x+e.width,y:s};break;case dt:a={x:e.x-t.width,y:s};break;default:a={x:e.x,y:e.y}}var f=r?hr(r):null;if(f!=null){var u=f==="y"?"height":"width";switch(l){case gn:a[f]=a[f]-(e[u]/2-t[u]/2);break;case Vn:a[f]=a[f]+(e[u]/2-t[u]/2);break}}return a}function Zn(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=i===void 0?n.placement:i,l=t.strategy,o=l===void 0?n.strategy:l,s=t.boundary,a=s===void 0?du:s,f=t.rootBoundary,u=f===void 0?_l:f,d=t.elementContext,c=d===void 0?Un:d,m=t.altBoundary,h=m===void 0?!1:m,p=t.padding,g=p===void 0?0:p,b=Cl(typeof g!="number"?g:Tl(g,Gn)),y=c===Un?pu:Un,D=n.rects.popper,_=n.elements[h?y:c],S=Uu(an(_)?_:_.contextElement||Yt(n.elements.popper),a,u,o),w=bn(n.elements.reference),L=Nl({reference:w,element:D,placement:r}),C=_r(Object.assign({},D,L)),E=c===Un?C:w,T={top:S.top-E.top+b.top,bottom:E.bottom-S.bottom+b.bottom,left:S.left-E.left+b.left,right:E.right-S.right+b.right},P=n.modifiersData.offset;if(c===Un&&P){var O=P[r];Object.keys(T).forEach(function(H){var q=[kt,yt].indexOf(H)>=0?1:-1,F=[ct,yt].indexOf(H)>=0?"y":"x";T[H]+=O[F]*q})}return T}function Xu(n,e){e===void 0&&(e={});var t=e,i=t.placement,r=t.boundary,l=t.rootBoundary,o=t.padding,s=t.flipVariations,a=t.allowedAutoPlacements,f=a===void 0?yl:a,u=_n(i),d=u?s?wl:wl.filter(function(h){return _n(h)===u}):Gn,c=d.filter(function(h){return f.indexOf(h)>=0});c.length===0&&(c=d);var m=c.reduce(function(h,p){return h[p]=Zn(n,{placement:p,boundary:r,rootBoundary:l,padding:o})[Lt(p)],h},{});return Object.keys(m).sort(function(h,p){return m[h]-m[p]})}function Yu(n){if(Lt(n)===cr)return[];var e=Ci(n);return[Ol(n),e,Ol(e)]}function Ju(n){var e=n.state,t=n.options,i=n.name;if(!e.modifiersData[i]._skip){for(var r=t.mainAxis,l=r===void 0?!0:r,o=t.altAxis,s=o===void 0?!0:o,a=t.fallbackPlacements,f=t.padding,u=t.boundary,d=t.rootBoundary,c=t.altBoundary,m=t.flipVariations,h=m===void 0?!0:m,p=t.allowedAutoPlacements,g=e.options.placement,b=Lt(g),y=b===g,D=a||(y||!h?[Ci(g)]:Yu(g)),_=[g].concat(D).reduce(function(De,Ne){return De.concat(Lt(Ne)===cr?Xu(e,{placement:Ne,boundary:u,rootBoundary:d,padding:f,flipVariations:h,allowedAutoPlacements:p}):Ne)},[]),S=e.rects.reference,w=e.rects.popper,L=new Map,C=!0,E=_[0],T=0;T<_.length;T++){var P=_[T],O=Lt(P),H=_n(P)===gn,q=[ct,yt].indexOf(O)>=0,F=q?"width":"height",U=Zn(e,{placement:P,boundary:u,rootBoundary:d,altBoundary:c,padding:f}),ae=q?H?kt:dt:H?yt:ct;S[F]>w[F]&&(ae=Ci(ae));var se=Ci(ae),Pe=[];if(l&&Pe.push(U[O]<=0),s&&Pe.push(U[ae]<=0,U[se]<=0),Pe.every(function(De){return De})){E=P,C=!1;break}L.set(P,Pe)}if(C)for(var $e=h?3:1,Ke=function(Ne){var qe=_.find(function(tt){var Ze=L.get(tt);if(Ze)return Ze.slice(0,Ne).every(function(Y){return Y})});if(qe)return E=qe,"break"},et=$e;et>0;et--){var ce=Ke(et);if(ce==="break")break}e.placement!==E&&(e.modifiersData[i]._skip=!0,e.placement=E,e.reset=!0)}}const Zu={name:"flip",enabled:!0,phase:"main",fn:Ju,requiresIfExists:["offset"],data:{_skip:!1}};function Ml(n,e,t){return t===void 0&&(t={x:0,y:0}),{top:n.top-e.height-t.y,right:n.right-e.width+t.x,bottom:n.bottom-e.height+t.y,left:n.left-e.width-t.x}}function Bl(n){return[ct,kt,yt,dt].some(function(e){return n[e]>=0})}function Ku(n){var e=n.state,t=n.name,i=e.rects.reference,r=e.rects.popper,l=e.modifiersData.preventOverflow,o=Zn(e,{elementContext:"reference"}),s=Zn(e,{altBoundary:!0}),a=Ml(o,i),f=Ml(s,r,l),u=Bl(a),d=Bl(f);e.modifiersData[t]={referenceClippingOffsets:a,popperEscapeOffsets:f,isReferenceHidden:u,hasPopperEscaped:d},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":d})}const Qu={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ku};function xu(n,e,t){var i=Lt(n),r=[dt,ct].indexOf(i)>=0?-1:1,l=typeof t=="function"?t(Object.assign({},e,{placement:n})):t,o=l[0],s=l[1];return o=o||0,s=(s||0)*r,[dt,kt].indexOf(i)>=0?{x:s,y:o}:{x:o,y:s}}function $u(n){var e=n.state,t=n.options,i=n.name,r=t.offset,l=r===void 0?[0,0]:r,o=yl.reduce(function(u,d){return u[d]=xu(d,e.rects,l),u},{}),s=o[e.placement],a=s.x,f=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=a,e.modifiersData.popperOffsets.y+=f),e.modifiersData[i]=o}const ef={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:$u};function tf(n){var e=n.state,t=n.name;e.modifiersData[t]=Nl({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const nf={name:"popperOffsets",enabled:!0,phase:"read",fn:tf,data:{}};function rf(n){return n==="x"?"y":"x"}function lf(n){var e=n.state,t=n.options,i=n.name,r=t.mainAxis,l=r===void 0?!0:r,o=t.altAxis,s=o===void 0?!1:o,a=t.boundary,f=t.rootBoundary,u=t.altBoundary,d=t.padding,c=t.tether,m=c===void 0?!0:c,h=t.tetherOffset,p=h===void 0?0:h,g=Zn(e,{boundary:a,rootBoundary:f,padding:d,altBoundary:u}),b=Lt(e.placement),y=_n(e.placement),D=!y,_=hr(b),S=rf(_),w=e.modifiersData.popperOffsets,L=e.rects.reference,C=e.rects.popper,E=typeof p=="function"?p(Object.assign({},e.rects,{placement:e.placement})):p,T=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,O={x:0,y:0};if(w){if(l){var H,q=_==="y"?ct:dt,F=_==="y"?yt:kt,U=_==="y"?"height":"width",ae=w[_],se=ae+g[q],Pe=ae-g[F],$e=m?-C[U]/2:0,Ke=y===gn?L[U]:C[U],et=y===gn?-C[U]:-L[U],ce=e.elements.arrow,De=m&&ce?mr(ce):{width:0,height:0},Ne=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Al(),qe=Ne[q],tt=Ne[F],Ze=Yn(0,L[U],De[U]),Y=D?L[U]/2-$e-Ze-qe-T.mainAxis:Ke-Ze-qe-T.mainAxis,G=D?-L[U]/2+$e+Ze+tt+T.mainAxis:et+Ze+tt+T.mainAxis,Z=e.elements.arrow&&Xn(e.elements.arrow),$=Z?_==="y"?Z.clientTop||0:Z.clientLeft||0:0,de=(H=P==null?void 0:P[_])!=null?H:0,Oe=ae+Y-de-$,Re=ae+G-de,at=Yn(m?Di(se,Oe):se,ae,m?sn(Pe,Re):Pe);w[_]=at,O[_]=at-ae}if(s){var ne,ye=_==="x"?ct:dt,Te=_==="x"?yt:kt,Ue=w[S],it=S==="y"?"height":"width",Nt=Ue+g[ye],Xt=Ue-g[Te],hn=[ct,dt].indexOf(b)!==-1,Rn=(ne=P==null?void 0:P[S])!=null?ne:0,Hn=hn?Nt:Ue-L[it]-C[it]-Rn+T.altAxis,Wn=hn?Ue+L[it]+C[it]-Rn-T.altAxis:Xt,jn=m&&hn?Tu(Hn,Ue,Wn):Yn(m?Hn:Nt,Ue,m?Wn:Xt);w[S]=jn,O[S]=jn-Ue}e.modifiersData[i]=O}}const of={name:"preventOverflow",enabled:!0,phase:"main",fn:lf,requiresIfExists:["offset"]};function af(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function sf(n){return n===ht(n)||!Et(n)?gr(n):af(n)}function uf(n){var e=n.getBoundingClientRect(),t=vn(e.width)/n.offsetWidth||1,i=vn(e.height)/n.offsetHeight||1;return t!==1||i!==1}function ff(n,e,t){t===void 0&&(t=!1);var i=Et(e),r=Et(e)&&uf(e),l=Yt(e),o=bn(n,r,t),s={scrollLeft:0,scrollTop:0},a={x:0,y:0};return(i||!i&&!t)&&((Tt(e)!=="body"||br(l))&&(s=sf(e)),Et(e)?(a=bn(e,!0),a.x+=e.clientLeft,a.y+=e.clientTop):l&&(a.x=vr(l))),{x:o.left+s.scrollLeft-a.x,y:o.top+s.scrollTop-a.y,width:o.width,height:o.height}}function cf(n){var e=new Map,t=new Set,i=[];n.forEach(function(l){e.set(l.name,l)});function r(l){t.add(l.name);var o=[].concat(l.requires||[],l.requiresIfExists||[]);o.forEach(function(s){if(!t.has(s)){var a=e.get(s);a&&r(a)}}),i.push(l)}return n.forEach(function(l){t.has(l.name)||r(l)}),i}function df(n){var e=cf(n);return Eu.reduce(function(t,i){return t.concat(e.filter(function(r){return r.phase===i}))},[])}function pf(n){var e;return function(){return e||(e=new Promise(function(t){Promise.resolve().then(function(){e=void 0,t(n())})})),e}}function mf(n){var e=n.reduce(function(t,i){var r=t[i.name];return t[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,t},{});return Object.keys(e).map(function(t){return e[t]})}var Fl={placement:"bottom",modifiers:[],strategy:"absolute"};function Rl(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function hf(n){n===void 0&&(n={});var e=n,t=e.defaultModifiers,i=t===void 0?[]:t,r=e.defaultOptions,l=r===void 0?Fl:r;return function(s,a,f){f===void 0&&(f=l);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},Fl,l),modifiersData:{},elements:{reference:s,popper:a},attributes:{},styles:{}},d=[],c=!1,m={state:u,setOptions:function(b){var y=typeof b=="function"?b(u.options):b;p(),u.options=Object.assign({},l,u.options,y),u.scrollParents={reference:an(s)?Jn(s):s.contextElement?Jn(s.contextElement):[],popper:Jn(a)};var D=df(mf([].concat(i,u.options.modifiers)));return u.orderedModifiers=D.filter(function(_){return _.enabled}),h(),m.update()},forceUpdate:function(){if(!c){var b=u.elements,y=b.reference,D=b.popper;if(Rl(y,D)){u.rects={reference:ff(y,Xn(D),u.options.strategy==="fixed"),popper:mr(D)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(T){return u.modifiersData[T.name]=Object.assign({},T.data)});for(var _=0;_<u.orderedModifiers.length;_++){if(u.reset===!0){u.reset=!1,_=-1;continue}var S=u.orderedModifiers[_],w=S.fn,L=S.options,C=L===void 0?{}:L,E=S.name;typeof w=="function"&&(u=w({state:u,options:C,name:E,instance:m})||u)}}}},update:pf(function(){return new Promise(function(g){m.forceUpdate(),g(u)})}),destroy:function(){p(),c=!0}};if(!Rl(s,a))return m;m.setOptions(f).then(function(g){!c&&f.onFirstUpdate&&f.onFirstUpdate(g)});function h(){u.orderedModifiers.forEach(function(g){var b=g.name,y=g.options,D=y===void 0?{}:y,_=g.effect;if(typeof _=="function"){var S=_({state:u,name:b,instance:m,options:D}),w=function(){};d.push(S||w)}})}function p(){d.forEach(function(g){return g()}),d=[]}return m}}var gf=[Hu,nf,Fu,kl,ef,Zu,of,Iu,Qu],vf=hf({defaultModifiers:gf}),bf="tippy-box",Hl="tippy-content",_f="tippy-backdrop",Wl="tippy-arrow",jl="tippy-svg-arrow",un={passive:!0,capture:!0},ql=function(){return document.body};function wr(n,e,t){if(Array.isArray(n)){var i=n[e];return i??(Array.isArray(t)?t[e]:t)}return n}function yr(n,e){var t={}.toString.call(n);return t.indexOf("[object")===0&&t.indexOf(e+"]")>-1}function zl(n,e){return typeof n=="function"?n.apply(void 0,e):n}function Gl(n,e){if(e===0)return n;var t;return function(i){clearTimeout(t),t=setTimeout(function(){n(i)},e)}}function wf(n){return n.split(/\s+/).filter(Boolean)}function wn(n){return[].concat(n)}function Vl(n,e){n.indexOf(e)===-1&&n.push(e)}function yf(n){return n.filter(function(e,t){return n.indexOf(e)===t})}function kf(n){return n.split("-")[0]}function Ti(n){return[].slice.call(n)}function Ul(n){return Object.keys(n).reduce(function(e,t){return n[t]!==void 0&&(e[t]=n[t]),e},{})}function Kn(){return document.createElement("div")}function Li(n){return["Element","Fragment"].some(function(e){return yr(n,e)})}function Ef(n){return yr(n,"NodeList")}function Df(n){return yr(n,"MouseEvent")}function Sf(n){return!!(n&&n._tippy&&n._tippy.reference===n)}function Af(n){return Li(n)?[n]:Ef(n)?Ti(n):Array.isArray(n)?n:Ti(document.querySelectorAll(n))}function kr(n,e){n.forEach(function(t){t&&(t.style.transitionDuration=e+"ms")})}function Xl(n,e){n.forEach(function(t){t&&t.setAttribute("data-state",e)})}function Cf(n){var e,t=wn(n),i=t[0];return i!=null&&(e=i.ownerDocument)!=null&&e.body?i.ownerDocument:document}function Tf(n,e){var t=e.clientX,i=e.clientY;return n.every(function(r){var l=r.popperRect,o=r.popperState,s=r.props,a=s.interactiveBorder,f=kf(o.placement),u=o.modifiersData.offset;if(!u)return!0;var d=f==="bottom"?u.top.y:0,c=f==="top"?u.bottom.y:0,m=f==="right"?u.left.x:0,h=f==="left"?u.right.x:0,p=l.top-i+d>a,g=i-l.bottom-c>a,b=l.left-t+m>a,y=t-l.right-h>a;return p||g||b||y})}function Er(n,e,t){var i=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(r){n[i](r,t)})}function Yl(n,e){for(var t=e;t;){var i;if(n.contains(t))return!0;t=t.getRootNode==null||(i=t.getRootNode())==null?void 0:i.host}return!1}var Ot={isTouch:!1},Jl=0;function Lf(){Ot.isTouch||(Ot.isTouch=!0,window.performance&&document.addEventListener("mousemove",Zl))}function Zl(){var n=performance.now();n-Jl<20&&(Ot.isTouch=!1,document.removeEventListener("mousemove",Zl)),Jl=n}function Of(){var n=document.activeElement;if(Sf(n)){var e=n._tippy;n.blur&&!e.state.isVisible&&n.blur()}}function Pf(){document.addEventListener("touchstart",Lf,un),window.addEventListener("blur",Of)}var If=typeof window<"u"&&typeof document<"u",Nf=If?!!window.msCrypto:!1,Mf={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},Bf={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},St=Object.assign({appendTo:ql,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},Mf,Bf),Ff=Object.keys(St),Rf=function(e){var t=Object.keys(e);t.forEach(function(i){St[i]=e[i]})};function Kl(n){var e=n.plugins||[],t=e.reduce(function(i,r){var l=r.name,o=r.defaultValue;if(l){var s;i[l]=n[l]!==void 0?n[l]:(s=St[l])!=null?s:o}return i},{});return Object.assign({},n,t)}function Hf(n,e){var t=e?Object.keys(Kl(Object.assign({},St,{plugins:e}))):Ff,i=t.reduce(function(r,l){var o=(n.getAttribute("data-tippy-"+l)||"").trim();if(!o)return r;if(l==="content")r[l]=o;else try{r[l]=JSON.parse(o)}catch{r[l]=o}return r},{});return i}function Ql(n,e){var t=Object.assign({},e,{content:zl(e.content,[n])},e.ignoreAttributes?{}:Hf(n,e.plugins));return t.aria=Object.assign({},St.aria,t.aria),t.aria={expanded:t.aria.expanded==="auto"?e.interactive:t.aria.expanded,content:t.aria.content==="auto"?e.interactive?null:"describedby":t.aria.content},t}var Wf=function(){return"innerHTML"};function Dr(n,e){n[Wf()]=e}function xl(n){var e=Kn();return n===!0?e.className=Wl:(e.className=jl,Li(n)?e.appendChild(n):Dr(e,n)),e}function $l(n,e){Li(e.content)?(Dr(n,""),n.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Dr(n,e.content):n.textContent=e.content)}function Sr(n){var e=n.firstElementChild,t=Ti(e.children);return{box:e,content:t.find(function(i){return i.classList.contains(Hl)}),arrow:t.find(function(i){return i.classList.contains(Wl)||i.classList.contains(jl)}),backdrop:t.find(function(i){return i.classList.contains(_f)})}}function eo(n){var e=Kn(),t=Kn();t.className=bf,t.setAttribute("data-state","hidden"),t.setAttribute("tabindex","-1");var i=Kn();i.className=Hl,i.setAttribute("data-state","hidden"),$l(i,n.props),e.appendChild(t),t.appendChild(i),r(n.props,n.props);function r(l,o){var s=Sr(e),a=s.box,f=s.content,u=s.arrow;o.theme?a.setAttribute("data-theme",o.theme):a.removeAttribute("data-theme"),typeof o.animation=="string"?a.setAttribute("data-animation",o.animation):a.removeAttribute("data-animation"),o.inertia?a.setAttribute("data-inertia",""):a.removeAttribute("data-inertia"),a.style.maxWidth=typeof o.maxWidth=="number"?o.maxWidth+"px":o.maxWidth,o.role?a.setAttribute("role",o.role):a.removeAttribute("role"),(l.content!==o.content||l.allowHTML!==o.allowHTML)&&$l(f,n.props),o.arrow?u?l.arrow!==o.arrow&&(a.removeChild(u),a.appendChild(xl(o.arrow))):a.appendChild(xl(o.arrow)):u&&a.removeChild(u)}return{popper:e,onUpdate:r}}eo.$$tippy=!0;var jf=1,Oi=[],Ar=[];function qf(n,e){var t=Ql(n,Object.assign({},St,Kl(Ul(e)))),i,r,l,o=!1,s=!1,a=!1,f=!1,u,d,c,m=[],h=Gl(Oe,t.interactiveDebounce),p,g=jf++,b=null,y=yf(t.plugins),D={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},_={id:g,reference:n,popper:Kn(),popperInstance:b,props:t,state:D,plugins:y,clearDelayTimeouts:Hn,setProps:Wn,setContent:jn,show:tl,hide:nl,hideWithInteractivity:il,enable:hn,disable:Rn,unmount:B,destroy:ie};if(!t.render)return _;var S=t.render(_),w=S.popper,L=S.onUpdate;w.setAttribute("data-tippy-root",""),w.id="tippy-"+_.id,_.popper=w,n._tippy=_,w._tippy=_;var C=y.map(function(I){return I.fn(_)}),E=n.hasAttribute("aria-expanded");return Z(),$e(),ae(),se("onCreate",[_]),t.showOnCreate&&Nt(),w.addEventListener("mouseenter",function(){_.props.interactive&&_.state.isVisible&&_.clearDelayTimeouts()}),w.addEventListener("mouseleave",function(){_.props.interactive&&_.props.trigger.indexOf("mouseenter")>=0&&q().addEventListener("mousemove",h)}),_;function T(){var I=_.props.touch;return Array.isArray(I)?I:[I,0]}function P(){return T()[0]==="hold"}function O(){var I;return!!((I=_.props.render)!=null&&I.$$tippy)}function H(){return p||n}function q(){var I=H().parentNode;return I?Cf(I):document}function F(){return Sr(w)}function U(I){return _.state.isMounted&&!_.state.isVisible||Ot.isTouch||u&&u.type==="focus"?0:wr(_.props.delay,I?0:1,St.delay)}function ae(I){I===void 0&&(I=!1),w.style.pointerEvents=_.props.interactive&&!I?"":"none",w.style.zIndex=""+_.props.zIndex}function se(I,z,X){if(X===void 0&&(X=!0),C.forEach(function(Q){Q[I]&&Q[I].apply(Q,z)}),X){var K;(K=_.props)[I].apply(K,z)}}function Pe(){var I=_.props.aria;if(I.content){var z="aria-"+I.content,X=w.id,K=wn(_.props.triggerTarget||n);K.forEach(function(Q){var _e=Q.getAttribute(z);if(_.state.isVisible)Q.setAttribute(z,_e?_e+" "+X:X);else{var Xe=_e&&_e.replace(X,"").trim();Xe?Q.setAttribute(z,Xe):Q.removeAttribute(z)}})}}function $e(){if(!(E||!_.props.aria.expanded)){var I=wn(_.props.triggerTarget||n);I.forEach(function(z){_.props.interactive?z.setAttribute("aria-expanded",_.state.isVisible&&z===H()?"true":"false"):z.removeAttribute("aria-expanded")})}}function Ke(){q().removeEventListener("mousemove",h),Oi=Oi.filter(function(I){return I!==h})}function et(I){if(!(Ot.isTouch&&(a||I.type==="mousedown"))){var z=I.composedPath&&I.composedPath()[0]||I.target;if(!(_.props.interactive&&Yl(w,z))){if(wn(_.props.triggerTarget||n).some(function(X){return Yl(X,z)})){if(Ot.isTouch||_.state.isVisible&&_.props.trigger.indexOf("click")>=0)return}else se("onClickOutside",[_,I]);_.props.hideOnClick===!0&&(_.clearDelayTimeouts(),_.hide(),s=!0,setTimeout(function(){s=!1}),_.state.isMounted||qe())}}}function ce(){a=!0}function De(){a=!1}function Ne(){var I=q();I.addEventListener("mousedown",et,!0),I.addEventListener("touchend",et,un),I.addEventListener("touchstart",De,un),I.addEventListener("touchmove",ce,un)}function qe(){var I=q();I.removeEventListener("mousedown",et,!0),I.removeEventListener("touchend",et,un),I.removeEventListener("touchstart",De,un),I.removeEventListener("touchmove",ce,un)}function tt(I,z){Y(I,function(){!_.state.isVisible&&w.parentNode&&w.parentNode.contains(w)&&z()})}function Ze(I,z){Y(I,z)}function Y(I,z){var X=F().box;function K(Q){Q.target===X&&(Er(X,"remove",K),z())}if(I===0)return z();Er(X,"remove",d),Er(X,"add",K),d=K}function G(I,z,X){X===void 0&&(X=!1);var K=wn(_.props.triggerTarget||n);K.forEach(function(Q){Q.addEventListener(I,z,X),m.push({node:Q,eventType:I,handler:z,options:X})})}function Z(){P()&&(G("touchstart",de,{passive:!0}),G("touchend",Re,{passive:!0})),wf(_.props.trigger).forEach(function(I){if(I!=="manual")switch(G(I,de),I){case"mouseenter":G("mouseleave",Re);break;case"focus":G(Nf?"focusout":"blur",at);break;case"focusin":G("focusout",at);break}})}function $(){m.forEach(function(I){var z=I.node,X=I.eventType,K=I.handler,Q=I.options;z.removeEventListener(X,K,Q)}),m=[]}function de(I){var z,X=!1;if(!(!_.state.isEnabled||ne(I)||s)){var K=((z=u)==null?void 0:z.type)==="focus";u=I,p=I.currentTarget,$e(),!_.state.isVisible&&Df(I)&&Oi.forEach(function(Q){return Q(I)}),I.type==="click"&&(_.props.trigger.indexOf("mouseenter")<0||o)&&_.props.hideOnClick!==!1&&_.state.isVisible?X=!0:Nt(I),I.type==="click"&&(o=!X),X&&!K&&Xt(I)}}function Oe(I){var z=I.target,X=H().contains(z)||w.contains(z);if(!(I.type==="mousemove"&&X)){var K=it().concat(w).map(function(Q){var _e,Xe=Q._tippy,_t=(_e=Xe.popperInstance)==null?void 0:_e.state;return _t?{popperRect:Q.getBoundingClientRect(),popperState:_t,props:t}:null}).filter(Boolean);Tf(K,I)&&(Ke(),Xt(I))}}function Re(I){var z=ne(I)||_.props.trigger.indexOf("click")>=0&&o;if(!z){if(_.props.interactive){_.hideWithInteractivity(I);return}Xt(I)}}function at(I){_.props.trigger.indexOf("focusin")<0&&I.target!==H()||_.props.interactive&&I.relatedTarget&&w.contains(I.relatedTarget)||Xt(I)}function ne(I){return Ot.isTouch?P()!==I.type.indexOf("touch")>=0:!1}function ye(){Te();var I=_.props,z=I.popperOptions,X=I.placement,K=I.offset,Q=I.getReferenceClientRect,_e=I.moveTransition,Xe=O()?Sr(w).arrow:null,_t=Q?{getBoundingClientRect:Q,contextElement:Q.contextElement||H()}:n,tn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(sr){var qn=sr.state;if(O()){var Fm=F(),rl=Fm.box;["placement","reference-hidden","escaped"].forEach(function(ur){ur==="placement"?rl.setAttribute("data-placement",qn.placement):qn.attributes.popper["data-popper-"+ur]?rl.setAttribute("data-"+ur,""):rl.removeAttribute("data-"+ur)}),qn.attributes.popper={}}}},Mt=[{name:"offset",options:{offset:K}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!_e}},tn];O()&&Xe&&Mt.push({name:"arrow",options:{element:Xe,padding:3}}),Mt.push.apply(Mt,(z==null?void 0:z.modifiers)||[]),_.popperInstance=vf(_t,w,Object.assign({},z,{placement:X,onFirstUpdate:c,modifiers:Mt}))}function Te(){_.popperInstance&&(_.popperInstance.destroy(),_.popperInstance=null)}function Ue(){var I=_.props.appendTo,z,X=H();_.props.interactive&&I===ql||I==="parent"?z=X.parentNode:z=zl(I,[X]),z.contains(w)||z.appendChild(w),_.state.isMounted=!0,ye()}function it(){return Ti(w.querySelectorAll("[data-tippy-root]"))}function Nt(I){_.clearDelayTimeouts(),I&&se("onTrigger",[_,I]),Ne();var z=U(!0),X=T(),K=X[0],Q=X[1];Ot.isTouch&&K==="hold"&&Q&&(z=Q),z?i=setTimeout(function(){_.show()},z):_.show()}function Xt(I){if(_.clearDelayTimeouts(),se("onUntrigger",[_,I]),!_.state.isVisible){qe();return}if(!(_.props.trigger.indexOf("mouseenter")>=0&&_.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(I.type)>=0&&o)){var z=U(!1);z?r=setTimeout(function(){_.state.isVisible&&_.hide()},z):l=requestAnimationFrame(function(){_.hide()})}}function hn(){_.state.isEnabled=!0}function Rn(){_.hide(),_.state.isEnabled=!1}function Hn(){clearTimeout(i),clearTimeout(r),cancelAnimationFrame(l)}function Wn(I){if(!_.state.isDestroyed){se("onBeforeUpdate",[_,I]),$();var z=_.props,X=Ql(n,Object.assign({},z,Ul(I),{ignoreAttributes:!0}));_.props=X,Z(),z.interactiveDebounce!==X.interactiveDebounce&&(Ke(),h=Gl(Oe,X.interactiveDebounce)),z.triggerTarget&&!X.triggerTarget?wn(z.triggerTarget).forEach(function(K){K.removeAttribute("aria-expanded")}):X.triggerTarget&&n.removeAttribute("aria-expanded"),$e(),ae(),L&&L(z,X),_.popperInstance&&(ye(),it().forEach(function(K){requestAnimationFrame(K._tippy.popperInstance.forceUpdate)})),se("onAfterUpdate",[_,I])}}function jn(I){_.setProps({content:I})}function tl(){var I=_.state.isVisible,z=_.state.isDestroyed,X=!_.state.isEnabled,K=Ot.isTouch&&!_.props.touch,Q=wr(_.props.duration,0,St.duration);if(!(I||z||X||K)&&!H().hasAttribute("disabled")&&(se("onShow",[_],!1),_.props.onShow(_)!==!1)){if(_.state.isVisible=!0,O()&&(w.style.visibility="visible"),ae(),Ne(),_.state.isMounted||(w.style.transition="none"),O()){var _e=F(),Xe=_e.box,_t=_e.content;kr([Xe,_t],0)}c=function(){var Mt;if(!(!_.state.isVisible||f)){if(f=!0,w.offsetHeight,w.style.transition=_.props.moveTransition,O()&&_.props.animation){var nn=F(),sr=nn.box,qn=nn.content;kr([sr,qn],Q),Xl([sr,qn],"visible")}Pe(),$e(),Vl(Ar,_),(Mt=_.popperInstance)==null||Mt.forceUpdate(),se("onMount",[_]),_.props.animation&&O()&&Ze(Q,function(){_.state.isShown=!0,se("onShown",[_])})}},Ue()}}function nl(){var I=!_.state.isVisible,z=_.state.isDestroyed,X=!_.state.isEnabled,K=wr(_.props.duration,1,St.duration);if(!(I||z||X)&&(se("onHide",[_],!1),_.props.onHide(_)!==!1)){if(_.state.isVisible=!1,_.state.isShown=!1,f=!1,o=!1,O()&&(w.style.visibility="hidden"),Ke(),qe(),ae(!0),O()){var Q=F(),_e=Q.box,Xe=Q.content;_.props.animation&&(kr([_e,Xe],K),Xl([_e,Xe],"hidden"))}Pe(),$e(),_.props.animation?O()&&tt(K,_.unmount):_.unmount()}}function il(I){q().addEventListener("mousemove",h),Vl(Oi,h),h(I)}function B(){_.state.isVisible&&_.hide(),_.state.isMounted&&(Te(),it().forEach(function(I){I._tippy.unmount()}),w.parentNode&&w.parentNode.removeChild(w),Ar=Ar.filter(function(I){return I!==_}),_.state.isMounted=!1,se("onHidden",[_]))}function ie(){_.state.isDestroyed||(_.clearDelayTimeouts(),_.unmount(),$(),delete n._tippy,_.state.isDestroyed=!0,se("onDestroy",[_]))}}function Qn(n,e){e===void 0&&(e={});var t=St.plugins.concat(e.plugins||[]);Pf();var i=Object.assign({},e,{plugins:t}),r=Af(n),l=r.reduce(function(o,s){var a=s&&qf(s,i);return a&&o.push(a),o},[]);return Li(n)?l[0]:l}Qn.defaultProps=St,Qn.setDefaultProps=Rf,Qn.currentInput=Ot,Object.assign({},kl,{effect:function(e){var t=e.state,i={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(t.elements.popper.style,i.popper),t.styles=i,t.elements.arrow&&Object.assign(t.elements.arrow.style,i.arrow)}}),Qn.setDefaultProps({render:eo});function Se(){}const to=n=>n;function xn(n,e){for(const t in e)n[t]=e[t];return n}function no(n){return n()}function io(){return Object.create(null)}function rt(n){n.forEach(no)}function Ft(n){return typeof n=="function"}function we(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let Pi;function Cr(n,e){return n===e?!0:(Pi||(Pi=document.createElement("a")),Pi.href=e,n===Pi.href)}function zf(n){return Object.keys(n).length===0}function Gf(n,...e){if(n==null){for(const i of e)i(void 0);return Se}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function Vf(n){let e;return Gf(n,t=>e=t)(),e}function $n(n,e,t,i){if(n){const r=ro(n,e,t,i);return n[0](r)}}function ro(n,e,t,i){return n[1]&&i?xn(t.ctx.slice(),n[1](i(e))):t.ctx}function ei(n,e,t,i){if(n[2]&&i){const r=n[2](i(t));if(e.dirty===void 0)return r;if(typeof r=="object"){const l=[],o=Math.max(e.dirty.length,r.length);for(let s=0;s<o;s+=1)l[s]=e.dirty[s]|r[s];return l}return e.dirty|r}return e.dirty}function ti(n,e,t,i,r,l){if(r){const o=ro(e,t,i,l);n.p(o,r)}}function ni(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let i=0;i<t;i++)e[i]=-1;return e}return-1}function lt(n){return n??""}const lo=typeof window<"u";let Uf=lo?()=>window.performance.now():()=>Date.now(),Tr=lo?n=>requestAnimationFrame(n):Se;const yn=new Set;function oo(n){yn.forEach(e=>{e.c(n)||(yn.delete(e),e.f())}),yn.size!==0&&Tr(oo)}function Xf(n){let e;return yn.size===0&&Tr(oo),{promise:new Promise(t=>{yn.add(e={c:n,f:t})}),abort(){yn.delete(e)}}}function k(n,e){n.appendChild(e)}function ao(n){if(!n)return document;const e=n.getRootNode?n.getRootNode():n.ownerDocument;return e&&e.host?e:n.ownerDocument}function Yf(n){const e=A("style");return e.textContent="/* empty */",Jf(ao(n),e),e.sheet}function Jf(n,e){return k(n.head||n,e),e.sheet}function M(n,e,t){n.insertBefore(e,t||null)}function N(n){n.parentNode&&n.parentNode.removeChild(n)}function xe(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function A(n){return document.createElement(n)}function Zf(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function he(n){return document.createTextNode(n)}function j(){return he(" ")}function Be(){return he("")}function re(n,e,t,i){return n.addEventListener(e,t,i),()=>n.removeEventListener(e,t,i)}function Jt(n){return function(e){return e.preventDefault(),n.call(this,e)}}function Lr(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function Kf(n){return function(e){e.target===this&&n.call(this,e)}}function v(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}const Qf=["width","height"];function Zt(n,e){const t=Object.getOwnPropertyDescriptors(n.__proto__);for(const i in e)e[i]==null?n.removeAttribute(i):i==="style"?n.style.cssText=e[i]:i==="__value"?n.value=n[i]=e[i]:t[i]&&t[i].set&&Qf.indexOf(i)===-1?n[i]=e[i]:v(n,i,e[i])}function xf(n){return Array.from(n.childNodes)}function Le(n,e){e=""+e,n.data!==e&&(n.data=e)}function so(n,e){n.value=e??""}function Ie(n,e,t,i){t==null?n.style.removeProperty(e):n.style.setProperty(e,t,"")}function uo(n,e,t){for(let i=0;i<n.options.length;i+=1){const r=n.options[i];if(r.__value===e){r.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function $f(n){const e=n.querySelector(":checked");return e&&e.__value}function be(n,e,t){n.classList.toggle(e,!!t)}function fo(n,e,{bubbles:t=!1,cancelable:i=!1}={}){return new CustomEvent(n,{detail:e,bubbles:t,cancelable:i})}class Kt{constructor(e=!1){rn(this,"is_svg",!1);rn(this,"e");rn(this,"n");rn(this,"t");rn(this,"a");this.is_svg=e,this.e=this.n=null}c(e){this.h(e)}m(e,t,i=null){this.e||(this.is_svg?this.e=Zf(t.nodeName):this.e=A(t.nodeType===11?"TEMPLATE":t.nodeName),this.t=t.tagName!=="TEMPLATE"?t:t.content,this.c(e)),this.i(i)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)M(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(N)}}const Ii=new Map;let Ni=0;function ec(n){let e=5381,t=n.length;for(;t--;)e=(e<<5)-e^n.charCodeAt(t);return e>>>0}function tc(n,e){const t={stylesheet:Yf(e),rules:{}};return Ii.set(n,t),t}function co(n,e,t,i,r,l,o,s=0){const a=16.666/i;let f=`{
`;for(let g=0;g<=1;g+=a){const b=e+(t-e)*l(g);f+=g*100+`%{${o(b,1-b)}}
`}const u=f+`100% {${o(t,1-t)}}
}`,d=`__svelte_${ec(u)}_${s}`,c=ao(n),{stylesheet:m,rules:h}=Ii.get(c)||tc(c,n);h[d]||(h[d]=!0,m.insertRule(`@keyframes ${d} ${u}`,m.cssRules.length));const p=n.style.animation||"";return n.style.animation=`${p?`${p}, `:""}${d} ${i}ms linear ${r}ms 1 both`,Ni+=1,d}function nc(n,e){const t=(n.style.animation||"").split(", "),i=t.filter(e?l=>l.indexOf(e)<0:l=>l.indexOf("__svelte")===-1),r=t.length-i.length;r&&(n.style.animation=i.join(", "),Ni-=r,Ni||ic())}function ic(){Tr(()=>{Ni||(Ii.forEach(n=>{const{ownerNode:e}=n.stylesheet;e&&N(e)}),Ii.clear())})}let ii;function ri(n){ii=n}function Mi(){if(!ii)throw new Error("Function called outside component initialization");return ii}function ut(n){Mi().$$.on_mount.push(n)}function rc(n){Mi().$$.after_update.push(n)}function fn(n){Mi().$$.on_destroy.push(n)}function kn(){const n=Mi();return(e,t,{cancelable:i=!1}={})=>{const r=n.$$.callbacks[e];if(r){const l=fo(e,t,{cancelable:i});return r.slice().forEach(o=>{o.call(n,l)}),!l.defaultPrevented}return!0}}const En=[],Me=[];let Dn=[];const Or=[],po=Promise.resolve();let Pr=!1;function mo(){Pr||(Pr=!0,po.then(ho))}function cn(){return mo(),po}function Sn(n){Dn.push(n)}function An(n){Or.push(n)}const Ir=new Set;let Cn=0;function ho(){if(Cn!==0)return;const n=ii;do{try{for(;Cn<En.length;){const e=En[Cn];Cn++,ri(e),lc(e.$$)}}catch(e){throw En.length=0,Cn=0,e}for(ri(null),En.length=0,Cn=0;Me.length;)Me.pop()();for(let e=0;e<Dn.length;e+=1){const t=Dn[e];Ir.has(t)||(Ir.add(t),t())}Dn.length=0}while(En.length);for(;Or.length;)Or.pop()();Pr=!1,Ir.clear(),ri(n)}function lc(n){if(n.fragment!==null){n.update(),rt(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(Sn)}}function oc(n){const e=[],t=[];Dn.forEach(i=>n.indexOf(i)===-1?e.push(i):t.push(i)),t.forEach(i=>i()),Dn=e}let li;function ac(){return li||(li=Promise.resolve(),li.then(()=>{li=null})),li}function Nr(n,e,t){n.dispatchEvent(fo(`${e?"intro":"outro"}${t}`))}const Bi=new Set;let Rt;function He(){Rt={r:0,c:[],p:Rt}}function We(){Rt.r||rt(Rt.c),Rt=Rt.p}function W(n,e){n&&n.i&&(Bi.delete(n),n.i(e))}function V(n,e,t,i){if(n&&n.o){if(Bi.has(n))return;Bi.add(n),Rt.c.push(()=>{Bi.delete(n),i&&(t&&n.d(1),i())}),n.o(e)}else i&&i()}const sc={duration:0};function go(n,e,t,i){let l=e(n,t,{direction:"both"}),o=i?0:1,s=null,a=null,f=null,u;function d(){f&&nc(n,f)}function c(h,p){const g=h.b-o;return p*=Math.abs(g),{a:o,b:h.b,d:g,duration:p,start:h.start,end:h.start+p,group:h.group}}function m(h){const{delay:p=0,duration:g=300,easing:b=to,tick:y=Se,css:D}=l||sc,_={start:Uf()+p,b:h};h||(_.group=Rt,Rt.r+=1),"inert"in n&&(h?u!==void 0&&(n.inert=u):(u=n.inert,n.inert=!0)),s||a?a=_:(D&&(d(),f=co(n,o,h,g,p,b,D)),h&&y(0,1),s=c(_,g),Sn(()=>Nr(n,h,"start")),Xf(S=>{if(a&&S>a.start&&(s=c(a,g),a=null,Nr(n,s.b,"start"),D&&(d(),f=co(n,o,s.b,s.duration,0,b,l.css))),s){if(S>=s.end)y(o=s.b,1-o),Nr(n,s.b,"end"),a||(s.b?d():--s.group.r||rt(s.group.c)),s=null;else if(S>=s.start){const w=S-s.start;o=s.a+s.d*b(w/s.duration),y(o,1-o)}}return!!(s||a)}))}return{run(h){Ft(l)?ac().then(()=>{l=l({direction:h?"in":"out"}),m(h)}):m(h)},end(){d(),s=a=null}}}function le(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function Ht(n,e){n.d(1),e.delete(n.key)}function Wt(n,e,t,i,r,l,o,s,a,f,u,d){let c=n.length,m=l.length,h=c;const p={};for(;h--;)p[n[h].key]=h;const g=[],b=new Map,y=new Map,D=[];for(h=m;h--;){const L=d(r,l,h),C=t(L);let E=o.get(C);E?D.push(()=>E.p(L,e)):(E=f(C,L),E.c()),b.set(C,g[h]=E),C in p&&y.set(C,Math.abs(h-p[C]))}const _=new Set,S=new Set;function w(L){W(L,1),L.m(s,u),o.set(L.key,L),u=L.first,m--}for(;c&&m;){const L=g[m-1],C=n[c-1],E=L.key,T=C.key;L===C?(u=L.first,c--,m--):b.has(T)?!o.has(E)||_.has(E)?w(L):S.has(T)?c--:y.get(E)>y.get(T)?(S.add(E),w(L)):(_.add(T),c--):(a(C,o),c--)}for(;c--;){const L=n[c];b.has(L.key)||a(L,o)}for(;m;)w(g[m-1]);return rt(D),g}function Fi(n,e){const t={},i={},r={$$scope:1};let l=n.length;for(;l--;){const o=n[l],s=e[l];if(s){for(const a in o)a in s||(i[a]=1);for(const a in s)r[a]||(t[a]=s[a],r[a]=1);n[l]=s}else for(const a in o)r[a]=1}for(const o in i)o in t||(t[o]=void 0);return t}function Tn(n,e,t){const i=n.$$.props[e];i!==void 0&&(n.$$.bound[i]=t,t(n.$$.ctx[i]))}function ge(n){n&&n.c()}function pe(n,e,t){const{fragment:i,after_update:r}=n.$$;i&&i.m(e,t),Sn(()=>{const l=n.$$.on_mount.map(no).filter(Ft);n.$$.on_destroy?n.$$.on_destroy.push(...l):rt(l),n.$$.on_mount=[]}),r.forEach(Sn)}function me(n,e){const t=n.$$;t.fragment!==null&&(oc(t.after_update),rt(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function uc(n,e){n.$$.dirty[0]===-1&&(En.push(n),mo(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function ke(n,e,t,i,r,l,o=null,s=[-1]){const a=ii;ri(n);const f=n.$$={fragment:null,ctx:[],props:l,update:Se,not_equal:r,bound:io(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:io(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};o&&o(f.root);let u=!1;if(f.ctx=t?t(n,e.props||{},(d,c,...m)=>{const h=m.length?m[0]:c;return f.ctx&&r(f.ctx[d],f.ctx[d]=h)&&(!f.skip_bound&&f.bound[d]&&f.bound[d](h),u&&uc(n,d)),c}):[],f.update(),u=!0,rt(f.before_update),f.fragment=i?i(f.ctx):!1,e.target){if(e.hydrate){const d=xf(e.target);f.fragment&&f.fragment.l(d),d.forEach(N)}else f.fragment&&f.fragment.c();e.intro&&W(n.$$.fragment),pe(n,e.target,e.anchor),ho()}ri(a)}class Ee{constructor(){rn(this,"$$");rn(this,"$$set")}$destroy(){me(this,1),this.$destroy=Se}$on(e,t){if(!Ft(t))return Se;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(t),()=>{const r=i.indexOf(t);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!zf(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const fc="4",Ln=[];function jt(n,e=Se){let t;const i=new Set;function r(s){if(we(n,s)&&(n=s,t)){const a=!Ln.length;for(const f of i)f[1](),Ln.push(f,n);if(a){for(let f=0;f<Ln.length;f+=2)Ln[f][0](Ln[f+1]);Ln.length=0}}}function l(s){r(s(n))}function o(s,a=Se){const f=[s,a];return i.add(f),i.size===1&&(t=e(r,l)||Se),s(n),()=>{i.delete(f),i.size===0&&t&&(t(),t=null)}}return{set:r,update:l,subscribe:o}}const Ri=jt({}),R={getData(){return Vf(Ri)},setTranslations(n){Ri.set(n)},has(n,e,t){let i=!1;return Ri.subscribe(r=>{if(t in r&&e in r[t]&&n in r[t][e]){i=!0;return}})(),i},get(n,e,t){let i=t;return Ri.subscribe(r=>{if(n in r&&e in r[n]&&t in r[n][e]){i=r[n][e][t];return}if(n in r&&e in r[n]&&t in r[n][e]){i=r[n][e][t];return}if(n=="Global"){i=t;return}i=null})(),i},translate(n,e=null,t=null){t=t||"Global",e=e||"labels";let i=R.get(t,e,n);return i===null&&t!="Global"&&(i=R.get("Global",e,n)),i},translateOption(n,e,t=null){let i=R.translate(e,"options",t);return i===null?"":typeof i=="object"?i[n]:n}},vo=jt({}),gt={set(n){vo.set(n)},get(){let n=null;return vo.subscribe(e=>{e&&(n=e)})(),n}},Mr=jt(),Ge={setNotifier(n){Mr.set(n)},notify(n,e=null,t=2e3){Mr.subscribe(i=>{i&&i.notify(n,e,2e3)})()},confirm(n=null,e=null,t){Mr.subscribe(i=>{if(i){let r=null,l=null,o=null;typeof n=="string"||n instanceof String?(l=n,o=R.translate("Yes")):(n=n||{},l=n.message,o=n.confirmText,r=n.confirmStyle||null),i.confirm(l,{confirmText:o,cancelText:R.translate("Cancel"),confirmStyle:r},e,t)}})()}},Hi=jt(),qt={setLayoutManager(n){Hi.set(n)},resetToDefault(n,e,t,i,r){let l=null;return Hi.subscribe(o=>{o&&(l=o.resetToDefault(n,e,t,i,r))})(),l},get:function(n,e,t,i,r,l){let o=null;return Hi.subscribe(s=>{s&&(o=s.get(n,e,t,i,r,l))})(),o},set:function(n,e,t,i,r,l){let o=null;return Hi.subscribe(s=>{s&&(o=s.set(n,e,t,i,r,l))})(),o}},bo=jt(),ee={setMetadata(n){bo.set(n)},get(n){let e=null;return bo.subscribe(t=>{t&&(e=t.get(n))})(),e}},_o=jt(),Br={setModelFactory(n){_o.set(n)},create(n,e){_o.subscribe(t=>{t&&t.create(n,e)})()}},wo=jt(),yo={setConfig(n){wo.set(n)},get(n){let e=null;return wo.subscribe(t=>{t&&(e=t.get(n))})(),e}},oi=jt(),ue={setStorage(n){oi.set(n)},get(n,e){let t=null;return oi.subscribe(i=>{i&&(t=i.get(n,e))})(),t},has(n,e){let t=null;return oi.subscribe(i=>{i&&(t=i.has(n,e))})(),t},clear(n,e){oi.subscribe(t=>{t&&t.clear(n,e)})()},set(n,e,t){oi.subscribe(i=>{i&&i.set(n,e,t)})()}},Qt=jt(),Wi={setAcl(n){Qt.set(n)},getUser(){let n=null;return Qt.subscribe(e=>{e&&(n=e.getUser())})(),n},checkScope(n,e,t,i){let r=null;return Qt.subscribe(l=>{l&&(r=l.checkScope(n,e,t,i))})(),r},checkModel(n,e,t,i){let r=null;return Qt.subscribe(l=>{l&&(r=l.checkModel(n,e,t,i))})(),r},checkModelDelete(n,e,t){let i=null;return Qt.subscribe(r=>{r&&(i=r.checkModelDelete(n,e,t))})(),i},checkIsOwner(n){let e=null;return Qt.subscribe(t=>{t&&(e=t.checkIsOwner(n))})(),e},checkInTeam(n){let e=null;return Qt.subscribe(t=>{t&&(e=t.checkInTeam(n))})(),e},check(n,e,t=null){let i=null;return Qt.subscribe(r=>{r&&(i=r.check(n,e,t))})(),i}};typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(fc);function ko(n){let e,t,i,r,l,o,s,a,f,u,d,c,m,h,p;function g(D,_){return D[2]?dc:cc}let b=g(n),y=b(n);return{c(){e=A("div"),t=A("div"),i=A("div"),r=A("span"),r.textContent=`${R.translate("jobManager")}`,l=j(),o=A("span"),s=A("a"),s.innerHTML='<span aria-hidden="true"></span>',a=j(),y.c(),f=j(),u=A("a"),u.textContent=`${R.translate("View List")}`,d=j(),c=A("div"),m=A("div"),m.textContent=`${R.translate("Loading...")}`,v(r,"class","panel-heading-title"),v(s,"href","/"),v(s,"class","close svelte-1p6ppx8"),v(u,"href","#Job"),v(u,"title",R.translate("View List")),v(u,"class","qp-view-list svelte-1p6ppx8"),v(o,"class","pull-right"),v(i,"class","panel-heading clearfix"),v(m,"class","list-container"),v(c,"class","panel-body"),v(t,"class","panel panel-default"),v(e,"class","queue-panel-container")},m(D,_){M(D,e,_),k(e,t),k(t,i),k(i,r),k(i,l),k(i,o),k(o,s),k(o,a),y.m(o,null),k(o,f),k(o,u),k(t,d),k(t,c),k(c,m),n[9](e),h||(p=re(s,"click",n[6]),h=!0)},p(D,_){b===(b=g(D))&&y?y.p(D,_):(y.d(1),y=b(D),y&&(y.c(),y.m(o,f)))},d(D){D&&N(e),y.d(),n[9](null),h=!1,p()}}}function cc(n){let e,t,i;return{c(){e=A("a"),e.textContent=`${R.translate("Pause")}`,v(e,"href","/"),v(e,"title",R.translate("Pause")),v(e,"class","qm-button")},m(r,l){M(r,e,l),t||(i=re(e,"click",n[8]),t=!0)},p:Se,d(r){r&&N(e),t=!1,i()}}}function dc(n){let e,t,i;return{c(){e=A("a"),e.textContent=`${R.translate("Start")}`,v(e,"href","/"),v(e,"title",R.translate("Start")),v(e,"class","qm-button")},m(r,l){M(r,e,l),t||(i=re(e,"click",n[7]),t=!0)},p:Se,d(r){r&&N(e),t=!1,i()}}}function pc(n){let e,t=n[0]&&ko(n);return{c(){t&&t.c(),e=Be()},m(i,r){t&&t.m(i,r),M(i,e,r)},p(i,[r]){i[0]?t?t.p(i,r):(t=ko(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Se,o:Se,d(i){i&&N(e),t&&t.d(i)}}}function mc(n,e,t){let{isOpen:i=!1}=e,{close:r}=e,{icon:l}=e,o=!1;window.addEventListener("publicDataFetched",h=>{t(2,o=!!h.detail.qmPaused)});let s;function a(h){s&&!s.contains(h.target)&&l&&!l.contains(h.target)&&i===!0&&r()}ut(()=>{document.addEventListener("click",a)}),fn(()=>{document.removeEventListener("click",a)});async function f(h){let p=gt.get();if(p)try{const g=await fetch("/api/v1/App/action/QueueManagerUpdate",{method:"POST",headers:{"Content-Type":"application/json","Authorization-Token":btoa(p.user.userName+":"+p.token)},body:JSON.stringify({pause:h})});if(!g.ok)throw new Error("Network response was not ok");await g.json(),Ge.notify("Done","success")}catch(g){console.error("Error:",g)}}const u=h=>{h.preventDefault(),r()},d=h=>{h.preventDefault(),f(!1)},c=h=>{h.preventDefault(),f(!0)};function m(h){Me[h?"unshift":"push"](()=>{s=h,t(3,s)})}return n.$$set=h=>{"isOpen"in h&&t(0,i=h.isOpen),"close"in h&&t(1,r=h.close),"icon"in h&&t(5,l=h.icon)},[i,r,o,s,f,l,u,d,c,m]}class hc extends Ee{constructor(e){super(),ke(this,e,mc,pc,we,{isOpen:0,close:1,icon:5})}}function Eo(n){let e;return{c(){e=A("span"),v(e,"class","fas fa-pause-circle pause-icon")},m(t,i){M(t,e,i)},d(t){t&&N(e)}}}function gc(n){let e,t,i,r,l,o,s,a,f=n[2]&&Eo();return l=new hc({props:{icon:n[0],isOpen:n[1],close:n[4]}}),{c(){e=A("a"),t=A("span"),i=j(),f&&f.c(),r=j(),ge(l.$$.fragment),v(t,"class","fas fa-tasks"),v(e,"href","/"),v(e,"class","notifications-button"),v(e,"title",R.translate("jobManager"))},m(u,d){M(u,e,d),k(e,t),k(e,i),f&&f.m(e,null),n[6](e),M(u,r,d),pe(l,u,d),o=!0,s||(a=re(e,"click",n[7]),s=!0)},p(u,[d]){u[2]?f||(f=Eo(),f.c(),f.m(e,null)):f&&(f.d(1),f=null);const c={};d&1&&(c.icon=u[0]),d&2&&(c.isOpen=u[1]),l.$set(c)},i(u){o||(W(l.$$.fragment,u),o=!0)},o(u){V(l.$$.fragment,u),o=!1},d(u){u&&(N(e),N(r)),f&&f.d(),n[6](null),me(l,u),s=!1,a()}}}function vc(n,e,t){let{renderTable:i=()=>{}}=e,r,l=!1,o=!1;window.addEventListener("publicDataFetched",d=>{t(2,o=!!d.detail.qmPaused)});function s(){l||(t(1,l=!0),i())}function a(){t(1,l=!1),window.dispatchEvent(new Event("jobManagerPanelClosed"))}function f(d){Me[d?"unshift":"push"](()=>{r=d,t(0,r)})}const u=d=>{d.preventDefault(),s()};return n.$$set=d=>{"renderTable"in d&&t(5,i=d.renderTable)},[r,l,o,s,a,i,f,u]}class bc extends Ee{constructor(e){super(),ke(this,e,vc,gc,we,{renderTable:5})}}function _c(n){let e,t=`${n[0]}px`,i=`${n[0]}px`,r=`${n[1]}px`;return{c(){e=A("div"),v(e,"class","loading-icon spinner svelte-yw8t7l"),Ie(e,"width",t),Ie(e,"height",i),Ie(e,"border-width",r)},m(l,o){M(l,e,o)},p(l,[o]){o&1&&t!==(t=`${l[0]}px`)&&Ie(e,"width",t),o&1&&i!==(i=`${l[0]}px`)&&Ie(e,"height",i),o&2&&r!==(r=`${l[1]}px`)&&Ie(e,"border-width",r)},i:Se,o:Se,d(l){l&&N(e)}}}function wc(n,e,t){let{size:i=40}=e,{thickness:r=4}=e;return n.$$set=l=>{"size"in l&&t(0,i=l.size),"thickness"in l&&t(1,r=l.thickness)},[i,r]}class yc extends Ee{constructor(e){super(),ke(this,e,wc,_c,we,{size:0,thickness:1})}}function Do(n){let e,t;return{c(){e=A("img"),Cr(e.src,t=n[1])||v(e,"src",t),v(e,"class","logo"),v(e,"alt",n[0])},m(i,r){M(i,e,r)},p(i,r){r&2&&!Cr(e.src,t=i[1])&&v(e,"src",t),r&1&&v(e,"alt",i[0])},d(i){i&&N(e)}}}function So(n){let e,t,i;return{c(){e=A("a"),t=A("i"),i=he("Recovery Instructions"),v(t,"class","fa fa-history svelte-1qmezxs"),v(e,"href",n[2]),v(e,"target","_blank"),v(e,"class","btn btn-default svelte-1qmezxs"),v(e,"role","button"),Ie(e,"float","right")},m(r,l){M(r,e,l),k(e,t),k(e,i)},p(r,l){l&4&&v(e,"href",r[2])},d(r){r&&N(e)}}}function Ao(n){let e,t,i,r,l,o;return{c(){e=A("hr"),t=j(),i=A("pre"),r=he(n[3]),v(i,"class","logs-container svelte-1qmezxs")},m(s,a){M(s,e,a),M(s,t,a),M(s,i,a),k(i,r),n[11](i),l||(o=re(i,"scroll",n[8]),l=!0)},p(s,a){a&8&&Le(r,s[3])},d(s){s&&(N(e),N(t),N(i)),n[11](null),l=!1,o()}}}function kc(n){let e,t,i,r,l,o,s,a,f,u,d,c,m,h,p,g,b,y,D=n[4]?"Hide":"Show",_,S,w,L,C,E,T,P,O=n[1]&&Do(n);u=new yc({props:{size:"40",thickness:"5"}});let H=n[2]&&So(n),q=n[4]&&n[3]&&Ao(n);return{c(){e=A("div"),t=A("div"),i=A("div"),O&&O.c(),r=j(),l=A("div"),o=A("div"),s=A("h3"),s.textContent="System is updating...",a=j(),f=A("section"),ge(u.$$.fragment),d=j(),c=A("h5"),m=he(n[5]),h=j(),p=A("section"),g=A("div"),b=A("button"),y=A("i"),_=he(D),S=he(" logs"),L=j(),H&&H.c(),C=j(),q&&q.c(),v(i,"class","logo-container"),v(t,"class","panel-heading"),v(c,"class","svelte-1qmezxs"),v(f,"class","progress-section svelte-1qmezxs"),v(y,"class","fa fa-list svelte-1qmezxs"),v(b,"class","btn btn-default svelte-1qmezxs"),b.disabled=w=!n[3],v(g,"class","buttons"),v(p,"class","logs-section"),v(o,"class","form-group"),v(l,"class","panel-body"),v(e,"id","login"),v(e,"class","panel panel-default panel-updating")},m(F,U){M(F,e,U),k(e,t),k(t,i),O&&O.m(i,null),k(e,r),k(e,l),k(l,o),k(o,s),k(o,a),k(o,f),pe(u,f,null),k(f,d),k(f,c),k(c,m),k(o,h),k(o,p),k(p,g),k(g,b),k(b,y),k(b,_),k(b,S),k(g,L),H&&H.m(g,null),k(p,C),q&&q.m(p,null),E=!0,T||(P=re(b,"click",n[7]),T=!0)},p(F,[U]){F[1]?O?O.p(F,U):(O=Do(F),O.c(),O.m(i,null)):O&&(O.d(1),O=null),(!E||U&32)&&Le(m,F[5]),(!E||U&16)&&D!==(D=F[4]?"Hide":"Show")&&Le(_,D),(!E||U&8&&w!==(w=!F[3]))&&(b.disabled=w),F[2]?H?H.p(F,U):(H=So(F),H.c(),H.m(g,null)):H&&(H.d(1),H=null),F[4]&&F[3]?q?q.p(F,U):(q=Ao(F),q.c(),q.m(p,null)):q&&(q.d(1),q=null)},i(F){E||(W(u.$$.fragment,F),E=!0)},o(F){V(u.$$.fragment,F),E=!1},d(F){F&&N(e),O&&O.d(),me(u),H&&H.d(),q&&q.d(),T=!1,P()}}}function Ec(n){return n.replace(/^\d{2,4}.\d{2}.\d{2,4} \d{2}:\d{2}:\d{2}/g,"").replace(/^[\-\|\s]+/,"")}function Dc(n,e,t){let{applicationName:i="AtroCore"}=e,{logoPath:r=null}=e,{logFilePath:l}=e,{restoreLink:o=null}=e,s=!1,a=!1,f=0,u=!0,d="",c,m;rc(()=>{m&&u&&m.scrollTo(0,m.scrollHeight)});function h(){t(4,s=!s),s||(u=!0)}function p(b){const y=b.currentTarget;u=y.scrollHeight-y.scrollTop===y.clientHeight}setInterval(async()=>{try{const b=await fetch(l,{cache:"no-store"});f+=1,b.ok?(t(3,d=(await b.text()).trim()),d.search("composer")>=0&&t(10,a=!0),f>65&&!a&&t(3,d="Something wrong. Please, reboot the server.")):a?setTimeout(()=>{location.reload()},2e3):f>65&&t(3,d="Something wrong. Please, reboot the server.")}catch(b){console.error("Error: ",b)}},1e3);function g(b){Me[b?"unshift":"push"](()=>{m=b,t(6,m)})}return n.$$set=b=>{"applicationName"in b&&t(0,i=b.applicationName),"logoPath"in b&&t(1,r=b.logoPath),"logFilePath"in b&&t(9,l=b.logFilePath),"restoreLink"in b&&t(2,o=b.restoreLink)},n.$$.update=()=>{if(n.$$.dirty&1032)if(d){const b=d.trim().split(`
`);t(5,c=Ec(b.pop()))}else a?t(5,c=""):t(5,c="Starting...")},[i,r,o,d,s,c,m,h,p,l,a,g]}class Sc extends Ee{constructor(e){super(),ke(this,e,Dc,kc,we,{applicationName:0,logoPath:1,logFilePath:9,restoreLink:2})}}function Co(n,e,t){const i=n.slice();return i[20]=e[t],i}function To(n){let e,t=n[20].label+"",i,r,l,o,s,a;function f(){return n[12](n[20])}return{c(){e=A("button"),i=he(t),r=j(),v(e,"data-action",l=n[20].name),e.disabled=n[1],v(e,"type","button"),v(e,"class",o=`btn action btn-${n[20].style??"default"}`)},m(u,d){M(u,e,d),k(e,i),k(e,r),s||(a=re(e,"click",f),s=!0)},p(u,d){n=u,d&1&&t!==(t=n[20].label+"")&&Le(i,t),d&1&&l!==(l=n[20].name)&&v(e,"data-action",l),d&2&&(e.disabled=n[1]),d&1&&o!==(o=`btn action btn-${n[20].style??"default"}`)&&v(e,"class",o)},d(u){u&&N(e),s=!1,a()}}}function Ac(n){let e,t,i,r=le(n[0]),l=[];for(let a=0;a<r.length;a+=1)l[a]=To(Co(n,r,a));const o=n[11].default,s=$n(o,n,n[10],null);return{c(){e=A("div");for(let a=0;a<l.length;a+=1)l[a].c();t=j(),s&&s.c(),v(e,"class","button-container"),Ie(e,"padding-top","10px")},m(a,f){M(a,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n[13](e),M(a,t,f),s&&s.m(a,f),i=!0},p(a,[f]){if(f&11){r=le(a[0]);let u;for(u=0;u<r.length;u+=1){const d=Co(a,r,u);l[u]?l[u].p(d,f):(l[u]=To(d),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}s&&s.p&&(!i||f&1024)&&ti(s,o,a,a[10],i?ei(o,a[10],f,null):ni(a[10]),null)},i(a){i||(W(s,a),i=!0)},o(a){V(s,a),i=!1},d(a){a&&(N(e),N(t)),xe(l,a),n[13](null),s&&s.d(a)}}}function Cc(n,e,t){let{$$slots:i={},$$scope:r}=e;const l=kn();let{params:o}=e,{fetch:s}=e,a,{loadLayout:f=w=>{qt.get(scope,type,layoutProfileId,w,!1)}}=e,{validate:u=()=>!0}=e,d=!1,c=[],m;o.layoutProfiles,ut(async()=>{var L;await h(),await cn(),l("ready");const w=document.querySelector("#layout-buttons");m&&w&&(o.inModal||o.replaceButtons)&&((L=w.closest(".modal-body"))==null||L.classList.add("modal-layout-manager"),w.appendChild(m))});async function h(){return Ge.notify("Loading..."),new Promise((w,L)=>{f(C=>{t(9,a=C),Ge.notify(!1),w(),o.afterRender&&o.afterRender()})})}function p(){t(1,d=!0);const w=s();if(!u(w)){t(1,d=!1);return}if(Ge.notify("Saving..."),o.inModal&&!o.getActiveLayoutProfileId()){g(!0);return}qt.set(o.scope,o.type,o.relatedScope,o.layoutProfileId,w,()=>{Ge.notify("Saved","success",2e3),g(!1),t(1,d=!1),o.inModal||h()})}function g(w){o.onUpdate&&o.onUpdate(w)}function b(){o.inModal||h()}function y(){Ge.confirm("Are you sure you want to reset this layout?",()=>{var w;qt.resetToDefault(o.scope,o.type,o.relatedScope,(w=a.storedProfile)==null?void 0:w.id,()=>{g(!0),b()})})}function D(w){switch(w.name){case"save":p();break;case"cancel":b();break;case"reset":y();break;case"fullEdit":window.open(`#Admin/layouts/scope=${o.scope}&type=${o.type}${o.relatedScope?"&relatedScope="+o.relatedScope:""}${o.layoutProfileId?"&layoutProfileId="+o.layoutProfileId:""}`,"_blank");break}}const _=w=>D(w);function S(w){Me[w?"unshift":"push"](()=>{m=w,t(2,m)})}return n.$$set=w=>{"params"in w&&t(4,o=w.params),"fetch"in w&&t(5,s=w.fetch),"loadLayout"in w&&t(6,f=w.loadLayout),"validate"in w&&t(7,u=w.validate),"$$scope"in w&&t(10,r=w.$$scope)},n.$$.update=()=>{if(n.$$.dirty&529){if(t(0,c=[{name:"cancel",label:R.translate("Cancel","labels")}]),o.inModal){let w=gt.get();w&&w.user&&w.user.isAdmin&&c.unshift({name:"fullEdit",label:R.translate("Full Edit","labels","LayoutManager")})}(!o.inModal||a!=null&&a.canEdit)&&c.unshift({name:"save",label:R.translate("Save","labels"),style:"primary"}),a&&a.storedProfile&&a.storedProfile.id===o.layoutProfileId&&a.canEdit&&c.push({name:"reset",label:R.translate("reset","labels","LayoutManager")})}},[c,d,m,D,o,s,f,u,p,a,r,i,_,S]}let Lo=class extends Ee{constructor(e){super(),ke(this,e,Cc,Ac,we,{params:4,fetch:5,loadLayout:6,validate:7,save:8})}get save(){return this.$$.ctx[8]}};/**!
 * Sortable 1.15.6
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Oo(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(n,r).enumerable})),t.push.apply(t,i)}return t}function Pt(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Oo(Object(t),!0).forEach(function(i){Tc(n,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Oo(Object(t)).forEach(function(i){Object.defineProperty(n,i,Object.getOwnPropertyDescriptor(t,i))})}return n}function ji(n){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ji=function(e){return typeof e}:ji=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ji(n)}function Tc(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function zt(){return zt=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},zt.apply(this,arguments)}function Lc(n,e){if(n==null)return{};var t={},i=Object.keys(n),r,l;for(l=0;l<i.length;l++)r=i[l],!(e.indexOf(r)>=0)&&(t[r]=n[r]);return t}function Oc(n,e){if(n==null)return{};var t=Lc(n,e),i,r;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(n);for(r=0;r<l.length;r++)i=l[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(n,i)&&(t[i]=n[i])}return t}var Pc="1.15.6";function Gt(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var Vt=Gt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ai=Gt(/Edge/i),Po=Gt(/firefox/i),si=Gt(/safari/i)&&!Gt(/chrome/i)&&!Gt(/android/i),Fr=Gt(/iP(ad|od|hone)/i),Io=Gt(/chrome/i)&&Gt(/android/i),No={capture:!1,passive:!1};function Ce(n,e,t){n.addEventListener(e,t,!Vt&&No)}function Ae(n,e,t){n.removeEventListener(e,t,!Vt&&No)}function qi(n,e){if(e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Mo(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function At(n,e,t,i){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&qi(n,e):qi(n,e))||i&&n===t)return n;if(n===t)break}while(n=Mo(n))}return null}var Bo=/\s+/g;function vt(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var i=(" "+n.className+" ").replace(Bo," ").replace(" "+e+" "," ");n.className=(i+(t?" "+e:"")).replace(Bo," ")}}function fe(n,e,t){var i=n&&n.style;if(i){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in i)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),i[e]=t+(typeof t=="string"?"":"px")}}function On(n,e){var t="";if(typeof n=="string")t=n;else do{var i=fe(n,"transform");i&&i!=="none"&&(t=i+" "+t)}while(!e&&(n=n.parentNode));var r=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return r&&new r(t)}function Fo(n,e,t){if(n){var i=n.getElementsByTagName(e),r=0,l=i.length;if(t)for(;r<l;r++)t(i[r],r);return i}return[]}function It(){var n=document.scrollingElement;return n||document.documentElement}function Ye(n,e,t,i,r){if(!(!n.getBoundingClientRect&&n!==window)){var l,o,s,a,f,u,d;if(n!==window&&n.parentNode&&n!==It()?(l=n.getBoundingClientRect(),o=l.top,s=l.left,a=l.bottom,f=l.right,u=l.height,d=l.width):(o=0,s=0,a=window.innerHeight,f=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(e||t)&&n!==window&&(r=r||n.parentNode,!Vt))do if(r&&r.getBoundingClientRect&&(fe(r,"transform")!=="none"||t&&fe(r,"position")!=="static")){var c=r.getBoundingClientRect();o-=c.top+parseInt(fe(r,"border-top-width")),s-=c.left+parseInt(fe(r,"border-left-width")),a=o+l.height,f=s+l.width;break}while(r=r.parentNode);if(i&&n!==window){var m=On(r||n),h=m&&m.a,p=m&&m.d;m&&(o/=p,s/=h,d/=h,u/=p,a=o+u,f=s+d)}return{top:o,left:s,bottom:a,right:f,width:d,height:u}}}function Ro(n,e,t){for(var i=xt(n,!0),r=Ye(n)[e];i;){var l=Ye(i)[t],o=void 0;if(o=r>=l,!o)return i;if(i===It())break;i=xt(i,!1)}return!1}function Pn(n,e,t,i){for(var r=0,l=0,o=n.children;l<o.length;){if(o[l].style.display!=="none"&&o[l]!==oe.ghost&&(i||o[l]!==oe.dragged)&&At(o[l],t.draggable,n,!1)){if(r===e)return o[l];r++}l++}return null}function Rr(n,e){for(var t=n.lastElementChild;t&&(t===oe.ghost||fe(t,"display")==="none"||e&&!qi(t,e));)t=t.previousElementSibling;return t||null}function Dt(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==oe.clone&&(!e||qi(n,e))&&t++;return t}function Ho(n){var e=0,t=0,i=It();if(n)do{var r=On(n),l=r.a,o=r.d;e+=n.scrollLeft*l,t+=n.scrollTop*o}while(n!==i&&(n=n.parentNode));return[e,t]}function Ic(n,e){for(var t in n)if(n.hasOwnProperty(t)){for(var i in e)if(e.hasOwnProperty(i)&&e[i]===n[t][i])return Number(t)}return-1}function xt(n,e){if(!n||!n.getBoundingClientRect)return It();var t=n,i=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var r=fe(t);if(t.clientWidth<t.scrollWidth&&(r.overflowX=="auto"||r.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(r.overflowY=="auto"||r.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return It();if(i||e)return t;i=!0}}while(t=t.parentNode);return It()}function Nc(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Hr(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var ui;function Wo(n,e){return function(){if(!ui){var t=arguments,i=this;t.length===1?n.call(i,t[0]):n.apply(i,t),ui=setTimeout(function(){ui=void 0},e)}}}function Mc(){clearTimeout(ui),ui=void 0}function jo(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function qo(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}function zo(n,e,t){var i={};return Array.from(n.children).forEach(function(r){var l,o,s,a;if(!(!At(r,e.draggable,n,!1)||r.animated||r===t)){var f=Ye(r);i.left=Math.min((l=i.left)!==null&&l!==void 0?l:1/0,f.left),i.top=Math.min((o=i.top)!==null&&o!==void 0?o:1/0,f.top),i.right=Math.max((s=i.right)!==null&&s!==void 0?s:-1/0,f.right),i.bottom=Math.max((a=i.bottom)!==null&&a!==void 0?a:-1/0,f.bottom)}}),i.width=i.right-i.left,i.height=i.bottom-i.top,i.x=i.left,i.y=i.top,i}var pt="Sortable"+new Date().getTime();function Bc(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var i=[].slice.call(this.el.children);i.forEach(function(r){if(!(fe(r,"display")==="none"||r===oe.ghost)){n.push({target:r,rect:Ye(r)});var l=Pt({},n[n.length-1].rect);if(r.thisAnimationDuration){var o=On(r,!0);o&&(l.top-=o.f,l.left-=o.e)}r.fromRect=l}})}},addAnimationState:function(i){n.push(i)},removeAnimationState:function(i){n.splice(Ic(n,{target:i}),1)},animateAll:function(i){var r=this;if(!this.options.animation){clearTimeout(e),typeof i=="function"&&i();return}var l=!1,o=0;n.forEach(function(s){var a=0,f=s.target,u=f.fromRect,d=Ye(f),c=f.prevFromRect,m=f.prevToRect,h=s.rect,p=On(f,!0);p&&(d.top-=p.f,d.left-=p.e),f.toRect=d,f.thisAnimationDuration&&Hr(c,d)&&!Hr(u,d)&&(h.top-d.top)/(h.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(a=Rc(h,c,m,r.options)),Hr(d,u)||(f.prevFromRect=u,f.prevToRect=d,a||(a=r.options.animation),r.animate(f,h,d,a)),a&&(l=!0,o=Math.max(o,a),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},a),f.thisAnimationDuration=a)}),clearTimeout(e),l?e=setTimeout(function(){typeof i=="function"&&i()},o):typeof i=="function"&&i(),n=[]},animate:function(i,r,l,o){if(o){fe(i,"transition",""),fe(i,"transform","");var s=On(this.el),a=s&&s.a,f=s&&s.d,u=(r.left-l.left)/(a||1),d=(r.top-l.top)/(f||1);i.animatingX=!!u,i.animatingY=!!d,fe(i,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=Fc(i),fe(i,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),fe(i,"transform","translate3d(0,0,0)"),typeof i.animated=="number"&&clearTimeout(i.animated),i.animated=setTimeout(function(){fe(i,"transition",""),fe(i,"transform",""),i.animated=!1,i.animatingX=!1,i.animatingY=!1},o)}}}}function Fc(n){return n.offsetWidth}function Rc(n,e,t,i){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*i.animation}var In=[],Wr={initializeByDefault:!0},fi={mount:function(e){for(var t in Wr)Wr.hasOwnProperty(t)&&!(t in e)&&(e[t]=Wr[t]);In.forEach(function(i){if(i.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),In.push(e)},pluginEvent:function(e,t,i){var r=this;this.eventCanceled=!1,i.cancel=function(){r.eventCanceled=!0};var l=e+"Global";In.forEach(function(o){t[o.pluginName]&&(t[o.pluginName][l]&&t[o.pluginName][l](Pt({sortable:t},i)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](Pt({sortable:t},i)))})},initializePlugins:function(e,t,i,r){In.forEach(function(s){var a=s.pluginName;if(!(!e.options[a]&&!s.initializeByDefault)){var f=new s(e,t,e.options);f.sortable=e,f.options=e.options,e[a]=f,zt(i,f.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var o=this.modifyOption(e,l,e.options[l]);typeof o<"u"&&(e.options[l]=o)}},getEventProperties:function(e,t){var i={};return In.forEach(function(r){typeof r.eventProperties=="function"&&zt(i,r.eventProperties.call(t[r.pluginName],e))}),i},modifyOption:function(e,t,i){var r;return In.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[t]=="function"&&(r=l.optionListeners[t].call(e[l.pluginName],i))}),r}};function Hc(n){var e=n.sortable,t=n.rootEl,i=n.name,r=n.targetEl,l=n.cloneEl,o=n.toEl,s=n.fromEl,a=n.oldIndex,f=n.newIndex,u=n.oldDraggableIndex,d=n.newDraggableIndex,c=n.originalEvent,m=n.putSortable,h=n.extraEventProperties;if(e=e||t&&t[pt],!!e){var p,g=e.options,b="on"+i.charAt(0).toUpperCase()+i.substr(1);window.CustomEvent&&!Vt&&!ai?p=new CustomEvent(i,{bubbles:!0,cancelable:!0}):(p=document.createEvent("Event"),p.initEvent(i,!0,!0)),p.to=o||t,p.from=s||t,p.item=r||t,p.clone=l,p.oldIndex=a,p.newIndex=f,p.oldDraggableIndex=u,p.newDraggableIndex=d,p.originalEvent=c,p.pullMode=m?m.lastPutMode:void 0;var y=Pt(Pt({},h),fi.getEventProperties(i,e));for(var D in y)p[D]=y[D];t&&t.dispatchEvent(p),g[b]&&g[b].call(e,p)}}var Wc=["evt"],mt=function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=i.evt,l=Oc(i,Wc);fi.pluginEvent.bind(oe)(e,t,Pt({dragEl:J,parentEl:Ve,ghostEl:ve,rootEl:Fe,nextEl:dn,lastDownEl:zi,cloneEl:je,cloneHidden:$t,dragStarted:di,putSortable:nt,activeSortable:oe.active,originalEvent:r,oldIndex:Nn,oldDraggableIndex:ci,newIndex:bt,newDraggableIndex:en,hideGhostForTarget:Zo,unhideGhostForTarget:Ko,cloneNowHidden:function(){$t=!0},cloneNowShown:function(){$t=!1},dispatchSortableEvent:function(s){ft({sortable:t,name:s,originalEvent:r})}},l))};function ft(n){Hc(Pt({putSortable:nt,cloneEl:je,targetEl:J,rootEl:Fe,oldIndex:Nn,oldDraggableIndex:ci,newIndex:bt,newDraggableIndex:en},n))}var J,Ve,ve,Fe,dn,zi,je,$t,Nn,bt,ci,en,Gi,nt,Mn=!1,Vi=!1,Ui=[],pn,Ct,jr,qr,Go,Vo,di,Bn,pi,mi=!1,Xi=!1,Yi,ot,zr=[],Gr=!1,Ji=[],Zi=typeof document<"u",Ki=Fr,Uo=ai||Vt?"cssFloat":"float",jc=Zi&&!Io&&!Fr&&"draggable"in document.createElement("div"),Xo=function(){if(Zi){if(Vt)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Yo=function(e,t){var i=fe(e),r=parseInt(i.width)-parseInt(i.paddingLeft)-parseInt(i.paddingRight)-parseInt(i.borderLeftWidth)-parseInt(i.borderRightWidth),l=Pn(e,0,t),o=Pn(e,1,t),s=l&&fe(l),a=o&&fe(o),f=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+Ye(l).width,u=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+Ye(o).width;if(i.display==="flex")return i.flexDirection==="column"||i.flexDirection==="column-reverse"?"vertical":"horizontal";if(i.display==="grid")return i.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return o&&(a.clear==="both"||a.clear===d)?"vertical":"horizontal"}return l&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||f>=r&&i[Uo]==="none"||o&&i[Uo]==="none"&&f+u>r)?"vertical":"horizontal"},qc=function(e,t,i){var r=i?e.left:e.top,l=i?e.right:e.bottom,o=i?e.width:e.height,s=i?t.left:t.top,a=i?t.right:t.bottom,f=i?t.width:t.height;return r===s||l===a||r+o/2===s+f/2},zc=function(e,t){var i;return Ui.some(function(r){var l=r[pt].options.emptyInsertThreshold;if(!(!l||Rr(r))){var o=Ye(r),s=e>=o.left-l&&e<=o.right+l,a=t>=o.top-l&&t<=o.bottom+l;if(s&&a)return i=r}}),i},Jo=function(e){function t(l,o){return function(s,a,f,u){var d=s.options.group.name&&a.options.group.name&&s.options.group.name===a.options.group.name;if(l==null&&(o||d))return!0;if(l==null||l===!1)return!1;if(o&&l==="clone")return l;if(typeof l=="function")return t(l(s,a,f,u),o)(s,a,f,u);var c=(o?s:a).options.group.name;return l===!0||typeof l=="string"&&l===c||l.join&&l.indexOf(c)>-1}}var i={},r=e.group;(!r||ji(r)!="object")&&(r={name:r}),i.name=r.name,i.checkPull=t(r.pull,!0),i.checkPut=t(r.put),i.revertClone=r.revertClone,e.group=i},Zo=function(){!Xo&&ve&&fe(ve,"display","none")},Ko=function(){!Xo&&ve&&fe(ve,"display","")};Zi&&!Io&&document.addEventListener("click",function(n){if(Vi)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),Vi=!1,!1},!0);var mn=function(e){if(J){e=e.touches?e.touches[0]:e;var t=zc(e.clientX,e.clientY);if(t){var i={};for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r]);i.target=i.rootEl=t,i.preventDefault=void 0,i.stopPropagation=void 0,t[pt]._onDragOver(i)}}},Gc=function(e){J&&J.parentNode[pt]._isOutsideThisEl(e.target)};function oe(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=zt({},e),n[pt]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Yo(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(o,s){o.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:oe.supportPointer!==!1&&"PointerEvent"in window&&(!si||Fr),emptyInsertThreshold:5};fi.initializePlugins(this,n,t);for(var i in t)!(i in e)&&(e[i]=t[i]);Jo(e);for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));this.nativeDraggable=e.forceFallback?!1:jc,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ce(n,"pointerdown",this._onTapStart):(Ce(n,"mousedown",this._onTapStart),Ce(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ce(n,"dragover",this),Ce(n,"dragenter",this)),Ui.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),zt(this,Bc())}oe.prototype={constructor:oe,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Bn=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,J):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,i=this.el,r=this.options,l=r.preventOnFilter,o=e.type,s=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,a=(s||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||a,u=r.filter;if(Qc(i),!J&&!(/mousedown|pointerdown/.test(o)&&e.button!==0||r.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&si&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=At(a,r.draggable,i,!1),!(a&&a.animated)&&zi!==a)){if(Nn=Dt(a),ci=Dt(a,r.draggable),typeof u=="function"){if(u.call(this,e,a,this)){ft({sortable:t,rootEl:f,name:"filter",targetEl:a,toEl:i,fromEl:i}),mt("filter",t,{evt:e}),l&&e.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=At(f,d.trim(),i,!1),d)return ft({sortable:t,rootEl:d,name:"filter",targetEl:a,fromEl:i,toEl:i}),mt("filter",t,{evt:e}),!0}),u)){l&&e.preventDefault();return}r.handle&&!At(f,r.handle,i,!1)||this._prepareDragStart(e,s,a)}}},_prepareDragStart:function(e,t,i){var r=this,l=r.el,o=r.options,s=l.ownerDocument,a;if(i&&!J&&i.parentNode===l){var f=Ye(i);if(Fe=l,J=i,Ve=J.parentNode,dn=J.nextSibling,zi=i,Gi=o.group,oe.dragged=J,pn={target:J,clientX:(t||e).clientX,clientY:(t||e).clientY},Go=pn.clientX-f.left,Vo=pn.clientY-f.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,J.style["will-change"]="all",a=function(){if(mt("delayEnded",r,{evt:e}),oe.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Po&&r.nativeDraggable&&(J.draggable=!0),r._triggerDragStart(e,t),ft({sortable:r,name:"choose",originalEvent:e}),vt(J,o.chosenClass,!0)},o.ignore.split(",").forEach(function(u){Fo(J,u.trim(),Vr)}),Ce(s,"dragover",mn),Ce(s,"mousemove",mn),Ce(s,"touchmove",mn),o.supportPointer?(Ce(s,"pointerup",r._onDrop),!this.nativeDraggable&&Ce(s,"pointercancel",r._onDrop)):(Ce(s,"mouseup",r._onDrop),Ce(s,"touchend",r._onDrop),Ce(s,"touchcancel",r._onDrop)),Po&&this.nativeDraggable&&(this.options.touchStartThreshold=4,J.draggable=!0),mt("delayStart",this,{evt:e}),o.delay&&(!o.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(ai||Vt))){if(oe.eventCanceled){this._onDrop();return}o.supportPointer?(Ce(s,"pointerup",r._disableDelayedDrag),Ce(s,"pointercancel",r._disableDelayedDrag)):(Ce(s,"mouseup",r._disableDelayedDrag),Ce(s,"touchend",r._disableDelayedDrag),Ce(s,"touchcancel",r._disableDelayedDrag)),Ce(s,"mousemove",r._delayedDragTouchMoveHandler),Ce(s,"touchmove",r._delayedDragTouchMoveHandler),o.supportPointer&&Ce(s,"pointermove",r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(a,o.delay)}else a()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){J&&Vr(J),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Ae(e,"mouseup",this._disableDelayedDrag),Ae(e,"touchend",this._disableDelayedDrag),Ae(e,"touchcancel",this._disableDelayedDrag),Ae(e,"pointerup",this._disableDelayedDrag),Ae(e,"pointercancel",this._disableDelayedDrag),Ae(e,"mousemove",this._delayedDragTouchMoveHandler),Ae(e,"touchmove",this._delayedDragTouchMoveHandler),Ae(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?Ce(document,"pointermove",this._onTouchMove):t?Ce(document,"touchmove",this._onTouchMove):Ce(document,"mousemove",this._onTouchMove):(Ce(J,"dragend",this),Ce(Fe,"dragstart",this._onDragStart));try{document.selection?xi(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Mn=!1,Fe&&J){mt("dragStarted",this,{evt:t}),this.nativeDraggable&&Ce(document,"dragover",Gc);var i=this.options;!e&&vt(J,i.dragClass,!1),vt(J,i.ghostClass,!0),oe.active=this,e&&this._appendGhost(),ft({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(Ct){this._lastX=Ct.clientX,this._lastY=Ct.clientY,Zo();for(var e=document.elementFromPoint(Ct.clientX,Ct.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(Ct.clientX,Ct.clientY),e!==t);)t=e;if(J.parentNode[pt]._isOutsideThisEl(e),t)do{if(t[pt]){var i=void 0;if(i=t[pt]._onDragOver({clientX:Ct.clientX,clientY:Ct.clientY,target:e,rootEl:t}),i&&!this.options.dragoverBubble)break}e=t}while(t=Mo(t));Ko()}},_onTouchMove:function(e){if(pn){var t=this.options,i=t.fallbackTolerance,r=t.fallbackOffset,l=e.touches?e.touches[0]:e,o=ve&&On(ve,!0),s=ve&&o&&o.a,a=ve&&o&&o.d,f=Ki&&ot&&Ho(ot),u=(l.clientX-pn.clientX+r.x)/(s||1)+(f?f[0]-zr[0]:0)/(s||1),d=(l.clientY-pn.clientY+r.y)/(a||1)+(f?f[1]-zr[1]:0)/(a||1);if(!oe.active&&!Mn){if(i&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<i)return;this._onDragStart(e,!0)}if(ve){o?(o.e+=u-(jr||0),o.f+=d-(qr||0)):o={a:1,b:0,c:0,d:1,e:u,f:d};var c="matrix(".concat(o.a,",").concat(o.b,",").concat(o.c,",").concat(o.d,",").concat(o.e,",").concat(o.f,")");fe(ve,"webkitTransform",c),fe(ve,"mozTransform",c),fe(ve,"msTransform",c),fe(ve,"transform",c),jr=u,qr=d,Ct=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!ve){var e=this.options.fallbackOnBody?document.body:Fe,t=Ye(J,!0,Ki,!0,e),i=this.options;if(Ki){for(ot=e;fe(ot,"position")==="static"&&fe(ot,"transform")==="none"&&ot!==document;)ot=ot.parentNode;ot!==document.body&&ot!==document.documentElement?(ot===document&&(ot=It()),t.top+=ot.scrollTop,t.left+=ot.scrollLeft):ot=It(),zr=Ho(ot)}ve=J.cloneNode(!0),vt(ve,i.ghostClass,!1),vt(ve,i.fallbackClass,!0),vt(ve,i.dragClass,!0),fe(ve,"transition",""),fe(ve,"transform",""),fe(ve,"box-sizing","border-box"),fe(ve,"margin",0),fe(ve,"top",t.top),fe(ve,"left",t.left),fe(ve,"width",t.width),fe(ve,"height",t.height),fe(ve,"opacity","0.8"),fe(ve,"position",Ki?"absolute":"fixed"),fe(ve,"zIndex","100000"),fe(ve,"pointerEvents","none"),oe.ghost=ve,e.appendChild(ve),fe(ve,"transform-origin",Go/parseInt(ve.style.width)*100+"% "+Vo/parseInt(ve.style.height)*100+"%")}},_onDragStart:function(e,t){var i=this,r=e.dataTransfer,l=i.options;if(mt("dragStart",this,{evt:e}),oe.eventCanceled){this._onDrop();return}mt("setupClone",this),oe.eventCanceled||(je=qo(J),je.removeAttribute("id"),je.draggable=!1,je.style["will-change"]="",this._hideClone(),vt(je,this.options.chosenClass,!1),oe.clone=je),i.cloneId=xi(function(){mt("clone",i),!oe.eventCanceled&&(i.options.removeCloneOnHide||Fe.insertBefore(je,J),i._hideClone(),ft({sortable:i,name:"clone"}))}),!t&&vt(J,l.dragClass,!0),t?(Vi=!0,i._loopId=setInterval(i._emulateDragOver,50)):(Ae(document,"mouseup",i._onDrop),Ae(document,"touchend",i._onDrop),Ae(document,"touchcancel",i._onDrop),r&&(r.effectAllowed="move",l.setData&&l.setData.call(i,r,J)),Ce(document,"drop",i),fe(J,"transform","translateZ(0)")),Mn=!0,i._dragStartId=xi(i._dragStarted.bind(i,t,e)),Ce(document,"selectstart",i),di=!0,window.getSelection().removeAllRanges(),si&&fe(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,i=e.target,r,l,o,s=this.options,a=s.group,f=oe.active,u=Gi===a,d=s.sort,c=nt||f,m,h=this,p=!1;if(Gr)return;function g(se,Pe){mt(se,h,Pt({evt:e,isOwner:u,axis:m?"vertical":"horizontal",revert:o,dragRect:r,targetRect:l,canSort:d,fromSortable:c,target:i,completed:y,onMove:function(Ke,et){return Qi(Fe,t,J,r,Ke,Ye(Ke),e,et)},changed:D},Pe))}function b(){g("dragOverAnimationCapture"),h.captureAnimationState(),h!==c&&c.captureAnimationState()}function y(se){return g("dragOverCompleted",{insertion:se}),se&&(u?f._hideClone():f._showClone(h),h!==c&&(vt(J,nt?nt.options.ghostClass:f.options.ghostClass,!1),vt(J,s.ghostClass,!0)),nt!==h&&h!==oe.active?nt=h:h===oe.active&&nt&&(nt=null),c===h&&(h._ignoreWhileAnimating=i),h.animateAll(function(){g("dragOverAnimationComplete"),h._ignoreWhileAnimating=null}),h!==c&&(c.animateAll(),c._ignoreWhileAnimating=null)),(i===J&&!J.animated||i===t&&!i.animated)&&(Bn=null),!s.dragoverBubble&&!e.rootEl&&i!==document&&(J.parentNode[pt]._isOutsideThisEl(e.target),!se&&mn(e)),!s.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),p=!0}function D(){bt=Dt(J),en=Dt(J,s.draggable),ft({sortable:h,name:"change",toEl:t,newIndex:bt,newDraggableIndex:en,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),i=At(i,s.draggable,t,!0),g("dragOver"),oe.eventCanceled)return p;if(J.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||h._ignoreWhileAnimating===i)return y(!1);if(Vi=!1,f&&!s.disabled&&(u?d||(o=Ve!==Fe):nt===this||(this.lastPutMode=Gi.checkPull(this,f,J,e))&&a.checkPut(this,f,J,e))){if(m=this._getDirection(e,i)==="vertical",r=Ye(J),g("dragOverValid"),oe.eventCanceled)return p;if(o)return Ve=Fe,b(),this._hideClone(),g("revert"),oe.eventCanceled||(dn?Fe.insertBefore(J,dn):Fe.appendChild(J)),y(!0);var _=Rr(t,s.draggable);if(!_||Yc(e,m,this)&&!_.animated){if(_===J)return y(!1);if(_&&t===e.target&&(i=_),i&&(l=Ye(i)),Qi(Fe,t,J,r,i,l,e,!!i)!==!1)return b(),_&&_.nextSibling?t.insertBefore(J,_.nextSibling):t.appendChild(J),Ve=t,D(),y(!0)}else if(_&&Xc(e,m,this)){var S=Pn(t,0,s,!0);if(S===J)return y(!1);if(i=S,l=Ye(i),Qi(Fe,t,J,r,i,l,e,!1)!==!1)return b(),t.insertBefore(J,S),Ve=t,D(),y(!0)}else if(i.parentNode===t){l=Ye(i);var w=0,L,C=J.parentNode!==t,E=!qc(J.animated&&J.toRect||r,i.animated&&i.toRect||l,m),T=m?"top":"left",P=Ro(i,"top","top")||Ro(J,"top","top"),O=P?P.scrollTop:void 0;Bn!==i&&(L=l[T],mi=!1,Xi=!E&&s.invertSwap||C),w=Jc(e,i,l,m,E?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,Xi,Bn===i);var H;if(w!==0){var q=Dt(J);do q-=w,H=Ve.children[q];while(H&&(fe(H,"display")==="none"||H===ve))}if(w===0||H===i)return y(!1);Bn=i,pi=w;var F=i.nextElementSibling,U=!1;U=w===1;var ae=Qi(Fe,t,J,r,i,l,e,U);if(ae!==!1)return(ae===1||ae===-1)&&(U=ae===1),Gr=!0,setTimeout(Uc,30),b(),U&&!F?t.appendChild(J):i.parentNode.insertBefore(J,U?F:i),P&&jo(P,0,O-P.scrollTop),Ve=J.parentNode,L!==void 0&&!Xi&&(Yi=Math.abs(L-Ye(i)[T])),D(),y(!0)}if(t.contains(J))return y(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ae(document,"mousemove",this._onTouchMove),Ae(document,"touchmove",this._onTouchMove),Ae(document,"pointermove",this._onTouchMove),Ae(document,"dragover",mn),Ae(document,"mousemove",mn),Ae(document,"touchmove",mn)},_offUpEvents:function(){var e=this.el.ownerDocument;Ae(e,"mouseup",this._onDrop),Ae(e,"touchend",this._onDrop),Ae(e,"pointerup",this._onDrop),Ae(e,"pointercancel",this._onDrop),Ae(e,"touchcancel",this._onDrop),Ae(document,"selectstart",this)},_onDrop:function(e){var t=this.el,i=this.options;if(bt=Dt(J),en=Dt(J,i.draggable),mt("drop",this,{evt:e}),Ve=J&&J.parentNode,bt=Dt(J),en=Dt(J,i.draggable),oe.eventCanceled){this._nulling();return}Mn=!1,Xi=!1,mi=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ur(this.cloneId),Ur(this._dragStartId),this.nativeDraggable&&(Ae(document,"drop",this),Ae(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),si&&fe(document.body,"user-select",""),fe(J,"transform",""),e&&(di&&(e.cancelable&&e.preventDefault(),!i.dropBubble&&e.stopPropagation()),ve&&ve.parentNode&&ve.parentNode.removeChild(ve),(Fe===Ve||nt&&nt.lastPutMode!=="clone")&&je&&je.parentNode&&je.parentNode.removeChild(je),J&&(this.nativeDraggable&&Ae(J,"dragend",this),Vr(J),J.style["will-change"]="",di&&!Mn&&vt(J,nt?nt.options.ghostClass:this.options.ghostClass,!1),vt(J,this.options.chosenClass,!1),ft({sortable:this,name:"unchoose",toEl:Ve,newIndex:null,newDraggableIndex:null,originalEvent:e}),Fe!==Ve?(bt>=0&&(ft({rootEl:Ve,name:"add",toEl:Ve,fromEl:Fe,originalEvent:e}),ft({sortable:this,name:"remove",toEl:Ve,originalEvent:e}),ft({rootEl:Ve,name:"sort",toEl:Ve,fromEl:Fe,originalEvent:e}),ft({sortable:this,name:"sort",toEl:Ve,originalEvent:e})),nt&&nt.save()):bt!==Nn&&bt>=0&&(ft({sortable:this,name:"update",toEl:Ve,originalEvent:e}),ft({sortable:this,name:"sort",toEl:Ve,originalEvent:e})),oe.active&&((bt==null||bt===-1)&&(bt=Nn,en=ci),ft({sortable:this,name:"end",toEl:Ve,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){mt("nulling",this),Fe=J=Ve=ve=dn=je=zi=$t=pn=Ct=di=bt=en=Nn=ci=Bn=pi=nt=Gi=oe.dragged=oe.ghost=oe.clone=oe.active=null,Ji.forEach(function(e){e.checked=!0}),Ji.length=jr=qr=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":J&&(this._onDragOver(e),Vc(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,i=this.el.children,r=0,l=i.length,o=this.options;r<l;r++)t=i[r],At(t,o.draggable,this.el,!1)&&e.push(t.getAttribute(o.dataIdAttr)||Kc(t));return e},sort:function(e,t){var i={},r=this.el;this.toArray().forEach(function(l,o){var s=r.children[o];At(s,this.options.draggable,r,!1)&&(i[l]=s)},this),t&&this.captureAnimationState(),e.forEach(function(l){i[l]&&(r.removeChild(i[l]),r.appendChild(i[l]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return At(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var i=this.options;if(t===void 0)return i[e];var r=fi.modifyOption(this,e,t);typeof r<"u"?i[e]=r:i[e]=t,e==="group"&&Jo(i)},destroy:function(){mt("destroy",this);var e=this.el;e[pt]=null,Ae(e,"mousedown",this._onTapStart),Ae(e,"touchstart",this._onTapStart),Ae(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ae(e,"dragover",this),Ae(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ui.splice(Ui.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!$t){if(mt("hideClone",this),oe.eventCanceled)return;fe(je,"display","none"),this.options.removeCloneOnHide&&je.parentNode&&je.parentNode.removeChild(je),$t=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if($t){if(mt("showClone",this),oe.eventCanceled)return;J.parentNode==Fe&&!this.options.group.revertClone?Fe.insertBefore(je,J):dn?Fe.insertBefore(je,dn):Fe.appendChild(je),this.options.group.revertClone&&this.animate(J,je),fe(je,"display",""),$t=!1}}};function Vc(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function Qi(n,e,t,i,r,l,o,s){var a,f=n[pt],u=f.options.onMove,d;return window.CustomEvent&&!Vt&&!ai?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=e,a.from=n,a.dragged=t,a.draggedRect=i,a.related=r||e,a.relatedRect=l||Ye(e),a.willInsertAfter=s,a.originalEvent=o,n.dispatchEvent(a),u&&(d=u.call(f,a,o)),d}function Vr(n){n.draggable=!1}function Uc(){Gr=!1}function Xc(n,e,t){var i=Ye(Pn(t.el,0,t.options,!0)),r=zo(t.el,t.options,ve),l=10;return e?n.clientX<r.left-l||n.clientY<i.top&&n.clientX<i.right:n.clientY<r.top-l||n.clientY<i.bottom&&n.clientX<i.left}function Yc(n,e,t){var i=Ye(Rr(t.el,t.options.draggable)),r=zo(t.el,t.options,ve),l=10;return e?n.clientX>r.right+l||n.clientY>i.bottom&&n.clientX>i.left:n.clientY>r.bottom+l||n.clientX>i.right&&n.clientY>i.top}function Jc(n,e,t,i,r,l,o,s){var a=i?n.clientY:n.clientX,f=i?t.height:t.width,u=i?t.top:t.left,d=i?t.bottom:t.right,c=!1;if(!o){if(s&&Yi<f*r){if(!mi&&(pi===1?a>u+f*l/2:a<d-f*l/2)&&(mi=!0),mi)c=!0;else if(pi===1?a<u+Yi:a>d-Yi)return-pi}else if(a>u+f*(1-r)/2&&a<d-f*(1-r)/2)return Zc(e)}return c=c||o,c&&(a<u+f*l/2||a>d-f*l/2)?a>u+f/2?1:-1:0}function Zc(n){return Dt(J)<Dt(n)?1:-1}function Kc(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,i=0;t--;)i+=e.charCodeAt(t);return i.toString(36)}function Qc(n){Ji.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var i=e[t];i.checked&&Ji.push(i)}}function xi(n){return setTimeout(n,0)}function Ur(n){return clearTimeout(n)}Zi&&Ce(document,"touchmove",function(n){(oe.active||Mn)&&n.cancelable&&n.preventDefault()}),oe.utils={on:Ce,off:Ae,css:fe,find:Fo,is:function(e,t){return!!At(e,t,e,!1)},extend:Nc,throttle:Wo,closest:At,toggleClass:vt,clone:qo,index:Dt,nextTick:xi,cancelNextTick:Ur,detectDirection:Yo,getChild:Pn,expando:pt},oe.get=function(n){return n[pt]},oe.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(i){if(!i.prototype||!i.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(i));i.utils&&(oe.utils=Pt(Pt({},oe.utils),i.utils)),fi.mount(i)})},oe.create=function(n,e){return new oe(n,e)},oe.version=Pc;var Je=[],hi,Xr,Yr=!1,Jr,Zr,$i,gi;function xc(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var i=t.originalEvent;this.sortable.nativeDraggable?Ce(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ce(document,"pointermove",this._handleFallbackAutoScroll):i.touches?Ce(document,"touchmove",this._handleFallbackAutoScroll):Ce(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var i=t.originalEvent;!this.options.dragOverBubble&&!i.rootEl&&this._handleAutoScroll(i)},drop:function(){this.sortable.nativeDraggable?Ae(document,"dragover",this._handleAutoScroll):(Ae(document,"pointermove",this._handleFallbackAutoScroll),Ae(document,"touchmove",this._handleFallbackAutoScroll),Ae(document,"mousemove",this._handleFallbackAutoScroll)),Qo(),er(),Mc()},nulling:function(){$i=Xr=hi=Yr=gi=Jr=Zr=null,Je.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,i){var r=this,l=(t.touches?t.touches[0]:t).clientX,o=(t.touches?t.touches[0]:t).clientY,s=document.elementFromPoint(l,o);if($i=t,i||this.options.forceAutoScrollFallback||ai||Vt||si){Kr(t,this.options,s,i);var a=xt(s,!0);Yr&&(!gi||l!==Jr||o!==Zr)&&(gi&&Qo(),gi=setInterval(function(){var f=xt(document.elementFromPoint(l,o),!0);f!==a&&(a=f,er()),Kr(t,r.options,f,i)},10),Jr=l,Zr=o)}else{if(!this.options.bubbleScroll||xt(s,!0)===It()){er();return}Kr(t,this.options,xt(s,!1),!1)}}},zt(n,{pluginName:"scroll",initializeByDefault:!0})}function er(){Je.forEach(function(n){clearInterval(n.pid)}),Je=[]}function Qo(){clearInterval(gi)}var Kr=Wo(function(n,e,t,i){if(e.scroll){var r=(n.touches?n.touches[0]:n).clientX,l=(n.touches?n.touches[0]:n).clientY,o=e.scrollSensitivity,s=e.scrollSpeed,a=It(),f=!1,u;Xr!==t&&(Xr=t,er(),hi=e.scroll,u=e.scrollFn,hi===!0&&(hi=xt(t,!0)));var d=0,c=hi;do{var m=c,h=Ye(m),p=h.top,g=h.bottom,b=h.left,y=h.right,D=h.width,_=h.height,S=void 0,w=void 0,L=m.scrollWidth,C=m.scrollHeight,E=fe(m),T=m.scrollLeft,P=m.scrollTop;m===a?(S=D<L&&(E.overflowX==="auto"||E.overflowX==="scroll"||E.overflowX==="visible"),w=_<C&&(E.overflowY==="auto"||E.overflowY==="scroll"||E.overflowY==="visible")):(S=D<L&&(E.overflowX==="auto"||E.overflowX==="scroll"),w=_<C&&(E.overflowY==="auto"||E.overflowY==="scroll"));var O=S&&(Math.abs(y-r)<=o&&T+D<L)-(Math.abs(b-r)<=o&&!!T),H=w&&(Math.abs(g-l)<=o&&P+_<C)-(Math.abs(p-l)<=o&&!!P);if(!Je[d])for(var q=0;q<=d;q++)Je[q]||(Je[q]={});(Je[d].vx!=O||Je[d].vy!=H||Je[d].el!==m)&&(Je[d].el=m,Je[d].vx=O,Je[d].vy=H,clearInterval(Je[d].pid),(O!=0||H!=0)&&(f=!0,Je[d].pid=setInterval((function(){i&&this.layer===0&&oe.active._onTouchMove($i);var F=Je[this.layer].vy?Je[this.layer].vy*s:0,U=Je[this.layer].vx?Je[this.layer].vx*s:0;typeof u=="function"&&u.call(oe.dragged.parentNode[pt],U,F,n,$i,Je[this.layer].el)!=="continue"||jo(Je[this.layer].el,U,F)}).bind({layer:d}),24))),d++}while(e.bubbleScroll&&c!==a&&(c=xt(c,!1)));Yr=f}},30),xo=function(e){var t=e.originalEvent,i=e.putSortable,r=e.dragEl,l=e.activeSortable,o=e.dispatchSortableEvent,s=e.hideGhostForTarget,a=e.unhideGhostForTarget;if(t){var f=i||l;s();var u=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,d=document.elementFromPoint(u.clientX,u.clientY);a(),f&&!f.el.contains(d)&&(o("spill"),this.onSpill({dragEl:r,putSortable:i}))}};function Qr(){}Qr.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,i=e.putSortable;this.sortable.captureAnimationState(),i&&i.captureAnimationState();var r=Pn(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),i&&i.animateAll()},drop:xo},zt(Qr,{pluginName:"revertOnSpill"});function xr(){}xr.prototype={onSpill:function(e){var t=e.dragEl,i=e.putSortable,r=i||this.sortable;r.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),r.animateAll()},drop:xo},zt(xr,{pluginName:"removeOnSpill"}),oe.mount(new xc),oe.mount(xr,Qr);function $o(n,e,t){const i=n.slice();return i[16]=e[t],i}function ea(n,e,t){const i=n.slice();return i[19]=e[t],i}function ta(n,e,t){const i=n.slice();return i[22]=e[t],i}function na(n){let e,t,i,r;function l(){return n[11](n[22])}return{c(){e=A("div"),t=A("a"),t.innerHTML='<i class="fas fa-pencil-alt fa-sm"></i>',v(t,"href","javascript:"),v(t,"data-action","editField"),v(t,"class","edit-field svelte-1azk92t"),v(e,"class","right svelte-1azk92t")},m(o,s){M(o,e,s),k(e,t),i||(r=re(t,"click",l),i=!0)},p(o,s){n=o},d(o){o&&N(e),i=!1,r()}}}function ia(n,e){let t,i,r,l=e[22].label+"",o,s,a,f=e[2].editable&&na(e),u=[e[10](e[22])],d={};for(let c=0;c<u.length;c+=1)d=xn(d,u[c]);return{key:n,first:null,c(){t=A("li"),i=A("div"),r=A("label"),o=he(l),s=j(),f&&f.c(),a=j(),v(r,"class","svelte-1azk92t"),v(i,"class","left svelte-1azk92t"),Zt(t,d),be(t,"svelte-1azk92t",!0),this.first=t},m(c,m){M(c,t,m),k(t,i),k(i,r),k(r,o),k(t,s),f&&f.m(t,null),k(t,a)},p(c,m){e=c,m&1&&l!==(l=e[22].label+"")&&Le(o,l),e[2].editable?f?f.p(e,m):(f=na(e),f.c(),f.m(t,a)):f&&(f.d(1),f=null),Zt(t,d=Fi(u,[m&1&&e[10](e[22])])),be(t,"svelte-1azk92t",!0)},d(c){c&&N(t),f&&f.d()}}}function ra(n){let e,t=R.translate(n[16].name,"scopeNames")+"",i;return{c(){e=A("span"),i=he(t),v(e,"class","title svelte-1azk92t")},m(r,l){M(r,e,l),k(e,i)},p(r,l){l&2&&t!==(t=R.translate(r[16].name,"scopeNames")+"")&&Le(i,t)},d(r){r&&N(e)}}}function la(n,e){let t,i,r,l=e[19].label+"",o,s,a=[e[10](e[19])],f={};for(let u=0;u<a.length;u+=1)f=xn(f,a[u]);return{key:n,first:null,c(){t=A("li"),i=A("div"),r=A("label"),o=he(l),s=j(),v(r,"class","svelte-1azk92t"),v(i,"class","left svelte-1azk92t"),Zt(t,f),be(t,"svelte-1azk92t",!0),this.first=t},m(u,d){M(u,t,d),k(t,i),k(i,r),k(r,o),k(t,s)},p(u,d){e=u,d&2&&l!==(l=e[19].label+"")&&Le(o,l),Zt(t,f=Fi(a,[d&2&&e[10](e[19])])),be(t,"svelte-1azk92t",!0)},d(u){u&&N(t)}}}function oa(n,e){let t,i,r,l=[],o=new Map,s,a,f=e[1].length>1&&ra(e),u=le(e[16].fields);const d=c=>c[19].name;for(let c=0;c<u.length;c+=1){let m=ea(e,u,c),h=d(m);o.set(h,l[c]=la(h,m))}return{key:n,first:null,c(){t=A("div"),f&&f.c(),i=j(),r=A("ul");for(let c=0;c<l.length;c+=1)l[c].c();a=j(),v(r,"class","disabled connected svelte-1azk92t"),v(r,"data-name",s=e[16].name),v(t,"class","svelte-1azk92t"),be(t,"group",e[1].length>1),this.first=t},m(c,m){M(c,t,m),f&&f.m(t,null),k(t,i),k(t,r);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(r,null);k(t,a)},p(c,m){e=c,e[1].length>1?f?f.p(e,m):(f=ra(e),f.c(),f.m(t,i)):f&&(f.d(1),f=null),m&1026&&(u=le(e[16].fields),l=Wt(l,m,d,1,e,u,o,r,Ht,la,null,ea)),m&2&&s!==(s=e[16].name)&&v(r,"data-name",s),m&2&&be(t,"group",e[1].length>1)},d(c){c&&N(t),f&&f.d();for(let m=0;m<l.length;m+=1)l[m].d()}}}function $c(n){let e,t,i,r,l,o,s,a=[],f=new Map,u,d,c,m,h,p,g,b,y=[],D=new Map,_=le(n[0].sort(sa));const S=C=>C[22].name;for(let C=0;C<_.length;C+=1){let E=ta(n,_,C),T=S(E);f.set(T,a[C]=ia(T,E))}let w=le(n[1]);const L=C=>C[16].name;for(let C=0;C<w.length;C+=1){let E=$o(n,w,C),T=L(E);D.set(T,y[C]=oa(T,E))}return{c(){e=A("div"),t=A("div"),i=A("div"),r=A("header"),r.textContent=`${R.translate("Selected","labels","Admin")}`,l=j(),o=A("div"),s=A("ul");for(let C=0;C<a.length;C+=1)a[C].c();u=j(),d=A("div"),c=j(),m=A("div"),h=A("div"),p=A("header"),p.textContent=`${R.translate("Available","labels","Admin")}`,g=j(),b=A("div");for(let C=0;C<y.length;C+=1)y[C].c();v(r,"class","svelte-1azk92t"),v(s,"class","enabled connected svelte-1azk92t"),v(o,"class","rows-wrapper svelte-1azk92t"),v(i,"class","well svelte-1azk92t"),v(t,"class","col-sm-5 svelte-1azk92t"),v(d,"class","col-sm-1 svelte-1azk92t"),Ie(d,"width","35px"),v(p,"class","svelte-1azk92t"),v(b,"class","rows-wrapper svelte-1azk92t"),v(h,"class","well svelte-1azk92t"),v(m,"class","col-sm-5 svelte-1azk92t"),v(e,"id","layout"),v(e,"class","row svelte-1azk92t")},m(C,E){M(C,e,E),k(e,t),k(t,i),k(i,r),k(i,l),k(i,o),k(o,s);for(let T=0;T<a.length;T+=1)a[T]&&a[T].m(s,null);k(e,u),k(e,d),k(e,c),k(e,m),k(m,h),k(h,p),k(h,g),k(h,b);for(let T=0;T<y.length;T+=1)y[T]&&y[T].m(b,null);n[12](e)},p(C,E){E&1285&&(_=le(C[0].sort(sa)),a=Wt(a,E,S,1,C,_,f,s,Ht,ia,null,ta)),E&1026&&(w=le(C[1]),y=Wt(y,E,L,1,C,w,D,b,Ht,oa,null,$o))},d(C){C&&N(e);for(let E=0;E<a.length;E+=1)a[E].d();for(let E=0;E<y.length;E+=1)y[E].d();n[12](null)}}}function ed(n){let e,t,i={params:n[2],validate:n[9],fetch:n[4],loadLayout:n[3],$$slots:{default:[$c]},$$scope:{ctx:n}};return e=new Lo({props:i}),n[13](e),e.$on("ready",n[7]),{c(){ge(e.$$.fragment)},m(r,l){pe(e,r,l),t=!0},p(r,[l]){const o={};l&4&&(o.params=r[2]),l&16&&(o.fetch=r[4]),l&8&&(o.loadLayout=r[3]),l&33554471&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){n[13](null),me(e,r)}}}function td(n){return n.toLowerCase()}function aa(n,e){return n[e]}const sa=(n,e)=>n.sortOrder-e.sortOrder;function nd(n,e,t){let i,r,l,{params:o}=e,{selectedFields:s=[]}=e,{availableGroups:a=[]}=e,{loadLayout:f}=e,u;fn(()=>{r&&r.destroy(),l&&l.forEach(D=>D.destroy())});function d(){const D={group:"fields",draggable:"li",animation:150};r=oe.create(i.querySelector("ul.enabled"),{...D,onEnd(_){const S=_.to.closest(".connected");if(S.classList.contains("enabled")){const[w]=s.splice(_.oldIndex,1);s.splice(_.newIndex,0,w)}else{const w=s[_.oldIndex];s.splice(_.oldIndex,1);let L=a.find(C=>!C.prefix);if(a.forEach(C=>{C.prefix&&w.name.startsWith(C.prefix)&&(L=C)}),L.name!==S.attributes["data-name"].value){const C=document.querySelector(`#layout ul.disabled[data-name="${L.name}"]`);C.children.length?C.insertBefore(_.item,C.children[0]):C.appendChild(_.item),L.fields.unshift(w)}else L.fields.splice(_.newIndex,0,w);t(1,a=[...a])}t(0,s=[...s])}}),l=[];for(let _ of i.querySelectorAll("ul.disabled")){const S=oe.create(_,{...D,onEnd(w){const L=w.to.closest(".connected");let C=null;if(L.classList.contains("disabled")){if(L!==_){w.oldIndex>=w.from.children.length?w.from.appendChild(w.item):w.from.insertBefore(w.item,w.from.children[w.oldIndex]);return}for(let E of a)if(E.name===L.attributes["data-name"].value){[C]=E.fields.splice(w.oldIndex,1),C&&E.fields.splice(w.newIndex,0,C);break}}else t(1,a=a.map(E=>(E.name===w.from.closest("ul").attributes["data-name"].value&&([C]=E.fields.splice(w.oldIndex,1)),E))),s.splice(w.newIndex,0,C),t(0,s=[...s])}});l.push(S)}}function c(D){o.openEditDialog(D,o.scope,o.dataAttributeList,o.dataAttributesDefs,_=>{t(0,s=s.map(S=>{if(S.name===D.name)for(let w in _)S[w]=_[w];return S}))})}let{fetch:m=()=>s}=e;function h(D){return D.length===0?(Ge.notify("Layout cannot be empty","error"),!1):!0}function p(D){const _={};return o.dataAttributeList.forEach(S=>{aa(D,S)!=null&&(_[`data-${td(S)}`]=aa(D,S))}),_}const g=D=>c(D);function b(D){Me[D?"unshift":"push"](()=>{i=D,t(5,i)})}function y(D){Me[D?"unshift":"push"](()=>{u=D,t(6,u)})}return n.$$set=D=>{"params"in D&&t(2,o=D.params),"selectedFields"in D&&t(0,s=D.selectedFields),"availableGroups"in D&&t(1,a=D.availableGroups),"loadLayout"in D&&t(3,f=D.loadLayout),"fetch"in D&&t(4,m=D.fetch)},[s,a,o,f,m,i,u,d,c,h,p,g,b,y]}let ua=class extends Ee{constructor(e){super(),ke(this,e,nd,ed,we,{params:2,selectedFields:0,availableGroups:1,loadLayout:3,fetch:4})}};const tr={upperCaseFirst(n){return n.length?n[0].toUpperCase()+n.slice(1):""}};function id(n){let e,t,i={params:n[0],selectedFields:n[2],availableGroups:n[3],editable:rd,loadLayout:n[4]};return e=new ua({props:i}),n[5](e),{c(){ge(e.$$.fragment)},m(r,l){pe(e,r,l),t=!0},p(r,[l]){const o={};l&1&&(o.params=r[0]),l&4&&(o.selectedFields=r[2]),l&8&&(o.availableGroups=r[3]),e.$set(o)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){n[5](null),me(e,r)}}}let rd=!0;function ld(n,e,t){let{params:i}=e;i.dataAttributeList||(i.dataAttributeList=["id","name","width","widthPx","link","notSortable","align","view","customLabel","editable"]),i.dataAttributesDefs||(i.dataAttributesDefs={link:{type:"bool"},width:{type:"float"},notSortable:{type:"bool"},align:{type:"enum",options:["left","right"]},view:{type:"varchar",readOnly:!0},customLabel:{type:"varchar",readOnly:!0},widthPx:{type:"float"},name:{type:"varchar",readOnly:!0},editable:{type:"bool"}});let r,l=[],o=[];const s=[],a=[];function f(y){qt.get(i.scope,i.type,i.relatedScope,i.layoutProfileId,D=>{y&&(h(D.layout),y(D))},!1)}function u(y,D){return D==="_self"?R.translate(y,"scopeNamesPlural","Global"):D==="_bookmark"?R.translate("Bookmark","scopeNamesPlural","Global"):D==="_admin"?R.translate("Administration","labels","Global"):R.translate(D,"fields",y)}function d(){var D,_;const y=[];return i.type==="leftSidebar"&&(ee.get(["scopes",i.scope,"bookmarkDisabled"])||y.push("_bookmark"),ee.get(["scopes",i.scope,"type"])==="Hierarchy"&&!ee.get(["scopes",i.scope,"disableHierarchy"])&&y.push("_self"),(_=(D=gt.get())==null?void 0:D.user)!=null&&_.isAdmin&&y.push("_admin")),y}function c(y,D){return ee.get(["entityDefs",y,"fields",D,"type"])??""}function m(y,D){const _=D.split("."),S=ee.get(["entityDefs",_[0],"links",_[1]])??{};return S.entity===y&&S.relationName?Espo.utils.upperCaseFirst(S.relationName):""}function h(y){const D=[];let _="";if(i.relatedScope&&i.type==="list"&&(_=m(i.scope,i.relatedScope),_)){const C={name:_,scope:_,prefix:_+"__"};let E=Object.keys(ee.get(["entityDefs",_,"fields"])||{}).filter(T=>p(c(_,T))&&g(_,T));E=E.filter(T=>!(ee.get(["entityDefs",_,"fields",T,"relationField"])??!1)),E=E.sort((T,P)=>u(_,T).localeCompare(u(_,P))).map(T=>C.prefix+T),C.fields=E,D.push(C)}let S=Object.keys(ee.get(["entityDefs",i.scope,"fields"])||{}).filter(C=>p(c(i.scope,C))&&g(i.scope,C));S.push(...d()),S=S.sort((C,E)=>u(i.scope,C).localeCompare(u(i.scope,E))),D.unshift({name:i.scope,scope:i.scope,fields:S});const w=[],L=[];for(const C of D)C.fields=C.fields.map(E=>{const T=u(C.scope,C.prefix?E.replace(C.prefix,""):E);C.prefix||(w.includes(T)&&L.push(T),w.push(T));const P={name:E,label:T},O=ee.get(["entityDefs",C.scope,"fields",E,"type"]);return O&&ee.get(["fields",O,"notSortable"])&&(P.notSortable=!0),P});t(2,l=y),D[0].fields.forEach(C=>{L.includes(C.label)&&(C.label+=` (${C.name})`);const E=l.find(T=>!T.label&&T.name===C.name);E&&(E.label=C.label)}),D[1]&&D[1].fields.forEach(C=>{w.includes(C.label)&&(C.label+=" (Relation)");const E=l.find(T=>!T.label&&T.name===C.name);E&&(E.label=C.label)});for(const C of D)C.fields=C.fields.filter(E=>!l.find(T=>T.name===E.name));t(3,o=D.reverse())}function p(y){return i.fieldTypes?i.fieldTypes.includes(y):!0}function g(y,D){if(s.includes(D)||a.includes(c(y,D)))return!1;const _=["disabled",`layout${tr.upperCaseFirst(i.type)}Disabled`];i.reelType&&_.push(`layout${tr.upperCaseFirst(i.reelType)}Disabled`);for(let S of _)if(ee.get(["entityDefs",y,"fields",D,S]))return!1;return!0}function b(y){Me[y?"unshift":"push"](()=>{r=y,t(1,r)})}return n.$$set=y=>{"params"in y&&t(0,i=y.params)},[i,r,l,o,f,b]}class $r extends Ee{constructor(e){super(),ke(this,e,ld,id,we,{params:0})}}function od(n){let e,t;return e=new ua({props:{params:n[0],selectedFields:n[1],availableGroups:n[2],loadLayout:n[3]}}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,[r]){const l={};r&1&&(l.params=i[0]),r&2&&(l.selectedFields=i[1]),r&4&&(l.availableGroups=i[2]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function ad(n,e){return!n.getLinkParam(e,"disabled")&&!n.getLinkParam(e,"layoutRelationshipsDisabled")}function sd(n,e,t){let{params:i}=e;i.dataAttributeList||(i.dataAttributeList=["id","name","style","hiddenPerDefault"]),i.dataAttributesDefs||(i.dataAttributesDefs={style:{type:"enum",options:["default","success","danger","primary","info","warning"],translation:"LayoutManager.options.style"},hiddenPerDefault:{type:"bool"},name:{readOnly:!0}});let r=[],l=[];function o(a){Br.create(i.scope,function(f){qt.get(i.scope,i.type,null,i.layoutProfileId,u=>{a&&(s(f,u.layout),a(u))},!1)})}function s(a,f){let u=[];for(let h in a.defs.links)["belongsTo","hasMany","hasChildren"].includes(a.defs.links[h].type)&&ad(a,h)&&u.push(h);const d=ee.get(["clientDefs",i.scope,"bottomPanels","detail"])||[];for(let h of d)h.layoutRelationshipsDisabled||u.push(h.name);u.sort(function(h,p){let g,b,y=d.find(_=>_.name===h),D=d.find(_=>_.name===p);return h in a.defs.links?g=R.translate(h,"links",i.scope):y&&(g=R.translate(y.label,"labels",i.scope)),p in a.defs.links?b=R.translate(p,"links",i.scope):D&&(b=R.translate(D.label,"labels",i.scope)),g.localeCompare(b)});let c=[];t(1,r=[]);const m={name:i.scope,fields:[]};for(let h in f){let p=f[h],g,b=d.find(y=>y.name===p.name);typeof p=="string"||p instanceof String?g={name:p,label:b?R.translate(b.label,"labels",i.scope):R.translate(p,"fields",i.scope)}:(g=p,g.label=b?R.translate(b.label,"labels",i.scope):R.translate(g.name,"fields",i.scope)),i.dataAttributeList.forEach(y=>{if(y==="name"||y in g)return;let D=ee.get(["clientDefs",i.scope,"relationshipPanels",g.name,y]);D!==null&&(g[y]=D)}),r.push(g),c.push(g.name)}for(let h of u)if(!c.includes(h)){let p=d.find(g=>g.name===h);m.fields.push({name:h,label:p?R.translate(p.label,"labels",i.scope):R.translate(h,"fields",i.scope)})}t(2,l=[m])}return n.$$set=a=>{"params"in a&&t(0,i=a.params)},[i,r,l,o]}class ud extends Ee{constructor(e){super(),ke(this,e,sd,od,we,{params:0})}}function fa(n,e,t){const i=n.slice();return i[43]=e[t],i}function ca(n,e,t){const i=n.slice();return i[46]=e[t],i}function da(n,e,t){const i=n.slice();return i[49]=e[t],i}function pa(n,e,t){const i=n.slice();return i[52]=e[t],i}function ma(n,e,t){const i=n.slice();return i[55]=e[t],i[57]=t,i}function fd(n){let e,t,i,r,l;function o(){return n[20](n[49],n[52],n[57])}function s(...a){return n[21](n[49],n[52],n[57],...a)}return{c(){e=A("li"),t=A("a"),t.innerHTML='<i class="fas fa-minus"></i>',i=j(),v(t,"href","#"),v(t,"data-action","minusCell"),v(t,"class","remove-field svelte-t2y606"),v(e,"class","empty cell svelte-t2y606")},m(a,f){M(a,e,f),k(e,t),k(e,i),r||(l=[re(t,"click",Jt(o)),re(e,"dragover",Jt(hd)),re(e,"drop",s)],r=!0)},p(a,f){n=a},d(a){a&&N(e),r=!1,rt(l)}}}function cd(n){let e,t=n[55].label+"",i,r,l,o,s,a,f,u,d,c,m;function h(){return n[18](n[49],n[52],n[57])}function p(...g){return n[19](n[55],...g)}return{c(){e=A("li"),i=he(t),r=j(),l=A("a"),l.innerHTML='<i class="fas fa-times"></i>',o=j(),v(l,"href","#"),v(l,"data-action","removeField"),v(l,"class","remove-field svelte-t2y606"),v(e,"class","cell svelte-t2y606"),v(e,"draggable","true"),v(e,"data-id",s=n[55].id),v(e,"data-name",a=n[55].name),v(e,"data-full-width",f=n[55].fullWidth?"true":void 0),v(e,"data-custom-label",u=n[55].customLabel?n[55].customLabel:void 0),v(e,"data-no-label",d=n[55].noLabel)},m(g,b){M(g,e,b),k(e,i),k(e,r),k(e,l),k(e,o),c||(m=[re(l,"click",Jt(h)),re(e,"dragstart",Lr(p))],c=!0)},p(g,b){n=g,b[0]&2&&t!==(t=n[55].label+"")&&Le(i,t),b[0]&2&&s!==(s=n[55].id)&&v(e,"data-id",s),b[0]&2&&a!==(a=n[55].name)&&v(e,"data-name",a),b[0]&2&&f!==(f=n[55].fullWidth?"true":void 0)&&v(e,"data-full-width",f),b[0]&2&&u!==(u=n[55].customLabel?n[55].customLabel:void 0)&&v(e,"data-custom-label",u),b[0]&2&&d!==(d=n[55].noLabel)&&v(e,"data-no-label",d)},d(g){g&&N(e),c=!1,rt(m)}}}function ha(n){let e;function t(l,o){return l[55]?cd:fd}let i=t(n),r=i(n);return{c(){r.c(),e=Be()},m(l,o){r.m(l,o),M(l,e,o)},p(l,o){i===(i=t(l))&&r?r.p(l,o):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&N(e),r.d(l)}}}function ga(n,e){let t,i,r,l,o,s,a,f,u;function d(){return e[17](e[49],e[52])}let c=le(e[52].cells),m=[];for(let h=0;h<c.length;h+=1)m[h]=ha(ma(e,c,h));return{key:n,first:null,c(){t=A("li"),i=A("div"),r=A("a"),r.innerHTML='<i class="fas fa-times"></i>',l=j(),o=A("ul");for(let h=0;h<m.length;h+=1)m[h].c();s=j(),v(r,"href","#"),v(r,"data-action","removeRow"),v(r,"class","remove-row pull-right svelte-t2y606"),v(i,"class","svelte-t2y606"),v(o,"class","cells svelte-t2y606"),v(t,"class","row svelte-t2y606"),v(t,"data-number",a=e[52].number),this.first=t},m(h,p){M(h,t,p),k(t,i),k(i,r),k(t,l),k(t,o);for(let g=0;g<m.length;g+=1)m[g]&&m[g].m(o,null);k(t,s),f||(u=[re(r,"click",Jt(d)),re(o,"mousedown",Lr(gd))],f=!0)},p(h,p){if(e=h,p[0]&5634){c=le(e[52].cells);let g;for(g=0;g<c.length;g+=1){const b=ma(e,c,g);m[g]?m[g].p(b,p):(m[g]=ha(b),m[g].c(),m[g].m(o,null))}for(;g<m.length;g+=1)m[g].d(1);m.length=c.length}p[0]&2&&a!==(a=e[52].number)&&v(t,"data-number",a)},d(h){h&&N(t),xe(m,h),f=!1,rt(u)}}}function va(n,e){let t,i,r,l=(e[49].customLabel||e[49].label||"")+"",o,s,a,f,u,d,c,m,h,p,g,b=[],y=new Map,D,_,S,w,L,C,E;function T(){return e[15](e[49])}function P(){return e[16](e[49])}let O=le(e[49].rows);const H=F=>F[52].number;for(let F=0;F<O.length;F+=1){let U=pa(e,O,F),ae=H(U);y.set(ae,b[F]=ga(ae,U))}function q(){return e[22](e[49])}return{key:n,first:null,c(){t=A("li"),i=A("header"),r=A("label"),o=he(l),a=he(`
                                    `),f=A("a"),f.innerHTML='<i class="fas fa-pencil-alt fa-sm"></i>',u=j(),d=A("a"),c=A("i"),p=j(),g=A("ul");for(let F=0;F<b.length;F+=1)b[F].c();D=j(),_=A("div"),S=A("a"),S.innerHTML='<i class="fas fa-plus"></i>',w=j(),v(r,"data-is-custom",s=e[49].customLabel?"true":void 0),v(r,"class","svelte-t2y606"),v(f,"href","#"),v(f,"data-action","edit-panel-label"),v(f,"class","edit-panel-label svelte-t2y606"),v(c,"class","fas fa-times"),v(d,"href","#"),Ie(d,"float","right"),v(d,"data-action","removePanel"),v(d,"class","remove-panel svelte-t2y606"),v(d,"data-number",m=e[49].number),v(i,"data-name",h=e[49].name),v(i,"class","svelte-t2y606"),v(g,"class","rows svelte-t2y606"),v(S,"href","#"),v(S,"data-action","addRow"),v(S,"class","svelte-t2y606"),v(_,"class","svelte-t2y606"),v(t,"data-number",L=e[49].number),v(t,"class","panel-layout svelte-t2y606"),this.first=t},m(F,U){M(F,t,U),k(t,i),k(i,r),k(r,o),k(i,a),k(i,f),k(i,u),k(i,d),k(d,c),k(t,p),k(t,g);for(let ae=0;ae<b.length;ae+=1)b[ae]&&b[ae].m(g,null);k(t,D),k(t,_),k(_,S),k(t,w),C||(E=[re(f,"click",Jt(T)),re(d,"click",Jt(P)),re(g,"mousedown",Lr(vd)),re(S,"click",Jt(q))],C=!0)},p(F,U){e=F,U[0]&2&&l!==(l=(e[49].customLabel||e[49].label||"")+"")&&Le(o,l),U[0]&2&&s!==(s=e[49].customLabel?"true":void 0)&&v(r,"data-is-custom",s),U[0]&2&&m!==(m=e[49].number)&&v(d,"data-number",m),U[0]&2&&h!==(h=e[49].name)&&v(i,"data-name",h),U[0]&5890&&(O=le(e[49].rows),b=Wt(b,U,H,1,e,O,y,g,Ht,ga,null,pa)),U[0]&2&&L!==(L=e[49].number)&&v(t,"data-number",L)},d(F){F&&N(t);for(let U=0;U<b.length;U+=1)b[U].d();C=!1,rt(E)}}}function ba(n){let e,t=R.translate(n[43].name,"scopeNames")+"",i;return{c(){e=A("span"),i=he(t),v(e,"class","title svelte-t2y606")},m(r,l){M(r,e,l),k(e,i)},p(r,l){l[0]&4&&t!==(t=R.translate(r[43].name,"scopeNames")+"")&&Le(i,t)},d(r){r&&N(e)}}}function _a(n,e){let t,i=e[46].label+"",r,l,o,s,a;function f(...u){return e[23](e[46],...u)}return{key:n,first:null,c(){t=A("li"),r=he(i),l=j(),v(t,"class","cell svelte-t2y606"),v(t,"data-name",o=e[46].name),this.first=t},m(u,d){M(u,t,d),k(t,r),k(t,l),s||(a=re(t,"dragstart",f),s=!0)},p(u,d){e=u,d[0]&4&&i!==(i=e[46].label+"")&&Le(r,i),d[0]&4&&o!==(o=e[46].name)&&v(t,"data-name",o)},d(u){u&&N(t),s=!1,a()}}}function wa(n,e){let t,i,r,l=[],o=new Map,s,a,f=e[2].length>1&&ba(e),u=le(e[43].fields);const d=c=>c[46].name;for(let c=0;c<u.length;c+=1){let m=ca(e,u,c),h=d(m);o.set(h,l[c]=_a(h,m))}return{key:n,first:null,c(){t=A("div"),f&&f.c(),i=j(),r=A("ul");for(let c=0;c<l.length;c+=1)l[c].c();a=j(),v(r,"class","disabled cells clearfix svelte-t2y606"),v(r,"data-name",s=e[43].name),v(t,"class","svelte-t2y606"),be(t,"group",e[2].length>1),this.first=t},m(c,m){M(c,t,m),f&&f.m(t,null),k(t,i),k(t,r);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(r,null);k(t,a)},p(c,m){e=c,e[2].length>1?f?f.p(e,m):(f=ba(e),f.c(),f.m(t,i)):f&&(f.d(1),f=null),m[0]&4&&(u=le(e[43].fields),l=Wt(l,m,d,1,e,u,o,r,Ht,_a,null,ca)),m[0]&4&&s!==(s=e[43].name)&&v(r,"data-name",s),m[0]&4&&be(t,"group",e[2].length>1)},d(c){c&&N(t),f&&f.d();for(let m=0;m<l.length;m+=1)l[m].d()}}}function dd(n){let e,t,i,r,l,o,s,a,f,u=[],d=new Map,c,m,h,p,g,b,y=[],D=new Map,_,S,w=le(n[1]);const L=T=>T[49].number;for(let T=0;T<w.length;T+=1){let P=da(n,w,T),O=L(P);d.set(O,u[T]=va(O,P))}let C=le(n[2]);const E=T=>T[43].name;for(let T=0;T<C.length;T+=1){let P=fa(n,C,T),O=E(P);D.set(O,y[T]=wa(O,P))}return{c(){e=A("div"),t=A("div"),i=A("div"),r=A("header"),r.textContent=`${R.translate("Layout","LayoutManager")}`,l=j(),o=A("a"),o.textContent=`${R.translate("Add Panel","Admin")}`,s=j(),a=A("div"),f=A("ul");for(let T=0;T<u.length;T+=1)u[T].c();c=j(),m=A("div"),h=A("div"),p=A("header"),p.textContent=`${R.translate("Available Fields","Admin")}`,g=j(),b=A("div");for(let T=0;T<y.length;T+=1)y[T].c();v(r,"class","svelte-t2y606"),v(o,"href","#"),v(o,"class","svelte-t2y606"),v(f,"class","panels svelte-t2y606"),v(a,"class","rows-wrapper svelte-t2y606"),v(i,"class","well svelte-t2y606"),v(t,"class","col-md-8 svelte-t2y606"),v(p,"class","svelte-t2y606"),v(b,"class","rows-wrapper svelte-t2y606"),v(h,"class","well available-fields svelte-t2y606"),v(m,"class","col-md-4 svelte-t2y606"),v(e,"id","layout"),v(e,"class","row svelte-t2y606")},m(T,P){M(T,e,P),k(e,t),k(t,i),k(i,r),k(i,l),k(i,o),k(i,s),k(i,a),k(a,f);for(let O=0;O<u.length;O+=1)u[O]&&u[O].m(f,null);k(e,c),k(e,m),k(m,h),k(h,p),k(h,g),k(h,b);for(let O=0;O<y.length;O+=1)y[O]&&y[O].m(b,null);_||(S=re(o,"click",Jt(n[5])),_=!0)},p(T,P){P[0]&8130&&(w=le(T[1]),u=Wt(u,P,L,1,T,w,d,f,Ht,va,null,da)),P[0]&4&&(C=le(T[2]),y=Wt(y,P,E,1,T,C,D,b,Ht,wa,null,fa))},d(T){T&&N(e);for(let P=0;P<u.length;P+=1)u[P].d();for(let P=0;P<y.length;P+=1)y[P].d();_=!1,S()}}}function pd(n){let e,t;return e=new Lo({props:{params:n[0],validate:n[13],fetch:n[4],loadLayout:n[3],$$slots:{default:[dd]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){const l={};r[0]&1&&(l.params=i[0]),r[0]&6|r[1]&134217728&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function md(n,e){return e.prefix?n.startsWith(e.prefix):!n.includes("__")}const hd=n=>n.dataTransfer.dropEffect="move",gd=()=>{},vd=()=>{};function bd(n,e,t){let{params:i}=e,{columnCount:r=2}=e,l=["id","label","style"],o={label:{type:"varchar"},style:{type:"enum",options:["default","success","danger","primary","info","warning"],translation:"LayoutManager.options.style"}},s=[],a=[],f=[],u=-1,d=-1,c;kn();function m(Y){let G;const Z=[];Z.push(new Promise($=>{qt.get(i.scope,i.type,i.relatedScope,i.layoutProfileId,de=>{G=de,$()},!1)})),i.type==="detail"&&Z.push(new Promise($=>{qt.get(i.scope,"sidePanelsDetail",null,i.layoutProfileId,de=>{c=de.layout,$()},!1)})),Promise.all(Z).then(()=>{Y&&(y(G.layout),L(),cn().then(()=>{E()}),Y(G))})}function h(Y,G){const Z=G.split("."),$=ee.get(["entityDefs",Z[0],"links",Z[1]])??{};return $.entity===Y&&$.relationName?Espo.utils.upperCaseFirst($.relationName):""}function p(Y,G){return R.translate(G,"fields",Y)}function g(Y,G){return ee.get(["entityDefs",Y,"fields",G,"type"])??""}function b(Y){return i.fieldTypes?i.fieldTypes.includes(Y):!0}function y(Y){const G=[];let Z="";if(i.relatedScope&&(Z=h(i.scope,i.relatedScope),Z)){const ne={name:Z,scope:Z,prefix:Z+"__"};let ye=Object.keys(ee.get(["entityDefs",Z,"fields"])||{}).filter(Te=>b(g(Z,Te))&&_(Z,Te));ye=ye.filter(Te=>!(ee.get(["entityDefs",Z,"fields",Te,"relationField"])??!1)),ye=ye.sort((Te,Ue)=>p(Z,Te).localeCompare(p(Z,Ue))).map(Te=>ne.prefix+Te),ne.fields=ye,G.push(ne)}let $=[];const de=[];for(const ne in ee.get(["entityDefs",i.scope,"fields"])||{})_(i.scope,ne)&&(de.push(R.translate(ne,"fields",i.scope)),$.push(ne));G.unshift({name:i.scope,scope:i.scope,fields:$});const Oe=[],Re=[];for(const ne of G)ne.fields=ne.fields.map(ye=>{const Te=p(ne.scope,ne.prefix?ye.replace(ne.prefix,""):ye);return ne.prefix||(Oe.includes(Te)&&Re.push(Te),Oe.push(Te)),{name:ye,label:Te}});t(1,a=Y);let at=[];Y.forEach((ne,ye)=>{ne.rows.forEach((Te,Ue)=>{Te&&Te.forEach((it,Nt)=>{Nt==r||!it||at.push(it.name)})})}),G[0].fields.forEach(ne=>{Re.includes(ne.label)&&(ne.label+=` (${ne.name})`);const ye=D(ne.name);ye&&(ye.label=ne.label)}),G[1]&&G[1].fields.forEach(ne=>{ne.label+=" (Relation)";const ye=D(ne.name);ye&&(ye.label=ne.label)});for(const ne of G)ne.fields=ne.fields.filter(ye=>!at.find(Te=>Te===ye.name));t(2,f=G.reverse())}function D(Y){for(const G of a)for(const Z of G.rows)for(const $ of Z)if($&&$.name===Y)return $;return null}function _(Y,G){if(S()&&s.includes(G))return!1;const Z=["disabled",`layout${tr.upperCaseFirst(i.type)}Disabled`];i.reelType&&Z.push(`layout${tr.upperCaseFirst(i.reelType)}Disabled`);for(let $ of Z)if(ee.get(["entityDefs",Y,"fields",G,$]))return!1;return!0}function S(){if(ee.get(["clientDefs",i.scope,"defaultSidePanelDisabled"]))return!1;if(c){for(const Y in c)if(Y==="default"&&c[Y].disabled)return!1}return!0}function w(){return a.map(Y=>({...Y,rows:Y.rows.map(G=>G.cells)}))}function L(){u=-1,d=-1,t(1,a=a.map((Y,G)=>(Y.number=G,u=G,Y.rows=Y.rows.map(Z=>({number:d++,cells:Z})),Y)))}function C(Y){oe.create(Y,{animation:150,group:"rows",draggable:"li.row",onEnd(G){const Z=parseInt(G.to.closest(".panel-layout").getAttribute("data-number")),$=parseInt(G.from.closest(".panel-layout").getAttribute("data-number"));if($===Z)t(1,a=a.map(de=>{if(de.number===Z){const[Oe]=de.rows.splice(G.oldIndex,1);de.rows.splice(G.newIndex,0,Oe)}return de}));else{const Oe=a.find(Re=>Re.number===$).rows[G.oldIndex];t(1,a=a.map(Re=>(Re.number===$&&Re.rows.splice(G.oldIndex,1),Re.number===Z&&Re.rows.splice(G.newIndex,0,Oe),Re)))}}})}function E(){const Y=document.querySelector("ul.panels");Y&&oe.create(Y,{animation:150,group:"panels",draggable:"li.panel-layout",onEnd(G){const Z=Array.from(G.to.children);t(1,a=Z.map($=>{const de=parseInt($.getAttribute("data-number"));return a.find(Oe=>Oe.number===de)}))}}),document.querySelectorAll("ul.rows").forEach(G=>{C(G)}),document.querySelectorAll("ul.cells.disabled").forEach(G=>{oe.create(G,{animation:150,group:"cells",draggable:"li.cell",onEnd(Z){const $=Z.to.closest(".cells.disabled");if($&&$!==G){Z.oldIndex>=Z.from.children.length?Z.from.appendChild(Z.item):Z.from.insertBefore(Z.item,Z.from.children[Z.oldIndex]);return}}})})}function T(){u++;const Y={label:"New panel",rows:[{number:d++,cells:[!1,!1]}],number:u,name:`panel${u}`,isCustomLabel:!0};t(1,a=[...a,Y]),cn().then(()=>{const G=document.querySelector(`.panel-layout[data-number="${Y.number}"] > .rows`);C(G),G.scrollIntoView()})}function P(Y){const G=a.find($=>$.number===Y);t(1,a=a.filter($=>$!==G));let Z=[];G.rows.forEach($=>{$.cells.forEach(de=>{de&&Z.push(de)})}),O(Z)}function O(Y){t(2,f=f.map(G=>(G.fields=[...Y.filter(Z=>!!Z&&md(Z.name,G)),...G.fields],G)))}function H(Y){t(1,a=a.map(G=>(G.number===Y&&(G.rows=[...G.rows,{number:d++,cells:Array(r).fill(!1)}]),G)))}function q(Y,G){t(1,a=a.map(Z=>{if(Z.number===Y){const $=Z.rows.find(de=>de.number===G);Z.rows=Z.rows.filter(de=>de!=$),O($.cells.filter(de=>!!de))}return Z}))}function F(Y,G,Z){t(1,a=a.map($=>($.number===Y&&($.rows=$.rows.map((de,Oe)=>{if(de.number===G){const Re=de.cells[Z];Re&&O([Re]),de.cells[Z]=!1}return de})),$)))}function U(Y,G,Z,$){const de=Y.dataTransfer.getData("name");let Oe=null;for(const ne of f)if(Oe=ne.fields.find(ye=>ye.name===de),Oe)break;let Re=null,at=null;if(Oe)t(2,f=f.map(ne=>(ne.fields=ne.fields.filter(ye=>ye!==Oe),ne)));else{if(a.forEach(ne=>{ne.rows.forEach((ye,Te)=>{ye.cells.forEach(Ue=>{Ue&&Ue.name===de&&(Oe=Ue,Re=ye.number,at=ne.number)})})}),!Oe)return;t(1,a=a.map((ne,ye)=>(at===ne.number&&(ne.rows=ne.rows.map((Te,Ue)=>(Te.number===Re&&(Te.cells=Te.cells.map((it,Nt)=>it&&it.name===de?!1:it)),Te))),ne)))}t(1,a=a.map(ne=>(G===ne.number&&(ne.rows=ne.rows.map(ye=>(Z===ye.number&&(ye.cells=ye.cells.map((Te,Ue)=>Ue===$?(Oe.fullWidth&&ye.cells.length>1&&delete Oe.fullWidth,Oe):Te)),ye))),ne)))}function ae(Y){i.onEditPanel(Y,l,o,G=>{t(1,a=a.map(Z=>(Z.number===Y.number&&l.forEach($=>{Y[$]=G[$]}),Z)))})}function se(Y,G,Z){t(1,a=a.map($=>(Y===$.number&&($.rows=$.rows.map(de=>{if(G===de.number){const Oe=de.cells.filter((Re,at)=>at!==Z);Oe.length===1&&Oe[0]&&(Oe[0].fullWidth=!0),de.cells=Oe}return de})),$)))}function Pe(Y){let G=0;return Y.forEach(Z=>{Z.rows.forEach($=>{$.forEach(de=>{de&&G++})})}),G===0?(Ge.notify("Layout cannot be empty.","error"),!1):!0}const $e=Y=>ae(Y),Ke=Y=>P(Y.number),et=(Y,G)=>q(Y.number,G.number),ce=(Y,G,Z)=>F(Y.number,G.number,Z),De=(Y,G)=>{G.dataTransfer.setData("name",Y.name)},Ne=(Y,G,Z)=>se(Y.number,G.number,Z),qe=(Y,G,Z,$)=>U($,Y.number,G.number,Z),tt=Y=>H(Y.number),Ze=(Y,G)=>{G.dataTransfer.setData("name",Y.name)};return n.$$set=Y=>{"params"in Y&&t(0,i=Y.params),"columnCount"in Y&&t(14,r=Y.columnCount)},[i,a,f,m,w,T,P,H,q,F,U,ae,se,Pe,r,$e,Ke,et,ce,De,Ne,qe,tt,Ze]}class _d extends Ee{constructor(e){super(),ke(this,e,bd,pd,we,{params:0,columnCount:14},null,[-1,-1])}}function wd(n){let e,t;return e=new n[1]({props:{params:n[0],viewType:n[2]}}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,[r]){const l={};r&1&&(l.params=i[0]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function yd(n,e,t){let{params:i}=e,r,l;const o=ee.get(["clientDefs",i.scope,"additionalLayouts",i.type])||i.type;switch(o&&(i.reelType=o),n.$$set=s=>{"params"in s&&t(0,i=s.params)},o){case"list":t(1,r=$r);break;case"leftSidebar":t(1,r=$r),t(0,i.fieldTypes=["link","linkMultiple"],i);break;case"kanban":t(1,r=$r),t(0,i.dataAttributeList=["id","name","link","align","view","isLarge","cssStyle"],i),t(0,i.dataAttributesDefs={link:{type:"bool"},isLarge:{type:"bool"},width:{type:"float"},cssStyle:{type:"varchar"},align:{type:"enum",options:["left","right"]},view:{type:"varchar",readOnly:!0},name:{type:"varchar",readOnly:!0}},i);break;case"relationships":t(1,r=ud);break;case"rightSideView":case"detail":t(1,r=_d);break}return[i,r,l]}class kd extends Ee{constructor(e){super(),ke(this,e,yd,wd,we,{params:0})}}function ya(n,e,t){const i=n.slice();return i[2]=e[t],i[4]=t,i}function Ed(n){let e,t;function i(o,s){return o[2].html?Cd:Ad}let r=i(n),l=r(n);return{c(){e=A("span"),l.c(),v(e,"class",t=lt(n[2].className)+" svelte-14ktdgy")},m(o,s){M(o,e,s),l.m(e,null)},p(o,s){r===(r=i(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e,null))),s&1&&t!==(t=lt(o[2].className)+" svelte-14ktdgy")&&v(e,"class",t)},d(o){o&&N(e),l.d()}}}function Dd(n){let e,t;function i(o,s){return o[2].html?Ld:Td}let r=i(n),l=r(n);return{c(){e=A("h3"),l.c(),v(e,"class",t=lt(n[2].className)+" svelte-14ktdgy")},m(o,s){M(o,e,s),l.m(e,null)},p(o,s){r===(r=i(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e,null))),s&1&&t!==(t=lt(o[2].className)+" svelte-14ktdgy")&&v(e,"class",t)},d(o){o&&N(e),l.d()}}}function Sd(n){let e;function t(l,o){return l[2].url?Pd:Od}let i=t(n),r=i(n);return{c(){r.c(),e=Be()},m(l,o){r.m(l,o),M(l,e,o)},p(l,o){i===(i=t(l))&&r?r.p(l,o):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&N(e),r.d(l)}}}function Ad(n){let e=n[2].label+"",t;return{c(){t=he(e)},m(i,r){M(i,t,r)},p(i,r){r&1&&e!==(e=i[2].label+"")&&Le(t,e)},d(i){i&&N(t)}}}function Cd(n){let e,t=n[2].html+"",i;return{c(){e=new Kt(!1),i=Be(),e.a=i},m(r,l){e.m(t,r,l),M(r,i,l)},p(r,l){l&1&&t!==(t=r[2].html+"")&&e.p(t)},d(r){r&&(N(i),e.d())}}}function Td(n){let e=n[2].label+"",t;return{c(){t=he(e)},m(i,r){M(i,t,r)},p(i,r){r&1&&e!==(e=i[2].label+"")&&Le(t,e)},d(i){i&&N(t)}}}function Ld(n){let e,t=n[2].html+"",i;return{c(){e=new Kt(!1),i=Be(),e.a=i},m(r,l){e.m(t,r,l),M(r,i,l)},p(r,l){l&1&&t!==(t=r[2].html+"")&&e.p(t)},d(r){r&&(N(i),e.d())}}}function Od(n){let e,t;function i(o,s){return o[2].html?Nd:Id}let r=i(n),l=r(n);return{c(){e=A("span"),l.c(),v(e,"class",t=lt(n[2].className)+" svelte-14ktdgy")},m(o,s){M(o,e,s),l.m(e,null)},p(o,s){r===(r=i(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e,null))),s&1&&t!==(t=lt(o[2].className)+" svelte-14ktdgy")&&v(e,"class",t)},d(o){o&&N(e),l.d()}}}function Pd(n){let e,t,i;function r(s,a){return s[2].html?Bd:Md}let l=r(n),o=l(n);return{c(){e=A("a"),o.c(),v(e,"href",t=n[2].url),v(e,"class",i=lt(n[2].className)+" svelte-14ktdgy")},m(s,a){M(s,e,a),o.m(e,null)},p(s,a){l===(l=r(s))&&o?o.p(s,a):(o.d(1),o=l(s),o&&(o.c(),o.m(e,null))),a&1&&t!==(t=s[2].url)&&v(e,"href",t),a&1&&i!==(i=lt(s[2].className)+" svelte-14ktdgy")&&v(e,"class",i)},d(s){s&&N(e),o.d()}}}function Id(n){let e=n[2].label+"",t;return{c(){t=he(e)},m(i,r){M(i,t,r)},p(i,r){r&1&&e!==(e=i[2].label+"")&&Le(t,e)},d(i){i&&N(t)}}}function Nd(n){let e,t=n[2].html+"",i;return{c(){e=new Kt(!1),i=Be(),e.a=i},m(r,l){e.m(t,r,l),M(r,i,l)},p(r,l){l&1&&t!==(t=r[2].html+"")&&e.p(t)},d(r){r&&(N(i),e.d())}}}function Md(n){let e=n[2].label+"",t;return{c(){t=he(e)},m(i,r){M(i,t,r)},p(i,r){r&1&&e!==(e=i[2].label+"")&&Le(t,e)},d(i){i&&N(t)}}}function Bd(n){let e,t=n[2].html+"",i;return{c(){e=new Kt(!1),i=Be(),e.a=i},m(r,l){e.m(t,r,l),M(r,i,l)},p(r,l){l&1&&t!==(t=r[2].html+"")&&e.p(t)},d(r){r&&(N(i),e.d())}}}function ka(n){let e,t;function i(o,s){return o[4]!==o[0].length-1?Sd:o[1]?Dd:Ed}let r=i(n),l=r(n);return{c(){e=A("li"),l.c(),t=j(),v(e,"class","breadcrumbs-item svelte-14ktdgy"),be(e,"full-width",n[4]===n[0].length-1&&n[1])},m(o,s){M(o,e,s),l.m(e,null),k(e,t)},p(o,s){r===(r=i(o))&&l?l.p(o,s):(l.d(1),l=r(o),l&&(l.c(),l.m(e,t))),s&3&&be(e,"full-width",o[4]===o[0].length-1&&o[1])},d(o){o&&N(e),l.d()}}}function Fd(n){let e,t=le(n[0]),i=[];for(let r=0;r<t.length;r+=1)i[r]=ka(ya(n,t,r));return{c(){e=A("ul");for(let r=0;r<i.length;r+=1)i[r].c();v(e,"class","breadcrumbs-wrapper svelte-14ktdgy")},m(r,l){M(r,e,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(r,[l]){if(l&3){t=le(r[0]);let o;for(o=0;o<t.length;o+=1){const s=ya(r,t,o);i[o]?i[o].p(s,l):(i[o]=ka(s),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},i:Se,o:Se,d(r){r&&N(e),xe(i,r)}}}function Rd(n,e,t){let{items:i=[]}=e,{currentIsHeading:r=!0}=e;return n.$$set=l=>{"items"in l&&t(0,i=l.items),"currentIsHeading"in l&&t(1,r=l.currentIsHeading)},[i,r]}class Hd extends Ee{constructor(e){super(),ke(this,e,Rd,Fd,we,{items:0,currentIsHeading:1})}}function Ea(n){let e,t,i;return t=new Hd({props:{items:n[0],currentIsHeading:n[1]}}),{c(){e=A("nav"),ge(t.$$.fragment),v(e,"class","header-breadcrumbs")},m(r,l){M(r,e,l),pe(t,e,null),i=!0},p(r,l){const o={};l&1&&(o.items=r[0]),l&2&&(o.currentIsHeading=r[1]),t.$set(o)},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){V(t.$$.fragment,r),i=!1},d(r){r&&N(e),me(t)}}}function Wd(n){let e,t,i=n[0].length>0&&Ea(n);const r=n[3].default,l=$n(r,n,n[2],null);return{c(){i&&i.c(),e=j(),l&&l.c()},m(o,s){i&&i.m(o,s),M(o,e,s),l&&l.m(o,s),t=!0},p(o,[s]){o[0].length>0?i?(i.p(o,s),s&1&&W(i,1)):(i=Ea(o),i.c(),W(i,1),i.m(e.parentNode,e)):i&&(He(),V(i,1,1,()=>{i=null}),We()),l&&l.p&&(!t||s&4)&&ti(l,r,o,o[2],t?ei(r,o[2],s,null):ni(o[2]),null)},i(o){t||(W(i),W(l,o),t=!0)},o(o){V(i),V(l,o),t=!1},d(o){o&&N(e),i&&i.d(o),l&&l.d(o)}}}function jd(n,e,t){let{$$slots:i={},$$scope:r}=e,{breadcrumbs:l=[]}=e,{currentIsHeading:o=!0}=e;return n.$$set=s=>{"breadcrumbs"in s&&t(0,l=s.breadcrumbs),"currentIsHeading"in s&&t(1,o=s.currentIsHeading),"$$scope"in s&&t(2,r=s.$$scope)},[l,o,r,i]}class nr extends Ee{constructor(e){super(),ke(this,e,jd,Wd,we,{breadcrumbs:0,currentIsHeading:1})}}function qd(n){let e,t,i,r,l,o,s,a,f,u,d,c,m,h,p,g,b,y,D,_,S,w=R.translate("response","fields","Admin")+"",L,C,E=R.translate("status","labels","Admin")+"",T,P,O,H,q,F,U,ae;return t=new nr({props:{breadcrumbs:n[2]}}),{c(){e=A("div"),ge(t.$$.fragment),i=j(),r=A("button"),r.textContent=`${R.translate("execute","labels","Admin")}`,l=j(),o=A("div"),s=A("div"),a=A("div"),f=A("div"),u=A("label"),u.textContent=`${R.translate("Type","fields","Admin")}`,d=j(),c=A("div"),m=j(),h=A("div"),p=A("div"),g=A("label"),g.textContent=`${R.translate("request","fields","Admin")}`,b=j(),y=A("div"),D=j(),_=A("div"),S=A("label"),L=he(w),C=A("span"),T=he(E),P=he(": "),O=A("span"),H=j(),q=A("div"),Ie(r,"margin","10px 7px 0 5px"),v(r,"class","btn btn-primary action"),v(r,"data-action","execute"),v(r,"type","button"),v(e,"class","page-header"),v(u,"class","control-label"),v(u,"data-name","type"),v(c,"class","field"),v(c,"data-name","type"),v(f,"class","col-xs-12 cell form-group"),v(a,"class","row"),v(s,"class","col-sm-3"),v(o,"class","row"),v(g,"class","control-label"),v(g,"data-name","request"),v(y,"class","field"),v(y,"data-name","request"),v(p,"class","col-sm-12 col-md-6 cell form-group"),v(C,"class","pull-right status hidden"),Ie(S,"width","100%"),v(S,"class","control-label"),v(S,"data-name","response"),v(q,"class","field"),v(q,"data-name","response"),v(_,"class","col-sm-12 col-md-6 cell form-group"),v(h,"class","row")},m(se,Pe){M(se,e,Pe),pe(t,e,null),k(e,i),k(e,r),M(se,l,Pe),M(se,o,Pe),k(o,s),k(s,a),k(a,f),k(f,u),k(f,d),k(f,c),M(se,m,Pe),M(se,h,Pe),k(h,p),k(p,g),k(p,b),k(p,y),k(h,D),k(h,_),k(_,S),k(S,L),k(S,C),k(C,T),k(C,P),k(C,O),k(_,H),k(_,q),F=!0,U||(ae=re(r,"click",function(){Ft(n[0](n[1]))&&n[0](n[1]).apply(this,arguments)}),U=!0)},p(se,[Pe]){n=se},i(se){F||(W(t.$$.fragment,se),F=!0)},o(se){V(t.$$.fragment,se),F=!1},d(se){se&&(N(e),N(l),N(o),N(m),N(h)),me(t),U=!1,ae()}}}function zd(n,e,t){let{afterOnMount:i=()=>null}=e,{sendRequest:r=()=>null}=e,l=null;ut(()=>{Br.create("",function(s){t(1,l=s),i(l)})});const o=[{url:"#Admin",label:R.translate("Administration")},{url:"#",label:R.translate("apiRequest","labels","Admin"),className:"header-title"}];return n.$$set=s=>{"afterOnMount"in s&&t(3,i=s.afterOnMount),"sendRequest"in s&&t(0,r=s.sendRequest)},[r,l,o,i]}class Gd extends Ee{constructor(e){super(),ke(this,e,zd,qd,we,{afterOnMount:3,sendRequest:0})}}function Da(n,e,t){const i=n.slice();return i[12]=e[t],i}function Sa(n){let e,t=n[12].label+"",i,r,l,o,s,a,f;function u(){return n[10](n[12])}return{c(){e=A("button"),i=he(t),r=j(),v(e,"data-action",l=n[12].name),e.disabled=n[1],v(e,"type","button"),v(e,"style",o=n[12].cssStyle),v(e,"class",s=`btn action btn-${n[12].style??"default"}`)},m(d,c){M(d,e,c),k(e,i),k(e,r),a||(f=re(e,"click",u),a=!0)},p(d,c){n=d,c&1&&t!==(t=n[12].label+"")&&Le(i,t),c&1&&l!==(l=n[12].name)&&v(e,"data-action",l),c&2&&(e.disabled=n[1]),c&1&&o!==(o=n[12].cssStyle)&&v(e,"style",o),c&1&&s!==(s=`btn action btn-${n[12].style??"default"}`)&&v(e,"class",s)},d(d){d&&N(e),a=!1,f()}}}function Vd(n){let e,t,i,r=le(n[0]),l=[];for(let a=0;a<r.length;a+=1)l[a]=Sa(Da(n,r,a));const o=n[9].default,s=$n(o,n,n[8],null);return{c(){e=A("div");for(let a=0;a<l.length;a+=1)l[a].c();t=j(),s&&s.c(),v(e,"class","button-container"),Ie(e,"padding-top","10px")},m(a,f){M(a,e,f);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);n[11](e),M(a,t,f),s&&s.m(a,f),i=!0},p(a,[f]){if(f&11){r=le(a[0]);let u;for(u=0;u<r.length;u+=1){const d=Da(a,r,u);l[u]?l[u].p(d,f):(l[u]=Sa(d),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=r.length}s&&s.p&&(!i||f&256)&&ti(s,o,a,a[8],i?ei(o,a[8],f,null):ni(a[8]),null)},i(a){i||(W(s,a),i=!0)},o(a){V(s,a),i=!1},d(a){a&&(N(e),N(t)),xe(l,a),n[11](null),s&&s.d(a)}}}function Ud(n,e,t){let{$$slots:i={},$$scope:r}=e,{params:l}=e,{fetch:o}=e,{validate:s=()=>!0}=e,a=!1,{buttonList:f=[{name:"save",label:R.translate("Save","labels"),style:"primary"},{name:"cancel",label:R.translate("Cancel","labels")}]}=e,u;function d(){t(1,a=!0);const p=o();s(p)&&l.onSaved(p),t(1,a=!1)}function c(p){if(p.action){p.action();return}switch(p.name){case"save":d();break}}const m=p=>c(p);function h(p){Me[p?"unshift":"push"](()=>{u=p,t(2,u)})}return n.$$set=p=>{"params"in p&&t(4,l=p.params),"fetch"in p&&t(5,o=p.fetch),"validate"in p&&t(6,s=p.validate),"buttonList"in p&&t(0,f=p.buttonList),"$$scope"in p&&t(8,r=p.$$scope)},[f,a,u,c,l,o,s,d,r,i,m,h]}class Xd extends Ee{constructor(e){super(),ke(this,e,Ud,Vd,we,{params:4,fetch:5,validate:6,buttonList:0,save:7})}get save(){return this.$$.ctx[7]}}function Aa(n,e,t){const i=n.slice();return i[22]=e[t],i}function Ca(n,e,t){const i=n.slice();return i[22]=e[t],i}function Ta(n){let e,t,i;function r(){return n[14](n[22])}return{c(){e=A("a"),e.innerHTML='<i class="fas fa-pencil-alt fa-sm svelte-7ge08f"></i>',v(e,"href","javascript:"),v(e,"data-action","editField"),v(e,"class","edit-field svelte-7ge08f")},m(l,o){M(l,e,o),t||(i=re(e,"click",r),t=!0)},p(l,o){n=l},d(l){l&&N(e),t=!1,i()}}}function La(n){let e,t,i;function r(){return n[15](n[22])}return{c(){e=A("a"),e.innerHTML='<i class="fas fa-times"></i>',v(e,"href","javascript:"),v(e,"data-action","removeField"),v(e,"class","remove-field svelte-7ge08f")},m(l,o){M(l,e,o),t||(i=re(e,"click",r),t=!0)},p(l,o){n=l},d(l){l&&N(e),t=!1,i()}}}function Oa(n,e){let t,i,r,l=e[22].label+"",o,s,a,f,u,d,c,m=e[22].canEdit&&Ta(e),h=e[22].canRemove&&La(e),p=[ir(e[22]),{class:c=(e[22].isGroup?"group":"")+" "+(e[22].groupEnd?"end":"")+" "+(e[1][e[22].name]&&!e[22].isGroup?"in-group":"")}],g={};for(let b=0;b<p.length;b+=1)g=xn(g,p[b]);return{key:n,first:null,c(){t=A("li"),i=A("div"),r=A("label"),o=he(l),a=j(),f=A("div"),m&&m.c(),u=j(),h&&h.c(),d=j(),v(r,"title",s=e[22].label),v(r,"class","svelte-7ge08f"),v(i,"class","left svelte-7ge08f"),v(f,"class","right svelte-7ge08f"),Zt(t,g),be(t,"svelte-7ge08f",!0),this.first=t},m(b,y){M(b,t,y),k(t,i),k(i,r),k(r,o),k(t,a),k(t,f),m&&m.m(f,null),k(f,u),h&&h.m(f,null),k(t,d)},p(b,y){e=b,y&1&&l!==(l=e[22].label+"")&&Le(o,l),y&1&&s!==(s=e[22].label)&&v(r,"title",s),e[22].canEdit?m?m.p(e,y):(m=Ta(e),m.c(),m.m(f,u)):m&&(m.d(1),m=null),e[22].canRemove?h?h.p(e,y):(h=La(e),h.c(),h.m(f,null)):h&&(h.d(1),h=null),Zt(t,g=Fi(p,[y&1&&ir(e[22]),y&3&&c!==(c=(e[22].isGroup?"group":"")+" "+(e[22].groupEnd?"end":"")+" "+(e[1][e[22].name]&&!e[22].isGroup?"in-group":""))&&{class:c}])),be(t,"svelte-7ge08f",!0)},d(b){b&&N(t),m&&m.d(),h&&h.d()}}}function Pa(n,e){let t,i,r,l=e[22].label+"",o,s,a,f=[ir(e[22])],u={};for(let d=0;d<f.length;d+=1)u=xn(u,f[d]);return{key:n,first:null,c(){t=A("li"),i=A("div"),r=A("label"),o=he(l),a=j(),v(r,"title",s=e[22].label),v(r,"class","svelte-7ge08f"),v(i,"class","left svelte-7ge08f"),Zt(t,u),be(t,"svelte-7ge08f",!0),this.first=t},m(d,c){M(d,t,c),k(t,i),k(i,r),k(r,o),k(t,a)},p(d,c){e=d,c&8&&l!==(l=e[22].label+"")&&Le(o,l),c&8&&s!==(s=e[22].label)&&v(r,"title",s),Zt(t,u=Fi(f,[c&8&&ir(e[22])])),be(t,"svelte-7ge08f",!0)},d(d){d&&N(t)}}}function Yd(n){let e,t,i,r,l,o,s,a=[],f=new Map,u,d,c,m,h,p,g,b,y,D=[],_=new Map,S=le(n[0].sort(Na));const w=E=>E[22].name;for(let E=0;E<S.length;E+=1){let T=Ca(n,S,E),P=w(T);f.set(P,a[E]=Oa(P,T))}let L=le(n[3]);const C=E=>E[22].name;for(let E=0;E<L.length;E+=1){let T=Aa(n,L,E),P=C(T);_.set(P,D[E]=Pa(P,T))}return{c(){e=A("div"),t=A("div"),i=A("div"),r=A("header"),r.textContent=`${R.translate("Selected","labels","Admin")}`,l=j(),o=A("div"),s=A("ul");for(let E=0;E<a.length;E+=1)a[E].c();u=j(),d=A("div"),c=j(),m=A("div"),h=A("div"),p=A("header"),p.textContent=`${R.translate("Available","labels","Admin")}`,g=j(),b=A("div"),y=A("ul");for(let E=0;E<D.length;E+=1)D[E].c();v(r,"class","svelte-7ge08f"),v(s,"class","enabled connected svelte-7ge08f"),v(o,"class","rows-wrapper svelte-7ge08f"),v(i,"class","well svelte-7ge08f"),v(t,"class","col-sm-5 svelte-7ge08f"),v(d,"class","col-sm-2 svelte-7ge08f"),v(p,"class","svelte-7ge08f"),v(y,"class","disabled connected svelte-7ge08f"),v(b,"class","rows-wrapper svelte-7ge08f"),v(h,"class","well svelte-7ge08f"),v(m,"class","col-sm-5 svelte-7ge08f"),v(e,"id","layout"),v(e,"class","row svelte-7ge08f")},m(E,T){M(E,e,T),k(e,t),k(t,i),k(i,r),k(i,l),k(i,o),k(o,s);for(let P=0;P<a.length;P+=1)a[P]&&a[P].m(s,null);k(e,u),k(e,d),k(e,c),k(e,m),k(m,h),k(h,p),k(h,g),k(h,b),k(b,y);for(let P=0;P<D.length;P+=1)D[P]&&D[P].m(y,null);n[16](e)},p(E,T){T&2115&&(S=le(E[0].sort(Na)),a=Wt(a,T,w,1,E,S,f,s,Ht,Oa,null,Ca)),T&8&&(L=le(E[3]),D=Wt(D,T,C,1,E,L,_,y,Ht,Pa,null,Aa))},d(E){E&&N(e);for(let T=0;T<a.length;T+=1)a[T].d();for(let T=0;T<D.length;T+=1)D[T].d();n[16](null)}}}function Jd(n){let e,t,i={params:n[2],validate:n[8],fetch:n[7],loadData:n[5],buttonList:n[4],$$slots:{default:[Yd]},$$scope:{ctx:n}};return e=new Xd({props:i}),n[17](e),{c(){ge(e.$$.fragment)},m(r,l){pe(e,r,l),t=!0},p(r,[l]){const o={};l&4&&(o.params=r[2]),l&256&&(o.validate=r[8]),l&128&&(o.fetch=r[7]),l&32&&(o.loadData=r[5]),l&16&&(o.buttonList=r[4]),l&134218315&&(o.$$scope={dirty:l,ctx:r}),e.$set(o)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){n[17](null),me(e,r)}}}function Zd(n){return n.toLowerCase()}function Ia(n,e){return n[e]}function ir(n){let e={};return["name","id"].forEach(t=>{Ia(n,t)!=null&&(e[`data-${Zd(t)}`]=Ia(n,t))}),e}const Na=(n,e)=>n.sortOrder-e.sortOrder;function Kd(n,e,t){let i,r,l,{params:o}=e,{enabledItems:s=[]}=e,{disabledItems:a=[]}=e,{buttonList:f}=e,{loadData:u}=e,{refresh:d=()=>{}}=e,{editItem:c}=e,{getGroupId:m=()=>"id"}=e,{fieldsInGroup:h}=e,p;function g(E){let T=!1,P={};E.forEach(O=>{if(O.isGroup){T=O.name!=="";return}T&&(P[O.name]=!0)}),t(1,h=P)}ut(()=>{b()}),fn(()=>{r&&r.destroy(),l&&l.destroy()});function b(){const E={group:"fields",draggable:"li",animation:150};r=oe.create(i.querySelector("ul.enabled"),{...E,onEnd(T){if(T.to.closest(".connected").classList.contains("enabled")){const[P]=s.splice(T.oldIndex,1);s.splice(T.newIndex,0,P);for(let O=T.newIndex;O<s.length;O++)t(0,s[O].sortOrder=(O>0?s[O-1].sortOrder:0)+O,s);g(s),d()}else{const P=s[T.oldIndex];if(P.canDisabled===!1){d();return}s.splice(T.oldIndex,1),a.splice(T.newIndex,0,P),d()}}}),l=oe.create(i.querySelector("ul.disabled"),{...E,onEnd(T){if(T.to.closest(".connected").classList.contains("disabled")){const[P]=a.splice(T.oldIndex,1);a.splice(T.newIndex,0,P)}else{const P=a[T.oldIndex];a.splice(T.oldIndex,1),s.splice(T.newIndex,0,P);for(let O=T.newIndex;O<s.length;O++)t(0,s[O].sortOrder=(O>0?s[O-1].sortOrder:0)+O,s);g(s),d()}}})}let{fetch:y=()=>{let E=[],T=!1,P=!1;for(let F=0;F<s.length;F++){const U=s[F];if(U.isGroup){T=!U.groupEnd,E.push({id:U.id,name:U.name,color:U.color,iconClass:U.iconClass,items:[]});continue}T?E[E.length-1].items.push(U.name):E.push(U.name)}let O=!1,H=E.filter(F=>{if(typeof F=="object"){if(F.name!==""&&!F.items.length)return!1;if(F.name!==""&&F.items.length)return O=!0,!0;if(F.name===""&&O)return O=!1,!0;if(F.name===""&&!O)return!1}return!0});P=H.length!==E.length,E=H;let q=[];for(let F=0;F<E.length;F++){let U=E[F];q.push(U),typeof U=="object"&&U.name!==""&&(F===E.length-1||!(typeof E[F+1]=="object"&&E[F+1].name===""))&&(P=!0,q.push({id:m(),name:"",items:[]}))}return{adjusted:P,navigation:q}}}=e;function D(E){s.splice(s.findIndex(T=>T.id===E.id),1),d()}let{validate:_=E=>E.length===0?(Ge.notify("Menu cannot be empty","error"),!1):!0}=e;const S=E=>c(E),w=E=>D(E);function L(E){Me[E?"unshift":"push"](()=>{i=E,t(9,i)})}function C(E){Me[E?"unshift":"push"](()=>{p=E,t(10,p)})}return n.$$set=E=>{"params"in E&&t(2,o=E.params),"enabledItems"in E&&t(0,s=E.enabledItems),"disabledItems"in E&&t(3,a=E.disabledItems),"buttonList"in E&&t(4,f=E.buttonList),"loadData"in E&&t(5,u=E.loadData),"refresh"in E&&t(12,d=E.refresh),"editItem"in E&&t(6,c=E.editItem),"getGroupId"in E&&t(13,m=E.getGroupId),"fieldsInGroup"in E&&t(1,h=E.fieldsInGroup),"fetch"in E&&t(7,y=E.fetch),"validate"in E&&t(8,_=E.validate)},n.$$.update=()=>{n.$$.dirty&1&&g(s)},[s,h,o,a,f,u,c,y,_,i,p,D,d,m,S,w,L,C]}class Ma extends Ee{constructor(e){super(),ke(this,e,Kd,Jd,we,{params:2,enabledItems:0,disabledItems:3,buttonList:4,loadData:5,refresh:12,editItem:6,getGroupId:13,fieldsInGroup:1,fetch:7,validate:8})}}function Ba(n){let e,t,i={params:n[0],enabledItems:n[2],disabledItems:n[4],buttonList:n[6],fieldsInGroup:n[5],refresh:n[7],editItem:n[8],getGroupId:vi};return e=new Ma({props:i}),n[9](e),{c(){ge(e.$$.fragment)},m(r,l){pe(e,r,l),t=!0},p(r,l){const o={};l&1&&(o.params=r[0]),l&4&&(o.enabledItems=r[2]),e.$set(o)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){n[9](null),me(e,r)}}}function Qd(n){let e,t=n[3],i,r=Ba(n);return{c(){e=A("div"),r.c()},m(l,o){M(l,e,o),r.m(e,null),i=!0},p(l,[o]){o&8&&we(t,t=l[3])?(He(),V(r,1,1,Se),We(),r=Ba(l),r.c(),W(r,1),r.m(e,null)):r.p(l,o)},i(l){i||(W(r),i=!0)},o(l){V(r),i=!1},d(l){l&&N(e),r.d(l)}}}let xd="_delimiter_";function vi(){return xd+$d()}function $d(){return Math.floor((1+Math.random())*4294967296).toString(16).substring(1)}function ep(n,e,t){let{params:i}=e,r,l=[],o=[],s=0,a={},f=[{name:"save",label:R.translate("Save","labels"),style:"primary"},{name:"cancel",label:R.translate("Cancel","labels")},{name:"addGroup",label:R.translate("addGroup","labels"),cssStyle:"margin-left: 30px",action:()=>{i.onEditItem({id:vi(),groupEnd:!1},h=>{let p=10;l.length&&(p=l[l.length-1].sortOrder+10);let g={isGroup:!0,canEdit:!0,canRemove:!0,isGroup:!0,canDisabled:!1,name:"",label:"",sortOrder:p,...h};l.push(g),g.name!==""&&l.push({id:vi(),isGroup:!0,canEdit:!0,canRemove:!0,isGroup:!0,canDisabled:!1,groupEnd:!0,name:"",label:"",sortOrder:g.sortOrder+1}),u()})}}];function u(){t(3,s++,s)}function d(h){i.onEditItem(h,p=>{let g=l.findIndex(b=>b.id===p.id);t(2,l[g]=p,l),u()})}c();function c(){let h=i.list??[],p=0;for(let g=0;g<h.length;g++){let b=h[g];if(typeof b=="string")ee.get(["scopes",b,"tab"])&&l.push({name:b,label:R.translate(b,"scopeNamesPlural"),sortOrder:p}),p++;else if(typeof b=="object"){l.push({id:b.id??vi(),canEdit:!0,canRemove:!0,isGroup:!0,canDisabled:!1,groupEnd:b.name==="",name:b.name,label:b.name,iconClass:b.iconClass||null,sortOrder:p}),p++;for(const y of b.items)ee.get(["scopes",y,"tab"])&&(l.push({name:y,label:R.translate(y,"scopeNamesPlural"),sortOrder:p}),p++);if(g<h.length-1&&h[g+1].name==="")continue;b.name!==""&&(g===h.length-1||typeof h[g+g]=="string"||b.items.length===0)&&(l.push({id:vi(),canEdit:!0,canRemove:!0,canDisabled:!1,isGroup:!0,groupEnd:!0,name:"",label:"",iconClass:b.iconClass||null,sortOrder:p}),p++)}}Object.entries(ee.get(["scopes"])).forEach(([g,b])=>{b.disabled||b.emHidden||!b.tab||l.find(y=>y.name===g)||o.push({name:g,label:R.translate(g,"scopeNamesPlural")})}),o.sort((g,b)=>g.label.localeCompare(b.label))}function m(h){Me[h?"unshift":"push"](()=>{r=h,t(1,r)})}return n.$$set=h=>{"params"in h&&t(0,i=h.params)},[i,r,l,s,o,a,f,u,d,m]}class tp extends Ee{constructor(e){super(),ke(this,e,ep,Qd,we,{params:0})}}function Fa(n){let e,t,i={params:n[0],enabledItems:n[3],disabledItems:n[4],buttonList:n[6],fieldsInGroup:n[5],refresh:n[7],validate:ip};return e=new Ma({props:i}),n[8](e),{c(){ge(e.$$.fragment)},m(r,l){pe(e,r,l),t=!0},p(r,l){const o={};l&1&&(o.params=r[0]),e.$set(o)},i(r){t||(W(e.$$.fragment,r),t=!0)},o(r){V(e.$$.fragment,r),t=!1},d(r){n[8](null),me(e,r)}}}function np(n){let e,t=n[2],i,r=Fa(n);return{c(){e=A("div"),r.c()},m(l,o){M(l,e,o),r.m(e,null),i=!0},p(l,[o]){o&4&&we(t,t=l[2])?(He(),V(r,1,1,Se),We(),r=Fa(l),r.c(),W(r,1),r.m(e,null)):r.p(l,o)},i(l){i||(W(r),i=!0)},o(l){V(r),i=!1},d(l){l&&N(e),r.d(l)}}}function ip(n){return!0}function rp(n,e,t){let{params:i}=e,r,l=[],o=[],s=0,a={},f=[{name:"save",label:R.translate("Save","labels"),style:"primary"},{name:"cancel",label:R.translate("Cancel","labels")}];function u(){t(2,s++,s)}d();function d(){let m=i.list??[],h=0;for(let p=0;p<m.length;p++){let g=m[p];typeof g=="string"&&(ee.get(["scopes",g,"tab"])&&l.push({name:g,label:R.translate(g,"scopeNamesPlural"),sortOrder:h}),h++)}Object.entries(ee.get(["scopes"])).forEach(([p,g])=>{g.disabled||g.emHidden||!g.tab||l.find(b=>b.name===p)||o.push({name:p,label:R.translate(p,"scopeNamesPlural")})}),o.sort((p,g)=>p.label.localeCompare(g.label))}function c(m){Me[m?"unshift":"push"](()=>{r=m,t(1,r)})}return n.$$set=m=>{"params"in m&&t(0,i=m.params)},[i,r,s,l,o,a,f,u,c]}class lp extends Ee{constructor(e){super(),ke(this,e,rp,np,we,{params:0})}}function Ra(n,{delay:e=0,duration:t=400,easing:i=to}={}){const r=+getComputedStyle(n).opacity;return{delay:e,duration:t,easing:i,css:l=>`opacity: ${l*r}`}}function op(n){let e,t;return{c(){e=A("img"),v(e,"class","preloader svelte-tpjtng"),Cr(e.src,t="client/img/atro-loader.svg")||v(e,"src",t),v(e,"alt","Loading"),Ie(e,"height",`${n[0]}px`)},m(i,r){M(i,e,r)},p(i,[r]){r&1&&Ie(e,"height",`${i[0]}px`)},i:Se,o:Se,d(i){i&&N(e)}}}function ap(n,e,t){let{heightPx:i=12}=e;return n.$$set=r=>{"heightPx"in r&&t(0,i=r.heightPx)},[i]}class rr extends Ee{constructor(e){super(),ke(this,e,ap,op,we,{heightPx:0})}}const lr='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000"><path d="M560-240 320-480l240-240 56 56-184 184 184 184-56 56Z"/></svg>',or='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#5f6368"><path d="M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"/></svg>',Ha='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000"><path d="m640-480 80 80v80H520v240l-40 40-40-40v-240H240v-80l80-80v-280h-40v-80h400v80h-40v280Zm-286 80h252l-46-46v-314H400v314l-46 46Zm126 0Z"/></svg>',Wa='<svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#000"><path d="M680-840v80h-40v327l-80-80v-247H400v87l-87-87-33-33v-47h400ZM480-40l-40-40v-240H240v-80l80-80v-46L56-792l56-56 736 736-58 56-264-264h-6v240l-40 40ZM354-400h92l-44-44-2-2-46 46Zm126-193Zm-78 149Z"/></svg>';function ja(n){let e,t=(n[1]?Wa:Ha)+"",i,r,l;return{c(){e=A("button"),v(e,"class","pin-button svelte-cui6f3"),v(e,"type","button"),v(e,"title",i=R.translate(n[1]?"sidebarUnpin":"sidebarPin"))},m(o,s){M(o,e,s),e.innerHTML=t,r||(l=re(e,"click",n[6]),r=!0)},p(o,s){s&2&&t!==(t=(o[1]?Wa:Ha)+"")&&(e.innerHTML=t),s&2&&i!==(i=R.translate(o[1]?"sidebarUnpin":"sidebarPin"))&&v(e,"title",i)},d(o){o&&N(e),r=!1,l()}}}function qa(n){let e,t,i=R.translate(n[0]?"sidebarExpand":"sidebarCollapse")+"",r,l;return{c(){e=A("span"),t=he(" "),r=he(i),l=he(" "),v(e,"class","collapse-text svelte-cui6f3")},m(o,s){M(o,e,s),k(e,t),k(e,r),k(e,l)},p(o,s){s&1&&i!==(i=R.translate(o[0]?"sidebarExpand":"sidebarCollapse")+"")&&Le(r,i)},d(o){o&&N(e)}}}function sp(n){let e,t=(n[0]?lr:or)+"",i;return{c(){e=new Kt(!1),i=Be(),e.a=i},m(r,l){e.m(t,r,l),M(r,i,l)},p(r,l){l&1&&t!==(t=(r[0]?lr:or)+"")&&e.p(t)},d(r){r&&(N(i),e.d())}}}function up(n){let e,t=(n[0]?or:lr)+"",i;return{c(){e=new Kt(!1),i=Be(),e.a=i},m(r,l){e.m(t,r,l),M(r,i,l)},p(r,l){l&1&&t!==(t=(r[0]?or:lr)+"")&&e.p(t)},d(r){r&&(N(i),e.d())}}}function za(n){let e,t,i;return{c(){e=A("div"),v(e,"class","sidebar-resizer svelte-cui6f3")},m(r,l){M(r,e,l),t||(i=re(e,"mousedown",n[8]),t=!0)},p:Se,d(r){r&&N(e),t=!1,i()}}}function fp(n){let e,t,i,r,l,o,s,a,f,u,d,c,m;const h=n[16].default,p=$n(h,n,n[15],null);let g=!n[5]&&ja(n),b=n[1]&&!n[5]&&qa(n);function y(w,L){return w[2]==="left"?up:sp}let D=y(n),_=D(n),S=!n[0]&&za(n);return{c(){e=A("aside"),t=A("div"),p&&p.c(),i=j(),r=A("div"),g&&g.c(),l=j(),b&&b.c(),o=j(),s=A("button"),_.c(),a=j(),S&&S.c(),v(t,"class","sidebar-inner svelte-cui6f3"),v(s,"class","collapse-button svelte-cui6f3"),v(s,"type","button"),v(r,"class","collapse-strip svelte-cui6f3"),v(e,"class",f=lt(n[3])+" svelte-cui6f3"),be(e,"collapsed",n[0]),be(e,"pinned",n[1]&&!n[5]),Ie(e,"width",n[4])},m(w,L){M(w,e,L),k(e,t),p&&p.m(t,null),k(e,i),k(e,r),g&&g.m(r,null),k(r,l),b&&b.m(r,null),k(r,o),k(r,s),_.m(s,null),k(e,a),S&&S.m(e,null),d=!0,c||(m=[re(s,"click",n[7]),re(r,"click",Kf(n[7])),re(e,"mouseenter",n[10]),re(e,"mouseleave",n[9])],c=!0)},p(w,[L]){p&&p.p&&(!d||L&32768)&&ti(p,h,w,w[15],d?ei(h,w[15],L,null):ni(w[15]),null),w[5]?g&&(g.d(1),g=null):g?g.p(w,L):(g=ja(w),g.c(),g.m(r,l)),w[1]&&!w[5]?b?b.p(w,L):(b=qa(w),b.c(),b.m(r,o)):b&&(b.d(1),b=null),D===(D=y(w))&&_?_.p(w,L):(_.d(1),_=D(w),_&&(_.c(),_.m(s,null))),w[0]?S&&(S.d(1),S=null):S?S.p(w,L):(S=za(w),S.c(),S.m(e,null)),(!d||L&8&&f!==(f=lt(w[3])+" svelte-cui6f3"))&&v(e,"class",f),(!d||L&9)&&be(e,"collapsed",w[0]),(!d||L&42)&&be(e,"pinned",w[1]&&!w[5]),L&16&&Ie(e,"width",w[4])},i(w){d||(W(p,w),w&&Sn(()=>{d&&(u||(u=go(e,Ra,{},!0)),u.run(1))}),d=!0)},o(w){V(p,w),w&&(u||(u=go(e,Ra,{},!1)),u.run(0)),d=!1},d(w){w&&N(e),p&&p.d(w),g&&g.d(),b&&b.d(),_.d(),S&&S.d(),w&&u&&u.end(),c=!1,rt(m)}}}function cp(n,e,t){let{$$slots:i={},$$scope:r}=e,{className:l=""}=e,{isCollapsed:o=!1}=e,{isPinned:s=!0}=e,{minWidth:a=250}=e,{maxWidth:f=600}=e,{width:u=a}=e,{position:d}=e;const c=kn();let m=!1,h=!1,p,g,b,y,D,_,S=!1;const w=()=>{t(5,S=window.innerWidth<=768)};function L(F){t(1,s=!s),c("sidebar-pin",{isPinned:s})}function C(F){t(0,o=F),c("sidebar-collapse",{isCollapsed:o})}function E(){C(!o)}function T(F){m=!0,p=F.pageX,g=u,document.addEventListener("mousemove",O),document.addEventListener("mouseup",P,{once:!0}),document.body.style.userSelect="none"}function P(){m&&(m=!1,c("sidebar-resize",{width:u}),document.removeEventListener("mousemove",O),document.body.style.userSelect="")}function O(F){if(!m)return;F.preventDefault();const U=d=="left"?F.pageX-p:p-F.pageX,ae=g+U;ae>=a&&ae<=f&&requestAnimationFrame(()=>{t(11,u=ae),c("sidebar-resize",{width:u})})}function H(){s||(h=!1,y!==null&&clearTimeout(y),y=null,b=setTimeout(()=>{h||C(!0)},500))}function q(){s||(h=!0,b!==null&&clearTimeout(b),b=null,o&&(y=setTimeout(()=>{h&&C(!1)},500)))}return ut(()=>{w(),window.addEventListener("resize",w)}),fn(()=>{m&&P(),b!==null&&clearTimeout(b),y!==null&&clearTimeout(y),window.removeEventListener("resize",w)}),n.$$set=F=>{"className"in F&&t(12,l=F.className),"isCollapsed"in F&&t(0,o=F.isCollapsed),"isPinned"in F&&t(1,s=F.isPinned),"minWidth"in F&&t(13,a=F.minWidth),"maxWidth"in F&&t(14,f=F.maxWidth),"width"in F&&t(11,u=F.width),"position"in F&&t(2,d=F.position),"$$scope"in F&&t(15,r=F.$$scope)},n.$$.update=()=>{n.$$.dirty&4108&&(t(3,D="sidebar"),d==="left"?t(3,D+=" sidebar-left"):t(3,D+=" sidebar-right"),l&&t(3,D+=` ${l}`)),n.$$.dirty&2049&&t(4,_=o?"auto":`${u}px`)},[o,s,d,D,_,S,L,E,T,H,q,u,l,a,f,r,i]}class Ga extends Ee{constructor(e){super(),ke(this,e,cp,fp,we,{className:12,isCollapsed:0,isPinned:1,minWidth:13,maxWidth:14,width:11,position:2})}}function Va(n,e,t){const i=n.slice();return i[67]=e[t],i}function Ua(n,e,t){const i=n.slice();return i[70]=e[t],i}function dp(n){let e,t,i,r,l,o,s=le(n[9]),a=[];for(let u=0;u<s.length;u+=1)a[u]=Ya(Ua(n,s,u));let f=n[4]&&Ja(n);return{c(){e=A("div"),t=A("div");for(let u=0;u<a.length;u+=1)a[u].c();i=j(),r=A("span"),l=j(),f&&f.c(),o=Be(),v(r,"class","btn layout-editor-container svelte-smsth7"),v(t,"class","btn-group"),v(e,"class","panel-group"),Ie(e,"margin-bottom","10px")},m(u,d){M(u,e,d),k(e,t);for(let c=0;c<a.length;c+=1)a[c]&&a[c].m(t,null);k(t,i),k(t,r),n[40](r),M(u,l,d),f&&f.m(u,d),M(u,o,d)},p(u,d){if(d[0]&16912){s=le(u[9]);let c;for(c=0;c<s.length;c+=1){const m=Ua(u,s,c);a[c]?a[c].p(m,d):(a[c]=Ya(m),a[c].c(),a[c].m(t,i))}for(;c<a.length;c+=1)a[c].d(1);a.length=s.length}u[4]?f?f.p(u,d):(f=Ja(u),f.c(),f.m(o.parentNode,o)):f&&(f.d(1),f=null)},i:Se,o:Se,d(u){u&&(N(e),N(l),N(o)),xe(a,u),n[40](null),f&&f.d(u)}}}function pp(n){let e,t,i;return t=new rr({props:{heightPx:12}}),{c(){e=A("div"),ge(t.$$.fragment),v(e,"class","text-center")},m(r,l){M(r,e,l),pe(t,e,null),i=!0},p:Se,i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){V(t.$$.fragment,r),i=!1},d(r){r&&N(e),me(t)}}}function Xa(n){let e,t=n[70].label+"",i,r,l;function o(){return n[39](n[70])}return{c(){e=A("a"),i=he(t),v(e,"href","javascript:"),v(e,"class","btn btn-link tree-item svelte-smsth7"),be(e,"active",n[70].name===n[4].name)},m(s,a){M(s,e,a),k(e,i),r||(l=re(e,"click",o),r=!0)},p(s,a){n=s,a[0]&512&&t!==(t=n[70].label+"")&&Le(i,t),a[0]&528&&be(e,"active",n[70].name===n[4].name)},d(s){s&&N(e),r=!1,l()}}}function Ya(n){let e,t=n[70].name!==n[4].name&&Xa(n);return{c(){t&&t.c(),e=Be()},m(i,r){t&&t.m(i,r),M(i,e,r)},p(i,r){i[70].name!==i[4].name?t?t.p(i,r):(t=Xa(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&N(e),t&&t.d(i)}}}function Ja(n){let e,t,i=n[4].label+"",r,l,o,s,a,f,u,d,c,m,h,p,g,b,y=n[10]&&Za(n),D=n[4].name!=="_admin"&&Ka(n);return{c(){e=A("div"),t=A("h5"),r=he(i),l=j(),o=A("div"),s=A("div"),a=A("input"),f=j(),u=A("div"),y&&y.c(),d=j(),c=A("button"),m=j(),D&&D.c(),h=j(),p=A("div"),p.innerHTML="",v(e,"class","sidebar-header"),v(a,"type","text"),v(a,"tabindex","1"),v(a,"class","form-control category-search svelte-smsth7"),v(a,"placeholder",R.translate("typeToSearch")),be(a,"search-enabled",!!n[10]),v(c,"class","fas fa-search search-in-tree-button svelte-smsth7"),v(u,"class","button-container svelte-smsth7"),v(s,"class","field svelte-smsth7"),v(s,"data-name","category-search"),v(o,"class","panel-group category-search"),Ie(o,"margin-bottom","20px"),v(p,"class","panel-group category-tree")},m(_,S){M(_,e,S),k(e,t),k(t,r),M(_,l,S),M(_,o,S),k(o,s),k(s,a),n[41](a),k(s,f),k(s,u),y&&y.m(u,null),k(u,d),k(u,c),k(o,m),D&&D.m(o,null),M(_,h,S),M(_,p,S),n[44](p),g||(b=[re(a,"keydown",n[42]),re(c,"click",n[16])],g=!0)},p(_,S){S[0]&16&&i!==(i=_[4].label+"")&&Le(r,i),S[0]&1024&&be(a,"search-enabled",!!_[10]),_[10]?y?y.p(_,S):(y=Za(_),y.c(),y.m(u,d)):y&&(y.d(1),y=null),_[4].name!=="_admin"?D?D.p(_,S):(D=Ka(_),D.c(),D.m(o,null)):D&&(D.d(1),D=null)},d(_){_&&(N(e),N(l),N(o),N(h),N(p)),n[41](null),y&&y.d(),D&&D.d(),n[44](null),g=!1,rt(b)}}}function Za(n){let e,t,i;return{c(){e=A("button"),v(e,"class","fas fa-times reset-search-in-tree-button svelte-smsth7")},m(r,l){M(r,e,l),t||(i=re(e,"click",n[15]),t=!0)},p:Se,d(r){r&&N(e),t=!1,i()}}}function Ka(n){let e,t,i,r,l,o,s,a,f,u,d=le(n[13]),c=[];for(let m=0;m<d.length;m+=1)c[m]=Qa(Va(n,d,m));return{c(){e=A("div"),t=A("div"),i=A("button"),r=A("i"),s=j(),a=A("select");for(let m=0;m<c.length;m+=1)c[m].c();v(r,"class",l=lt("fas "+(n[11]?"fa-sort-amount-up":"fa-sort-amount-down"))+" svelte-smsth7"),v(i,"type","button"),v(i,"class","btn btn-default sort-btn svelte-smsth7"),v(i,"data-tippy","true"),v(i,"title",o=R.translateOption(n[11]?"asc":"desc","sortDirection","Entity")),v(a,"class","form-control svelte-smsth7"),Ie(a,"max-width","300px"),Ie(a,"flex","1"),n[12]===void 0&&Sn(()=>n[43].call(a)),v(t,"class","btn-group"),Ie(t,"display","flex"),Ie(t,"align-items","stretch"),Ie(e,"margin-top","20px"),Ie(e,"display","flex"),Ie(e,"justify-content","space-between"),Ie(e,"flex-wrap","wrap")},m(m,h){M(m,e,h),k(e,t),k(t,i),k(i,r),k(t,s),k(t,a);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(a,null);uo(a,n[12],!0),f||(u=[re(i,"click",n[18]),re(a,"change",n[43]),re(a,"change",n[17])],f=!0)},p(m,h){if(h[0]&2048&&l!==(l=lt("fas "+(m[11]?"fa-sort-amount-up":"fa-sort-amount-down"))+" svelte-smsth7")&&v(r,"class",l),h[0]&2048&&o!==(o=R.translateOption(m[11]?"asc":"desc","sortDirection","Entity"))&&v(i,"title",o),h[0]&8192){d=le(m[13]);let p;for(p=0;p<d.length;p+=1){const g=Va(m,d,p);c[p]?c[p].p(g,h):(c[p]=Qa(g),c[p].c(),c[p].m(a,null))}for(;p<c.length;p+=1)c[p].d(1);c.length=d.length}h[0]&12288&&uo(a,m[12])},d(m){m&&N(e),xe(c,m),f=!1,rt(u)}}}function Qa(n){let e,t=n[67].label+"",i,r,l;return{c(){e=A("option"),i=he(t),r=j(),e.__value=l=n[67].name,so(e,e.__value)},m(o,s){M(o,e,s),k(e,i),k(e,r)},p(o,s){s[0]&8192&&t!==(t=o[67].label+"")&&Le(i,t),s[0]&8192&&l!==(l=o[67].name)&&(e.__value=l,so(e,e.__value))},d(o){o&&N(e)}}}function mp(n){let e,t,i,r;const l=[pp,dp],o=[];function s(a,f){return a[9].length>0?1:-1}return~(t=s(n))&&(i=o[t]=l[t](n)),{c(){e=A("div"),i&&i.c(),v(e,"class","category-panel"),be(e,"hidden",n[1])},m(a,f){M(a,e,f),~t&&o[t].m(e,null),r=!0},p(a,f){let u=t;t=s(a),t===u?~t&&o[t].p(a,f):(i&&(He(),V(o[u],1,1,()=>{o[u]=null}),We()),~t?(i=o[t],i?i.p(a,f):(i=o[t]=l[t](a),i.c()),W(i,1),i.m(e,null)):i=null),(!r||f[0]&2)&&be(e,"hidden",a[1])},i(a){r||(W(i),r=!0)},o(a){V(i),r=!1},d(a){a&&N(e),~t&&o[t].d()}}}function hp(n){let e,t,i,r,l;function o(u){n[45](u)}function s(u){n[46](u)}function a(u){n[47](u)}let f={className:"catalog-tree-panel",position:"left",minWidth:n[2],maxWidth:n[3],$$slots:{default:[mp]},$$scope:{ctx:n}};return n[0]!==void 0&&(f.width=n[0]),n[1]!==void 0&&(f.isCollapsed=n[1]),n[5]!==void 0&&(f.isPinned=n[5]),e=new Ga({props:f}),Me.push(()=>Tn(e,"width",o)),Me.push(()=>Tn(e,"isCollapsed",s)),Me.push(()=>Tn(e,"isPinned",a)),e.$on("sidebar-resize",n[19]),e.$on("sidebar-collapse",n[20]),e.$on("sidebar-pin",n[21]),{c(){ge(e.$$.fragment)},m(u,d){pe(e,u,d),l=!0},p(u,d){const c={};d[0]&4&&(c.minWidth=u[2]),d[0]&8&&(c.maxWidth=u[3]),d[0]&16338|d[2]&2048&&(c.$$scope={dirty:d,ctx:u}),!t&&d[0]&1&&(t=!0,c.width=u[0],An(()=>t=!1)),!i&&d[0]&2&&(i=!0,c.isCollapsed=u[1],An(()=>i=!1)),!r&&d[0]&32&&(r=!0,c.isPinned=u[5],An(()=>r=!1)),e.$set(c)},i(u){l||(W(e.$$.fragment,u),l=!0)},o(u){V(e.$$.fragment,u),l=!1},d(u){me(e,u)}}}function bi(){return window.location.hash.split("/").shift().replace("#","")}function ar(n){n&&n.length&&n.find(".reset-button").remove()}function gp(n){let e=[];return(n||"").split("|").forEach(t=>{t&&e.push(t)}),e}function vp(n,e,t){((t||n.tree("getTree")).children||[]).findIndex(l=>e.id===l.id)===-1&&n.tree("appendNode",e,t)}function bp(n,e,t){((t||n.tree("getTree")).children||[]).findIndex(l=>e.id===l.id)===-1&&n.tree("prependNode",e,t)}function el(n,e,t){if(!Array.isArray(e)||e.length===0){t();return}const i=e[0];let r=n.find(`.jqtree-title[data-id="${i}"]`);r.length>0&&r.each((l,o)=>{if(o=window.$(o),o.parent().parent().hasClass("jqtree-closed")){let a=n.tree("getNodeByHtmlElement",o);n.tree("openNode",a,!1,()=>el(n,e.slice(1),t))}else el(n,e.slice(1),t)})}function _p(n,e,t){let i,{scope:r}=e,{model:l}=e,{collection:o}=e,{callbacks:s}=e,{minWidth:a=300}=e,{maxWidth:f=600}=e,{currentWidth:u=a}=e,{isCollapsed:d=!1}=e,{mode:c}=e,{maxSize:m=yo.get("recordsPerPageSmall")||20}=e,{renderLayoutEditor:h}=e,{isAdminPage:p=!1}=e,g=!0,b,y,D,_=[],S,w="",L,C,E,T=!0,P=null,O=[];function H(B){o&&B.name===r&&ue.set("treeWhereData",r,B.where),d||q()}function q(){F(),ae()}function F(){let B=window.$(b);B&&B.tree("destroy")}function U(){let B=ue.get("treeWhereData",r)||[];return["_self","_bookmark"].includes(S.name)||(B=[]),B}function ae(B=null){if(!S)return;S.name==="_admin"&&(B=at());let ie=window.$(b),I=U();if(B===null&&w&&ee.get(["scopes",L,"type"])==="Hierarchy"&&!ee.get(["scopes",L,"hierarchyDisabled"])){I.push({type:"textFilter",value:w}),Espo.ajax.getRequest(`${L}/action/TreeData`,{where:I,scope:r,link:S.name,sortBy:P,asc:!!T}).then(X=>{ae(X.tree)});return}let z={dataUrl:$e(),dataFilter:X=>Ne(X),selectable:!0,saveState:!1,autoOpen:!1,dragAndDrop:ee.get(["scopes",L,"multiParents"])!==!0&&ee.get(["scopes",L,"dragAndDrop"])&&P==="sortOrder",useContextMenu:!1,closedIcon:window.$('<i class="fa fa-angle-right"></i>'),openedIcon:window.$('<i class="fa fa-angle-down"></i>'),onCreateLi:(function(X,K,Q){X.disabled?K.addClass("disabled"):K.removeClass("disabled");const _e=K.find(".jqtree-title");if(w){let Xe=w.replace(/\*/g,"");if(Xe.length>0){let _t=_e.html(),tn=_t.match(new RegExp(Xe,"ig"));if(tn){let Mt=[];tn.forEach(nn=>{Mt.includes(nn)||(Mt.push(nn),_e.html(_t.replace(new RegExp(nn,"g"),`<b>${nn}</b>`)))})}}}["_self","_bookmark"].includes(S.name)&&l&&l.get("id")===X.id&&(ie.tree("addToSelection",X),K.addClass("jqtree-selected")),!["_self","_bookmark"].includes(S.name)&&E===X.id&&(ie.tree("addToSelection",X),K.addClass("jqtree-selected")),S.name==="_admin"&&(ee.get(["scopes",bi()])&&X.id.includes("#"+bi()+"/")&&Re(bi())||X.id===window.location.hash)&&(ie.tree("addToSelection",X),K.addClass("jqtree-selected")),_e.attr("data-id",X.id),X.showMoreDirection?(K.addClass("show-more"),K.addClass("show-more-"+X.showMoreDirection),K.find(".jqtree-title").addClass("more-label")):_e.attr("title",X.name)}).bind(this)};B&&(z.data=B,z.autoOpen=!0,z.dragAndDrop=!1,delete z.dataUrl,delete z.dataFilter),ie.tree(z),ie.on("tree.load_data",X=>{Ge.notify(!1),s!=null&&s.treeLoad&&s.treeLoad(L,z)}),ie.on("tree.refresh",X=>{if(S.name==="_admin"){let K=bi();ee.get(["scopes",K])&&(Ke(K,[]),s!=null&&s.selectNode&&s.selectNode({id:K},!0));return}if(ue.get("selectedNodeId",r)&&c==="list"){const K=ue.get("selectedNodeId",r),Q=ue.get("selectedNodeRoute",r);s!=null&&s.selectNode&&s.selectNode({id:K,route:Q},!0)}c==="detail"&&(l&&["_self","_bookmark"].includes(S.name)?Ke(l.get("id"),Object.keys(l.get("hierarchyRoute")??[]).reverse()):ue.get("selectedNodeId",r)&&Ke(ue.get("selectedNodeId",r),gp(ue.get("selectedNodeRoute",r))))}),ie.on("tree.move",X=>{X.preventDefault();const K="parent";let Q=X.move_info,_e={_position:Q.position,_sortAsc:T,_target:Q.target_node.id};_e[K+"Id"]=null,_e[K+"Name"]=null,Q.position==="inside"?(_e[K+"Id"]=Q.target_node.id,_e[K+"Name"]=Q.target_node.name):Q.target_node.parent.id&&(_e[K+"Id"]=Q.target_node.parent.id,_e[K+"Name"]=Q.target_node.parent.name),Espo.ajax.patchRequest(`${L}/${Q.moved_node.id}`,_e).success(Xe=>{Q.do_move()})}),ie.on("tree.click",X=>{if(X.preventDefault(),S.name==="_admin"&&!X.node.disabled){window.location.href=X.node.id;return}if(X.node.disabled)return!1;const K=window.$(X.click_event.target);if(K.hasClass("jqtree-title")||K.parent().hasClass("jqtree-title")){let Q=X.node;if(Q.showMoreDirection)return Pe(Q);Q.element&&se(window.$(Q.element));let _e=[];for(;Q.parent.id;)_e.push(Q.parent.id),Q=Q.parent;let Xe={id:X.node.id,route:"",click:!0};_e.length>0&&(Xe.route="|"+_e.reverse().join("|")+"|"),s!=null&&s.selectNode&&s.selectNode(Xe)}})}function se(B){if(B&&B.length&&(ar(B),E&&i)){const ie=document.createElement("span");ie.classList.add("reset-button","fa","fa-times","pull-right"),ie.addEventListener("click",()=>{ar(B),et()}),B.append(ie)}}function Pe(B){Ge.notify("Loading..."),Espo.ajax.getRequest($e(B)).then(ie=>{if(ie.list){const I=window.$(b);B.showMoreDirection==="up"?Ne(JSON.parse(JSON.stringify(ie)),"up").reverse().forEach(z=>{bp(I,z,B.getParent())}):B.showMoreDirection==="down"&&Ne(JSON.parse(JSON.stringify(ie)),"down").forEach(z=>{vp(I,z,B.getParent())}),I.tree("removeNode",B)}})}function $e(B){let ie=L+`/action/Tree?isTreePanel=1&scope=${r}&link=${S.name}`;if(P&&(ie+=`&sortBy=${P}&asc=${T?"true":"false"}`),B&&B.showMoreDirection){let z=B.offset,X=m;if(B.showMoreDirection==="up"){let K=B.offset-X;z=B.offset-X,K<0?(z=0,X=X+K):z=K}else B.showMoreDirection==="down"&&(z=z+1);ie+="&offset="+z+"&maxSize="+X,B.getParent()&&(ie+="&node="+B.getParent().id)}else B&&B.id?ie+="&node="+B.id+"&offset=0&maxSize="+m:l&&l.id&&[l.urlRoot,"Bookmark"].includes(L)&&(ie+="&selectedId="+l.id);let I=U();return w&&(I=[...I,{type:"textFilter",value:w}]),I.length>0&&(ie+="&",ie+=window.$.param({where:I})),ie}function Ke(B,ie){const I=window.$(b);el(I,ie,()=>{let X=I.tree("getNodeById",B);X&&(I.tree("addToSelection",X),E=B),I.find(".jqtree-title").each((K,Q)=>{Q=window.$(Q);let _e=Q.parent().parent();if(Q.data("id")!==B&&I.tree("getNodeById",Q.data("id"))){I.tree("removeFromSelection",I.tree("getNodeById",Q.data("id"))),_e.removeClass("jqtree-selected"),ar(_e);return}else _e.hasClass("jqtree-selected")||_e.addClass("jqtree-selected");_e.hasClass("jqtree-selected")&&se(_e)})})}function et(){s!=null&&s.selectNode&&s.selectNode({id:E})}function ce(B){const ie=De(),I=ie.tree("getNodeById",B);E=null,I&&(I.element&&ar(window.$(I.element)),ie.tree("removeFromSelection",I))}function De(){return window.$(b)}function Ne(B,ie=null){return B.list?(qe(B.list,ie),B.list):B}function qe(B,ie){if(!ie||ie==="up"){let I=JSON.parse(JSON.stringify(B)).shift();I&&I.offset&&I.offset!==0&&B.unshift({id:"show-more-"+I.offset,offset:I.offset,showMoreDirection:"up",name:R.translate("Show more")})}if(!ie||ie==="down"){let I=JSON.parse(JSON.stringify(B)).pop();I&&I.offset&&I.total-1!==I.offset&&B.push({id:"show-more-"+I.offset,offset:I.offset,showMoreDirection:"down",name:R.translate("Show more")})}B.forEach(I=>{I.children&&qe(I.children)})}function tt(B){return B==="_self"?r:B==="_bookmark"?"Bookmark":ee.get(["entityDefs",r,"links",B,"entity"])||ee.get(["entityDefs",r,"fields",B,"entity"])}function Ze(B){S&&S.name===B.name||(t(10,w=""),t(8,D.value="",D),ue.clear("treeSearchValue",L),ue.clear("treeSearchValue","_admin"),c==="list"?E&&(s!=null&&s.selectNode&&s.selectNode({id:E}),E=null):E=null,t(4,S=B),ye(!1),ue.set("treeItem",r,B.name),Ge.notify("Loading..."),cn().then(()=>{q()}))}function Y(){t(8,D.value="",D),c==="detail"&&ue.clear("treeWhereData",r),G()}function G(){t(10,w=D.value),w&&S.name==="_admin"?ue.set("treeSearchValue","_admin",w):w?ue.set("treeSearchValue",r,w):(ue.clear("treeSearchValue",r),ue.clear("treeSearchValue","_admin")),Ge.notify("Loading..."),q()}function Z(){L==="Bookmark"&&q()}function $(){return C}function de(B){t(12,P=B.target.value),ue.set("treeItemSorting",r,{sortBy:P,sortAsc:T}),q()}function Oe(B){B.preventDefault(),t(11,T=!T),ue.set("treeItemSorting",r,{sortBy:P,sortAsc:T}),q()}function Re(B){let ie=0;for(const I of at())for(const z of I.children)z.id.includes("#"+B)&&(ie+=1);return ie==1}function at(){let B=ee.get(["app","adminPanel"]),ie=Object.keys(B).length,I=[],z=0;return Object.entries(B).forEach(([X,K])=>{let Q={id:X,name:R.get("Admin","labels",K.label)??K.label,offset:z,total:ie,disabled:!0,load_on_demand:!1,children:[]},_e=0,Xe=K.itemList.length;for(const _t of K.itemList){if(_t.listDisabled)continue;const tn=R.translate(_t.label,"labels","Admin");((w??"").length<3||tn.toLowerCase().includes(w.toLowerCase()))&&(Q.children.push({id:_t.url,name:tn,offset:_e,total:Xe,disabled:!1,load_on_demand:!1}),_e++)}Q.children.length!==0&&(I.push(Q),z++)}),I}function ne(B){p?(t(4,S={name:"_admin",label:R.get("Global","labels","Administration")}),t(9,_=[S]),B()):qt.get(r,"leftSidebar",null,null,ie=>{C=ie,t(9,_=ie.layout.map(z=>{const X=ee.get(["entityDefs",r,"fields",z.name,"type"]);let K="";if(z.name==="_self")K=R.get("Global","scopeNamesPlural",r);else if(z.name==="_bookmark")K=R.get("Global","scopeNamesPlural","Bookmark");else if(z.name==="_admin")K=R.get("Global","labels","Administration");else{if(X=="link"){const Q=tt(z.name);K=R.get("Global","scopeNamesPlural",Q)}K||(K=R.get(r,"links",z.name)||R.get(r,"fields",z.name)||R.get("Global","fields",z.name))}return{name:z.name,label:K}}));let I=ue.get("treeItem",r);bi()===r&&(I="_admin"),_.length>0&&(!I||!_.find(z=>z.name===I)?(ue.set("treeItem",r,_[0].name),t(4,S=_[0])):t(4,S=_.find(z=>z.name===I)),ye(!0)),B()})}function ye(B){var ie;if(t(38,L=tt(S.name)),L==="Bookmark"&&t(38,L=r),B&&S.name===ue.get("treeItem",r)){const I=ue.get("treeItemSorting",r);if(I&&typeof I=="object"&&ee.get(["entityDefs",L,"fields",I.sortBy])){t(11,T=I.sortAsc),t(12,P=I.sortBy);return}}ee.get(["scopes",L,"type"])==="Hierarchy"&&!ee.get(["scopes",L,"hierarchyDisabled"])&&S.name!=="_bookmark"?t(12,P="sortOrder"):t(12,P=ee.get(["entityDefs",L,"collection","sortBy"])||"name"),ee.get(["entityDefs",L,"fields",P])||t(12,P=(ie=O[0])==null?void 0:ie.name),t(11,T=!!ee.get(["entityDefs",L,"collection","asc"])),ue.set("treeItemSorting",r,{sortBy:P,sortAsc:T})}function Te(){ne(()=>{cn().then(()=>{q()})})}ut(()=>{const B=ue.get("panelWidth",r);B&&t(0,u=parseInt(B)||a),(window.innerWidth<=767||ue.get("catalog-tree-panel",r))&&t(1,d=!0),t(5,g=ue.get("catalog-tree-panel-pin",r)!=="not-pinned"),ne(()=>{var ie,I;_.length===0&&(t(1,d=!0),(I=(ie=gt.get())==null?void 0:ie.user)!=null&&I.isAdmin),cn().then(()=>{S.name==="_admin"?t(10,w=ue.get("treeSearchValue","_admin")||null):t(10,w=ue.get("treeSearchValue",r)||null),w&&t(8,D.value=w,D),d||ae(),h&&h(y)})})});function Ue(B){ue.set("panelWidth",r,u.toString()),s!=null&&s.treeWidthChanged&&s.treeWidthChanged(u)}function it(B){ue.set("catalog-tree-panel",r,d?"collapsed":""),d||q()}function Nt(B){ue.set("catalog-tree-panel-pin",r,g?"pin":"not-pinned")}const Xt=B=>Ze(B);function hn(B){Me[B?"unshift":"push"](()=>{y=B,t(7,y)})}function Rn(B){Me[B?"unshift":"push"](()=>{D=B,t(8,D)})}const Hn=B=>B.key==="Enter"&&G();function Wn(){P=$f(this),t(12,P),t(13,O),t(38,L),t(22,r),t(4,S)}function jn(B){Me[B?"unshift":"push"](()=>{b=B,t(6,b)})}function tl(B){u=B,t(0,u)}function nl(B){d=B,t(1,d)}function il(B){g=B,t(5,g)}return n.$$set=B=>{"scope"in B&&t(22,r=B.scope),"model"in B&&t(23,l=B.model),"collection"in B&&t(24,o=B.collection),"callbacks"in B&&t(25,s=B.callbacks),"minWidth"in B&&t(2,a=B.minWidth),"maxWidth"in B&&t(3,f=B.maxWidth),"currentWidth"in B&&t(0,u=B.currentWidth),"isCollapsed"in B&&t(1,d=B.isCollapsed),"mode"in B&&t(26,c=B.mode),"maxSize"in B&&t(27,m=B.maxSize),"renderLayoutEditor"in B&&t(28,h=B.renderLayoutEditor),"isAdminPage"in B&&t(29,p=B.isAdminPage)},n.$$.update=()=>{if(n.$$.dirty[0]&16&&t(38,L=S?tt(S.name):null),n.$$.dirty[0]&67108880&&(i=S&&(!["_self","_bookmark"].includes(S.name)&&c==="list"||S.name==="_admin")),n.$$.dirty[0]&4194304|n.$$.dirty[1]&128)if(!L)t(13,O=[]);else{const B=L==="Bookmark"?r:L,ie=ee.get(["entityDefs",B,"fields"]);t(13,O=Object.keys(ie).filter(function(I){return["varchar","text","int","float","date","datetime"].includes(ie[I].type)&&!ie[I].notStorable}).sort(function(I,z){return R.translate(I,"fields",B).localeCompare(R.translate(z,"fields",B))}).map(I=>({name:I,label:R.translate(I,"fields",B)})))}},[u,d,a,f,S,g,b,y,D,_,w,T,P,O,Ze,Y,G,de,Oe,Ue,it,Nt,r,l,o,s,c,m,h,p,H,q,Ke,ce,De,Z,$,Te,L,Xt,hn,Rn,Hn,Wn,jn,tl,nl,il]}class wp extends Ee{constructor(e){super(),ke(this,e,_p,hp,we,{scope:22,model:23,collection:24,callbacks:25,minWidth:2,maxWidth:3,currentWidth:0,isCollapsed:1,mode:26,maxSize:27,renderLayoutEditor:28,isAdminPage:29,handleCollectionSearch:30,rebuildTree:31,selectTreeNode:32,unSelectTreeNode:33,getTreeEl:34,reloadBookmarks:35,getLayoutData:36,refreshLayout:37},null,[-1,-1,-1])}get handleCollectionSearch(){return this.$$.ctx[30]}get rebuildTree(){return this.$$.ctx[31]}get selectTreeNode(){return this.$$.ctx[32]}get unSelectTreeNode(){return this.$$.ctx[33]}get getTreeEl(){return this.$$.ctx[34]}get reloadBookmarks(){return this.$$.ctx[35]}get getLayoutData(){return this.$$.ctx[36]}get refreshLayout(){return this.$$.ctx[37]}}function xa(n,e,t){const i=n.slice();return i[21]=e[t],i}function $a(n){let e,t,i,r=le(n[1]),l=[];for(let o=0;o<r.length;o+=1)l[o]=es(xa(n,r,o));return{c(){e=A("h5"),e.textContent=`${R.translate("General Filters")}`,t=j(),i=A("ul");for(let o=0;o<l.length;o+=1)l[o].c();v(i,"class","svelte-1acy7p6")},m(o,s){M(o,e,s),M(o,t,s),M(o,i,s);for(let a=0;a<l.length;a+=1)l[a]&&l[a].m(i,null)},p(o,s){if(s&71){r=le(o[1]);let a;for(a=0;a<r.length;a+=1){const f=xa(o,r,a);l[a]?l[a].p(f,s):(l[a]=es(f),l[a].c(),l[a].m(i,null))}for(;a<l.length;a+=1)l[a].d(1);l.length=r.length}},d(o){o&&(N(e),N(t),N(i)),xe(l,o)}}}function es(n){let e,t,i,r,l,o,s=R.translate(n[21],"boolFilters",n[0])+"",a,f,u,d;function c(...m){return n[11](n[21],...m)}return{c(){e=A("li"),t=A("label"),i=A("input"),o=j(),a=he(s),f=j(),v(i,"type","checkbox"),i.checked=r=n[2].includes(n[21]),v(i,"name",l=n[21]),v(t,"class","svelte-1acy7p6"),be(t,"active",n[2].includes(n[21])),v(e,"class","checkbox svelte-1acy7p6")},m(m,h){M(m,e,h),k(e,t),k(t,i),k(t,o),k(t,a),k(e,f),u||(d=re(i,"change",c),u=!0)},p(m,h){n=m,h&6&&r!==(r=n[2].includes(n[21]))&&(i.checked=r),h&2&&l!==(l=n[21])&&v(i,"name",l),h&3&&s!==(s=R.translate(n[21],"boolFilters",n[0])+"")&&Le(a,s),h&6&&be(t,"active",n[2].includes(n[21]))},d(m){m&&N(e),u=!1,d()}}}function yp(n){var w;let e,t,i,r,l,o,s,a,f=R.translate("apply")+"",u,d,c,m,h,p=R.translate("Unset")+"",g,b,y,D,_,S=((w=n[1])==null?void 0:w.length)>0&&$a(n);return{c(){e=A("div"),S&&S.c(),t=j(),i=A("h5"),i.textContent=`${R.translate("Advanced Filters")}`,r=j(),l=A("div"),o=A("button"),s=A("span"),a=j(),u=he(f),d=j(),c=A("button"),m=A("span"),h=j(),g=he(p),b=j(),y=A("div"),v(s,"class","fas fa-check fa-sm"),v(o,"class","filter-item svelte-1acy7p6"),v(o,"data-action","filter"),v(o,"data-name","posts"),v(m,"class","fas fa-times fa-sm"),v(c,"class","filter-item svelte-1acy7p6"),v(c,"data-action","filter"),v(c,"data-name","posts"),v(l,"class","row filter-action svelte-1acy7p6"),v(y,"class","query-builder")},m(L,C){M(L,e,C),S&&S.m(e,null),k(e,t),k(e,i),k(e,r),k(e,l),k(l,o),k(o,s),k(o,a),k(o,u),k(l,d),k(l,c),k(c,m),k(c,h),k(c,g),k(e,b),k(e,y),n[12](y),D||(_=[re(o,"click",n[4]),re(c,"click",n[5])],D=!0)},p(L,[C]){var E;((E=L[1])==null?void 0:E.length)>0?S?S.p(L,C):(S=$a(L),S.c(),S.m(e,t)):S&&(S.d(1),S=null)},i:Se,o:Se,d(L){L&&N(e),S&&S.d(),n[12](null),D=!1,rt(_)}}}function _i(n){let e=[".query-builder .rule-container .rule-filter-container",".query-builder .rule-container .rule-operator-container",".query-builder .rule-container .rule-value-container"];for(const i of e){let r=document.querySelectorAll(i);if(!r.length)return;for(const l of r)l.style.display!=="none"&&(n<450?(l.style.display="block",l.style.width="100%"):(l.style.display="inline-block",l.style.width="25%",i.includes("operator")&&(l.style.width="20%")))}let t=document.querySelector(".query-builder .rule-actions");t&&(n>450?(t.style.marginTop="10px",t.style.marginBottom="5px"):(t.style.marginTop="0",t.style.marginBottom="0"))}function kp(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ts(n){let e=[];return n.forEach(t=>{t.rules?ts(t.rules).forEach(i=>{e.push(i)}):t.id&&e.push(t.id)}),e}function Ep(n,e,t){let{scope:i}=e,{collection:r}=e,{createView:l}=e,{mandatoryBoolFilter:o=[]}=e,{parentWidth:s}=e,a,f,u=[],d,c=new r.model;function m(){const C=window.$(d),E=ue.get("queryBuilderRules",i)||[],T="emptyAttributeRule";let P={};for(const O of a){let H=O.optgroup??"default";P[H]=P[H]??[],P[H].push(O)}for(const O in P)P[O].sort(function(H,q){return H.label.localeCompare(q.label)});if(D()){let O={id:T,label:`[${R.translate("addAttribute")}]`,type:"boolean",optgroup:R.translate("Attributes"),operators:["equal"],input:"radio",values:{0:"false"}};P[R.translate("Attributes")]?(P[R.translate("Attributes")]=P[R.translate("Attributes")].filter(H=>H.id!==O.id),P[R.translate("Attributes")].unshift(O)):P[R.translate("Attributes")]=[O]}a=[...P[R.translate("Attributes")]??[],...P.default??[],...P[R.translate("Fields")]??[]],C.queryBuilder({allow_empty:!0,select_placeholder:R.translate("filterPlaceHolder"),operators:[{type:"contains"},{type:"not_contains"},{type:"equal"},{type:"not_equal"},{type:"less"},{type:"less_or_equal"},{type:"greater"},{type:"greater_or_equal"},{type:"between"},{type:"in"},{type:"not_in"},{type:"is_null"},{type:"is_not_null"},{type:"linked_with",nb_inputs:1,multiple:!0,apply_to:["string"]},{type:"not_linked_with",nb_inputs:1,multiple:!0,apply_to:["string"]},{type:"array_any_of",nb_inputs:1,multiple:!0,apply_to:["string"]},{type:"array_none_of",nb_inputs:1,multiple:!0,apply_to:["string"]},{type:"is_linked",nb_inputs:0,apply_to:["string"]},{type:"is_not_linked",nb_inputs:0,apply_to:["string"]},{type:"query_in",nb_inputs:1,apply_to:["string"]},{type:"query_linked_with",nb_inputs:1,apply_to:["string"]}],rules:E,filters:a,plugins:{sortable:{icon:"fas fa-sort"}}}),c.trigger("afterInitQueryBuilder"),_i(s),C.on("rulesChanged.queryBuilder",(O,H)=>{setTimeout(()=>{_i(s)},500);try{const q=C.queryBuilder("getRules");console.log("rules",q,"e",O,"rule",H),q&&ue.set("queryBuilderRules",i,q)}catch{}c.trigger("rulesChanged",H)}),C.on("afterUpdateRuleOperator.queryBuilder",(O,H)=>{c.trigger("afterUpdateRuleOperator",H)}),C.on("afterAddGroup.queryBuilder",(O,H)=>{c.trigger("afterAddGroup",H),_i(s)}),C.on("afterAddRule.queryBuilder",(O,H)=>{setTimeout(()=>{_i(s)},500),c.trigger("afterAddRule",H)})}function h(C){a=[];let E=[];Object.entries(ee.get(["entityDefs",i,"fields"])).forEach(([P,O])=>{if(O.filterDisabled)return;const H=kp(O.type),q=ee.get(["fields",H,"view"])||`views/fields/${H}`;E.push(new Promise(F=>{l(P,q,{name:P,model:c,defs:{name:P,params:{attribute:null}}},U=>{let ae=U.createQueryBuilderFilter();ae&&a.push(ae),F()})}))});const T=ue.get("queryBuilderRules",i);T.rules&&E.push(new Promise(P=>{let O=[];if(ts(T.rules).forEach(H=>{let q=H.split("_");q.length===2&&q[0]==="attr"&&O.push(q[1])}),O.length>0){const H=[{attribute:"id",type:"in",value:O}];let q=gt.get();fetch("/api/v1/Attribute?"+window.$.param({where:H}),{method:"GET",headers:{"Content-Type":"application/json","Authorization-Token":btoa(q.user.userName+":"+q.token)}}).then(F=>F.json().then(U=>{U.list?U.list.forEach(ae=>{y(ae,(se,Pe)=>{P()})}):P()}))}else P()})),Promise.all(E).then(()=>{C()})}function p(){window.$(d).queryBuilder("validate")?b():Ge.notify(R.translate("They are some errors on your query"),"error")}function g(){ue.set("queryBuilderRules",i,[]),window.$(d).queryBuilder("reset")}function b(){r.reset(),Ge.notify("Please wait...");let C=[ue.get("queryBuilderRules",i)];(u.length||o.length)&&C.push({type:"bool",value:[...u,...o]}),t(7,r.where=C,r),r.fetch().then(()=>window.Backbone.trigger("after:search",r))}function y(C,E){const T=window.Espo.Utils.camelCaseToHyphen(C.type),P=ee.get(["fields",T,"view"])??`views/fields/${T}`,O=`attr_${C.id}`;l(O,P,{name:O,model:c,defs:{name:O,params:{attribute:C}}},H=>{let q=H.createQueryBuilderFilter();q&&(q.label=C.name,q.optgroup=R.translate("Attributes"),a.map(U=>U.id).includes(O)?E(!1,q):(a.push(q),E(!0,q)))})}function D(){return ee.get(["scopes",i,"hasAttribute"])||i==="Product"}function _(C){const E="Attribute";if(Wi.check(i,"read")){const T=ee.get(["clientDefs",E,"modalViews","select"])||"views/modals/select-records";Ge.notify("Loading..."),l("dialog",T,{scope:E,multiple:!1,createButton:!1,massRelateEnabled:!1,allowSelectAllResult:!1},P=>{P.render(),Ge.notify(!1),P.dialog.$el.on("hidden.bs.modal",O=>{C&&C(!1)}),P.listenTo(P,"cancel, close",()=>{C&&C(!1)}),P.once("select",O=>{y(O.attributes,(H,q)=>{C&&C(H,q)})})})}}function S(C,E){C.target.checked?t(2,u=[...u,E]):t(2,u=[...u.filter(P=>P!==E)]),ue.set("selectedFilterList",i,u),b()}ut(()=>{t(1,f=(ee.get(["clientDefs",i,"boolFilterList"])||[]).filter(function(P){return typeof P=="string"?!0:(P=P||{},!(P.accessDataList&&!window.Espo.Utils.checkAccessDataList(P.accessDataList,Wi,Wi.getUser())))}).map(function(P){return typeof P=="string"?P:(P=P||{},P.name)}));let C=ee.get(["clientDefs",i,"hiddenBoolFilterList"])||[];t(1,f=f.filter(function(P){return!C.includes(P)})),t(2,u=ue.get("selectedFilterList",i)??[]),t(2,u=u.filter(function(P){return f.includes(P)}));const E=new URLSearchParams(window.location.search);if(E.has("where")){const P=JSON.parse(E.get("where"));P&&(ue.set("queryBuilderRules",i,P),p(),window.history.replaceState({},document.title,window.location.origin+"#"+i))}window.$.fn.queryBuilder.regional.main=R.getData().Global.queryBuilderFilter;let T=window.$.fn.queryBuilder.constructor.prototype.updateRuleFilter;window.$.fn.queryBuilder.constructor.prototype.updateRuleFilter=function(P,O){P.filter.id==="emptyAttributeRule"?_((H,q)=>{H?(this.setFilters(a),P.filter=q,T.call(this,P,O)):(P.filter.id==="emptyAttributeRule"&&(P.filter=O),T.call(this,P,O))}):T.call(this,P,O)},window.$.fn.queryBuilder.defaults({lang_code:"main"}),h(()=>{m()})});const w=(C,E)=>S(E,C);function L(C){Me[C?"unshift":"push"](()=>{d=C,t(3,d)})}return n.$$set=C=>{"scope"in C&&t(0,i=C.scope),"collection"in C&&t(7,r=C.collection),"createView"in C&&t(8,l=C.createView),"mandatoryBoolFilter"in C&&t(9,o=C.mandatoryBoolFilter),"parentWidth"in C&&t(10,s=C.parentWidth)},n.$$.update=()=>{n.$$.dirty&1024&&_i(s)},[i,f,u,d,p,g,S,r,l,o,s,w,L]}class Dp extends Ee{constructor(e){super(),ke(this,e,Ep,yp,we,{scope:0,collection:7,createView:8,mandatoryBoolFilter:9,parentWidth:10})}}function ns(n,e,t){const i=n.slice();return i[25]=e[t],i}function is(n){let e,t=n[25].label+"",i,r,l,o;function s(){return n[18](n[25])}return{c(){e=A("a"),i=he(t),r=j(),v(e,"href","javascript:"),v(e,"class","btn btn-link item svelte-1kvkmv5")},m(a,f){M(a,e,f),k(e,i),k(e,r),l||(o=re(e,"click",s),l=!0)},p(a,f){n=a,f&256&&t!==(t=n[25].label+"")&&Le(i,t)},d(a){a&&N(e),l=!1,o()}}}function rs(n){let e,t=n[25].name!==n[9].name&&is(n);return{c(){t&&t.c(),e=Be()},m(i,r){t&&t.m(i,r),M(i,e,r)},p(i,r){i[25].name!==i[9].name?t?t.p(i,r):(t=is(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(i){i&&N(e),t&&t.d(i)}}}function Sp(n){var _;let e,t,i,r,l,o=(((_=n[9])==null?void 0:_.label)??"")+"",s,a,f,u,d,c,m,h,p,g,b,y=le(n[8]),D=[];for(let S=0;S<y.length;S+=1)D[S]=rs(ns(n,y,S));return c=new Dp({props:{scope:n[2],collection:n[5],createView:n[6],parentWidth:n[0]}}),{c(){var S,w,L,C;e=A("div"),t=A("div");for(let E=0;E<D.length;E+=1)D[E].c();i=j(),r=A("div"),l=A("h5"),s=he(o),a=j(),f=A("div"),u=j(),d=A("div"),ge(c.$$.fragment),m=j(),h=A("div"),h.innerHTML='<img class="preloader svelte-1kvkmv5" src="client/img/atro-loader.svg" alt="loader"/>',p=j(),g=A("div"),g.innerHTML='<img class="preloader svelte-1kvkmv5" src="client/img/atro-loader.svg" alt="loader"/>',v(t,"class","btn-group svelte-1kvkmv5"),v(f,"class","layout-editor-container"),be(f,"hidden",((S=n[9])==null?void 0:S.name)!=="summary"),v(r,"class","sidebar-header"),v(d,"class","filter"),be(d,"hidden",((w=n[9])==null?void 0:w.name)!=="filter"),v(h,"class","summary svelte-1kvkmv5"),be(h,"hidden",((L=n[9])==null?void 0:L.name)!=="summary"),v(g,"class","activities svelte-1kvkmv5"),be(g,"hidden",((C=n[9])==null?void 0:C.name)!=="activities"),v(e,"class","content svelte-1kvkmv5")},m(S,w){M(S,e,w),k(e,t);for(let L=0;L<D.length;L+=1)D[L]&&D[L].m(t,null);k(e,i),k(e,r),k(r,l),k(l,s),k(r,a),k(r,f),k(e,u),k(e,d),pe(c,d,null),k(e,m),k(e,h),k(e,p),k(e,g),b=!0},p(S,w){var C,E,T,P,O;if(w&1792){y=le(S[8]);let H;for(H=0;H<y.length;H+=1){const q=ns(S,y,H);D[H]?D[H].p(q,w):(D[H]=rs(q),D[H].c(),D[H].m(t,null))}for(;H<D.length;H+=1)D[H].d(1);D.length=y.length}(!b||w&512)&&o!==(o=(((C=S[9])==null?void 0:C.label)??"")+"")&&Le(s,o),(!b||w&512)&&be(f,"hidden",((E=S[9])==null?void 0:E.name)!=="summary");const L={};w&4&&(L.scope=S[2]),w&32&&(L.collection=S[5]),w&64&&(L.createView=S[6]),w&1&&(L.parentWidth=S[0]),c.$set(L),(!b||w&512)&&be(d,"hidden",((T=S[9])==null?void 0:T.name)!=="filter"),(!b||w&512)&&be(h,"hidden",((P=S[9])==null?void 0:P.name)!=="summary"),(!b||w&512)&&be(g,"hidden",((O=S[9])==null?void 0:O.name)!=="activities")},i(S){b||(W(c.$$.fragment,S),b=!0)},o(S){V(c.$$.fragment,S),b=!1},d(S){S&&N(e),xe(D,S),me(c)}}}function Ap(n){let e,t,i,r,l;function o(u){n[19](u)}function s(u){n[20](u)}function a(u){n[21](u)}let f={position:"right",className:"right-side-view",minWidth:n[3],maxWidth:n[4],$$slots:{default:[Sp]},$$scope:{ctx:n}};return n[1]!==void 0&&(f.isCollapsed=n[1]),n[7]!==void 0&&(f.isPinned=n[7]),n[0]!==void 0&&(f.width=n[0]),e=new Ga({props:f}),Me.push(()=>Tn(e,"isCollapsed",o)),Me.push(()=>Tn(e,"isPinned",s)),Me.push(()=>Tn(e,"width",a)),e.$on("sidebar-resize",n[11]),e.$on("sidebar-collapse",n[13]),e.$on("sidebar-pin",n[12]),{c(){ge(e.$$.fragment)},m(u,d){pe(e,u,d),l=!0},p(u,[d]){const c={};d&8&&(c.minWidth=u[3]),d&16&&(c.maxWidth=u[4]),d&268436325&&(c.$$scope={dirty:d,ctx:u}),!t&&d&2&&(t=!0,c.isCollapsed=u[1],An(()=>t=!1)),!i&&d&128&&(i=!0,c.isPinned=u[7],An(()=>i=!1)),!r&&d&1&&(r=!0,c.width=u[0],An(()=>r=!1)),e.$set(c)},i(u){l||(W(e.$$.fragment,u),l=!0)},o(u){V(e.$$.fragment,u),l=!1},d(u){me(e,u)}}}function Cp(n,e,t){let i,{scope:r}=e,{mode:l}=e,{minWidth:o=300}=e,{maxWidth:s=600}=e,{currentWidth:a=o}=e,{loadSummary:f}=e,{loadActivities:u}=e,{isCollapsed:d=!1}=e,{hasStream:c=!1}=e,{collection:m}=e,{createView:h}=e,p=!0,g,b=[],y;["detail","edit"].includes(l)&&(b.push({name:"summary",label:R.translate("Summary")}),y=b[0]);function D(O){y&&y.name===O.name||(t(9,y=O),y.name==="activities"&&_(),ue.set("right-side-view-active-item",i,y.name))}function _(){d||(g==null?u(O=>{g=O}):g==null||g.refresh())}function S(O){ue.set("rightSideView",i,a.toString())}function w(O){ue.set("right-side-view-pin",i,p?"pin":"not-pinned")}function L(O){ue.set("right-side-view-collapse",i,d?"collapsed":"expanded"),y.name==="activities"&&_()}ut(()=>{const O=ue.get("rightSideView",i);O&&t(0,a=parseInt(O)||o);let H=ue.get("right-side-view-collapse",i);!H&&!["detail","edit"].includes(l)||window.innerWidth<=768?t(1,d=!0):t(1,d=H==="collapsed"),t(7,p=ue.get("right-side-view-pin",i)!=="not-pinned"),["detail","edit"].includes(l)&&f(),["list","plate","kanban"].includes(l)&&t(8,b=[...b,{name:"filter",label:R.translate("filter")}]),c&&t(8,b=[...b,{name:"activities",label:R.translate("Activities")}]);let q=ue.get("right-side-view-active-item",i);q&&b.map(F=>F.name).includes(q)&&D(b.find(F=>F.name===q)),y||D(b[0])});const C=O=>D(O);function E(O){d=O,t(1,d)}function T(O){p=O,t(7,p)}function P(O){a=O,t(0,a)}return n.$$set=O=>{"scope"in O&&t(2,r=O.scope),"mode"in O&&t(14,l=O.mode),"minWidth"in O&&t(3,o=O.minWidth),"maxWidth"in O&&t(4,s=O.maxWidth),"currentWidth"in O&&t(0,a=O.currentWidth),"loadSummary"in O&&t(15,f=O.loadSummary),"loadActivities"in O&&t(16,u=O.loadActivities),"isCollapsed"in O&&t(1,d=O.isCollapsed),"hasStream"in O&&t(17,c=O.hasStream),"collection"in O&&t(5,m=O.collection),"createView"in O&&t(6,h=O.createView)},n.$$.update=()=>{n.$$.dirty&16388&&(i=r+l)},[a,d,r,o,s,m,h,p,b,y,D,S,w,L,l,f,u,c,C,E,T,P]}class Tp extends Ee{constructor(e){super(),ke(this,e,Cp,Ap,we,{scope:2,mode:14,minWidth:3,maxWidth:4,currentWidth:0,loadSummary:15,loadActivities:16,isCollapsed:1,hasStream:17,collection:5,createView:6})}}function ls(n){let e,t,i,r,l,o,s,a;function f(c,m){return c[0].html?Op:Lp}let u=f(n),d=u(n);return{c(){e=A("button"),d.c(),v(e,"class",n[1]),v(e,"data-name",t=n[0].name),v(e,"data-action",i=n[0].action||n[0].name),v(e,"data-id",r=n[0].id),v(e,"type","button"),v(e,"title",l=n[0].tooltip),e.disabled=o=n[0].disabled},m(c,m){M(c,e,m),d.m(e,null),s||(a=re(e,"click",n[2]),s=!0)},p(c,m){u===(u=f(c))&&d?d.p(c,m):(d.d(1),d=u(c),d&&(d.c(),d.m(e,null))),m&2&&v(e,"class",c[1]),m&1&&t!==(t=c[0].name)&&v(e,"data-name",t),m&1&&i!==(i=c[0].action||c[0].name)&&v(e,"data-action",i),m&1&&r!==(r=c[0].id)&&v(e,"data-id",r),m&1&&l!==(l=c[0].tooltip)&&v(e,"title",l),m&1&&o!==(o=c[0].disabled)&&(e.disabled=o)},d(c){c&&N(e),d.d(),s=!1,a()}}}function Lp(n){let e=R.translate(n[0].label)+"",t;return{c(){t=he(e)},m(i,r){M(i,t,r)},p(i,r){r&1&&e!==(e=R.translate(i[0].label)+"")&&Le(t,e)},d(i){i&&N(t)}}}function Op(n){let e,t=n[0].html+"",i;return{c(){e=new Kt(!1),i=Be(),e.a=i},m(r,l){e.m(t,r,l),M(r,i,l)},p(r,l){l&1&&t!==(t=r[0].html+"")&&e.p(t)},d(r){r&&(N(i),e.d())}}}function Pp(n){let e,t=!n[0].hidden&&ls(n);return{c(){t&&t.c(),e=Be()},m(i,r){t&&t.m(i,r),M(i,e,r)},p(i,[r]){i[0].hidden?t&&(t.d(1),t=null):t?t.p(i,r):(t=ls(i),t.c(),t.m(e.parentNode,e))},i:Se,o:Se,d(i){i&&N(e),t&&t.d(i)}}}function Ip(n,e,t){const i=kn();let{params:r}=e,{className:l=""}=e;const o=["default","primary","success","warning","danger"];let s;function a(f){const u=f.currentTarget;i("execute",{data:u.dataset,action:u.dataset.action,event:f})}return n.$$set=f=>{"params"in f&&t(0,r=f.params),"className"in f&&t(3,l=f.className)},n.$$.update=()=>{n.$$.dirty&11&&(t(1,s="action btn"),(r.style??"default").split(" ").forEach(f=>{o.includes(f)?t(1,s+=` btn-${f}`):t(1,s+=` ${f}`)}),l&&t(1,s+=` ${l}`))},[r,s,a,l]}class Ut extends Ee{constructor(e){super(),ke(this,e,Ip,Pp,we,{params:0,className:3})}}function Np(n){let e,t;return e=new Ut({props:{params:n[0],className:"btn-favorite"}}),e.$on("execute",n[1]),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,[r]){const l={};r&1&&(l.params=i[0]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function Mp(n,e,t){let{scope:i}=e,{onFavoriteAdd:r}=e,{onFavoriteRemove:l}=e,{active:o=!1}=e,s,a="default";function f(u){o?l(i):r(i)}return n.$$set=u=>{"scope"in u&&t(2,i=u.scope),"onFavoriteAdd"in u&&t(3,r=u.onFavoriteAdd),"onFavoriteRemove"in u&&t(4,l=u.onFavoriteRemove),"active"in u&&t(5,o=u.active)},n.$$.update=()=>{n.$$.dirty&96&&(t(6,a=o?"primary outline":"default"),t(0,s={action:"favorite",html:'<span class="fas fa-star"></span>',style:a}))},[s,f,i,r,l,o,a]}class Bp extends Ee{constructor(e){super(),ke(this,e,Mp,Np,we,{scope:2,onFavoriteAdd:3,onFavoriteRemove:4,active:5})}}function Fp(n){let e=R.translate(n[0].label)+"",t;return{c(){t=he(e)},m(i,r){M(i,t,r)},p(i,r){r&1&&e!==(e=R.translate(i[0].label)+"")&&Le(t,e)},d(i){i&&N(t)}}}function Rp(n){let e,t=n[0].html+"",i;return{c(){e=new Kt(!1),i=Be(),e.a=i},m(r,l){e.m(t,r,l),M(r,i,l)},p(r,l){l&1&&t!==(t=r[0].html+"")&&e.p(t)},d(r){r&&(N(i),e.d())}}}function Hp(n){let e,t,i,r,l,o,s;function a(d,c){return d[0].html?Rp:Fp}let f=a(n),u=f(n);return{c(){e=A("a"),u.c(),v(e,"href","javascript:"),v(e,"role","button"),v(e,"class",t="action "+n[1]),v(e,"data-action",i=n[0].name||n[0].action),v(e,"data-id",r=n[0].id),v(e,"title",l=n[0].tooltip)},m(d,c){M(d,e,c),u.m(e,null),o||(s=re(e,"click",n[2]),o=!0)},p(d,[c]){f===(f=a(d))&&u?u.p(d,c):(u.d(1),u=f(d),u&&(u.c(),u.m(e,null))),c&2&&t!==(t="action "+d[1])&&v(e,"class",t),c&1&&i!==(i=d[0].name||d[0].action)&&v(e,"data-action",i),c&1&&r!==(r=d[0].id)&&v(e,"data-id",r),c&1&&l!==(l=d[0].tooltip)&&v(e,"title",l)},i:Se,o:Se,d(d){d&&N(e),u.d(),o=!1,s()}}}function Wp(n,e,t){const i=kn();let{params:r}=e,{className:l=""}=e;function o(s){const a=s.target;i("execute",{data:a.dataset,action:a.dataset.action,event:s})}return n.$$set=s=>{"params"in s&&t(0,r=s.params),"className"in s&&t(1,l=s.className)},[r,l,o]}class os extends Ee{constructor(e){super(),ke(this,e,Wp,Hp,we,{params:0,className:1})}}function as(n,e,t){const i=n.slice();return i[11]=e[t],i}function ss(n,e,t){const i=n.slice();return i[11]=e[t],i}function us(n,e,t){const i=n.slice();return i[16]=e[t],i}function fs(n){let e,t;return e=new Ut({props:{params:n[16]}}),e.$on("execute",function(){Ft(n[6])&&n[6].apply(this,arguments)}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){n=i;const l={};r&1&&(l.params=n[16]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function jp(n){let e;return{c(){e=A("button"),e.innerHTML='<span class="caret"></span>',v(e,"type","button"),v(e,"class","btn btn-default dropdown-toggle svelte-1ds6xdg"),v(e,"data-toggle","dropdown"),v(e,"aria-haspopup","true")},m(t,i){M(t,e,i)},d(t){t&&N(e)}}}function qp(n){let e,t=R.translate("More")+"",i,r,l;return{c(){e=A("button"),i=he(t),r=j(),l=A("span"),v(l,"class","fa fa-chevron-down more-arrow svelte-1ds6xdg"),v(e,"type","button"),v(e,"class","btn btn-default dropdown-toggle more-button svelte-1ds6xdg"),v(e,"data-toggle","dropdown"),v(e,"aria-haspopup","true")},m(o,s){M(o,e,s),k(e,i),k(e,r),k(e,l)},d(o){o&&N(e)}}}function cs(n){let e,t,i,r,l,o,s=le(n[1]),a=[];for(let p=0;p<s.length;p+=1)a[p]=ds(ss(n,s,p));const f=p=>V(a[p],1,1,()=>{a[p]=null});let u=n[1]&&(n[2]||n[3])&&ps(),d=n[3]&&ms(),c=le(n[2]),m=[];for(let p=0;p<c.length;p+=1)m[p]=hs(as(n,c,p));const h=p=>V(m[p],1,1,()=>{m[p]=null});return{c(){e=A("ul");for(let p=0;p<a.length;p+=1)a[p].c();t=j(),u&&u.c(),i=j(),d&&d.c(),r=j();for(let p=0;p<m.length;p+=1)m[p].c();v(e,"class",l=lt(n[7])+" svelte-1ds6xdg")},m(p,g){M(p,e,g);for(let b=0;b<a.length;b+=1)a[b]&&a[b].m(e,null);k(e,t),u&&u.m(e,null),k(e,i),d&&d.m(e,null),k(e,r);for(let b=0;b<m.length;b+=1)m[b]&&m[b].m(e,null);o=!0},p(p,g){if(g&66){s=le(p[1]);let b;for(b=0;b<s.length;b+=1){const y=ss(p,s,b);a[b]?(a[b].p(y,g),W(a[b],1)):(a[b]=ds(y),a[b].c(),W(a[b],1),a[b].m(e,t))}for(He(),b=s.length;b<a.length;b+=1)f(b);We()}if(p[1]&&(p[2]||p[3])?u||(u=ps(),u.c(),u.m(e,i)):u&&(u.d(1),u=null),p[3]?d?g&8&&W(d,1):(d=ms(),d.c(),W(d,1),d.m(e,r)):d&&(He(),V(d,1,1,()=>{d=null}),We()),g&68){c=le(p[2]);let b;for(b=0;b<c.length;b+=1){const y=as(p,c,b);m[b]?(m[b].p(y,g),W(m[b],1)):(m[b]=hs(y),m[b].c(),W(m[b],1),m[b].m(e,null))}for(He(),b=c.length;b<m.length;b+=1)h(b);We()}(!o||g&128&&l!==(l=lt(p[7])+" svelte-1ds6xdg"))&&v(e,"class",l)},i(p){if(!o){for(let g=0;g<s.length;g+=1)W(a[g]);W(d);for(let g=0;g<c.length;g+=1)W(m[g]);o=!0}},o(p){a=a.filter(Boolean);for(let g=0;g<a.length;g+=1)V(a[g]);V(d),m=m.filter(Boolean);for(let g=0;g<m.length;g+=1)V(m[g]);o=!1},d(p){p&&N(e),xe(a,p),u&&u.d(),d&&d.d(),xe(m,p)}}}function ds(n){let e,t,i;return t=new os({props:{params:n[11]}}),t.$on("execute",function(){Ft(n[6])&&n[6].apply(this,arguments)}),{c(){e=A("li"),ge(t.$$.fragment)},m(r,l){M(r,e,l),pe(t,e,null),i=!0},p(r,l){n=r;const o={};l&2&&(o.params=n[11]),t.$set(o)},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){V(t.$$.fragment,r),i=!1},d(r){r&&N(e),me(t)}}}function ps(n){let e;return{c(){e=A("li"),v(e,"class","divider")},m(t,i){M(t,e,i)},d(t){t&&N(e)}}}function ms(n){let e,t,i,r;return i=new rr({props:{heightPx:12}}),{c(){e=A("li"),t=A("a"),ge(i.$$.fragment),v(t,"href","javascript:"),v(e,"class","preloader")},m(l,o){M(l,e,o),k(e,t),pe(i,t,null),r=!0},i(l){r||(W(i.$$.fragment,l),r=!0)},o(l){V(i.$$.fragment,l),r=!1},d(l){l&&N(e),me(i)}}}function hs(n){let e,t,i,r;return t=new os({props:{params:n[11]}}),t.$on("execute",function(){Ft(n[6])&&n[6].apply(this,arguments)}),{c(){e=A("li"),ge(t.$$.fragment),i=j(),v(e,"class","dynamic-action")},m(l,o){M(l,e,o),pe(t,e,null),k(e,i),r=!0},p(l,o){n=l;const s={};o&4&&(s.params=n[11]),t.$set(s)},i(l){r||(W(t.$$.fragment,l),r=!0)},o(l){V(t.$$.fragment,l),r=!1},d(l){l&&N(e),me(t)}}}function zp(n){let e,t,i,r,l,o,s=le(n[0]),a=[];for(let g=0;g<s.length;g+=1)a[g]=fs(us(n,s,g));const f=g=>V(a[g],1,1,()=>{a[g]=null});function u(g,b){if(g[4]&&(g[1].length>0||g[2].length>0))return qp;if(g[1].length>0||g[2].length>0)return jp}let d=u(n),c=d&&d(n),m=(n[1].length>0||n[2].length>0)&&cs(n);const h=n[10].default,p=$n(h,n,n[9],null);return{c(){e=A("div");for(let g=0;g<a.length;g+=1)a[g].c();t=j(),c&&c.c(),i=j(),m&&m.c(),r=j(),p&&p.c(),v(e,"class",l="btn-group "+n[5]+" svelte-1ds6xdg")},m(g,b){M(g,e,b);for(let y=0;y<a.length;y+=1)a[y]&&a[y].m(e,null);k(e,t),c&&c.m(e,null),k(e,i),m&&m.m(e,null),k(e,r),p&&p.m(e,null),o=!0},p(g,[b]){if(b&65){s=le(g[0]);let y;for(y=0;y<s.length;y+=1){const D=us(g,s,y);a[y]?(a[y].p(D,b),W(a[y],1)):(a[y]=fs(D),a[y].c(),W(a[y],1),a[y].m(e,t))}for(He(),y=s.length;y<a.length;y+=1)f(y);We()}d!==(d=u(g))&&(c&&c.d(1),c=d&&d(g),c&&(c.c(),c.m(e,i))),g[1].length>0||g[2].length>0?m?(m.p(g,b),b&6&&W(m,1)):(m=cs(g),m.c(),W(m,1),m.m(e,r)):m&&(He(),V(m,1,1,()=>{m=null}),We()),p&&p.p&&(!o||b&512)&&ti(p,h,g,g[9],o?ei(h,g[9],b,null):ni(g[9]),null),(!o||b&32&&l!==(l="btn-group "+g[5]+" svelte-1ds6xdg"))&&v(e,"class",l)},i(g){if(!o){for(let b=0;b<s.length;b+=1)W(a[b]);W(m),W(p,g),o=!0}},o(g){a=a.filter(Boolean);for(let b=0;b<a.length;b+=1)V(a[b]);V(m),V(p,g),o=!1},d(g){g&&N(e),xe(a,g),c&&c.d(),m&&m.d(),p&&p.d(g)}}}function Gp(n,e,t){let{$$slots:i={},$$scope:r}=e,{actions:l=[]}=e,{dropdownActions:o=[]}=e,{dynamicActionsDropdown:s=[]}=e,{loadingActions:a=!1}=e,{hasMoreButton:f=!1}=e,{dropdownPosition:u="left"}=e,{className:d=""}=e,{executeAction:c=()=>{}}=e,m;return n.$$set=h=>{"actions"in h&&t(0,l=h.actions),"dropdownActions"in h&&t(1,o=h.dropdownActions),"dynamicActionsDropdown"in h&&t(2,s=h.dynamicActionsDropdown),"loadingActions"in h&&t(3,a=h.loadingActions),"hasMoreButton"in h&&t(4,f=h.hasMoreButton),"dropdownPosition"in h&&t(8,u=h.dropdownPosition),"className"in h&&t(5,d=h.className),"executeAction"in h&&t(6,c=h.executeAction),"$$scope"in h&&t(9,r=h.$$scope)},n.$$.update=()=>{n.$$.dirty&384&&(t(7,m="dropdown-menu"),u==="right"&&t(7,m+=" dropdown-menu-right"))},[l,o,s,a,f,d,c,m,u,r,i]}class gs extends Ee{constructor(e){super(),ke(this,e,Gp,zp,we,{actions:0,dropdownActions:1,dynamicActionsDropdown:2,loadingActions:3,hasMoreButton:4,dropdownPosition:8,className:5,executeAction:6})}}function vs(n,e,t){const i=n.slice();return i[7]=e[t],i}function bs(n){let e,t=le(n[1]),i=[];for(let r=0;r<t.length;r+=1)i[r]=_s(vs(n,t,r));return{c(){e=A("div");for(let r=0;r<i.length;r+=1)i[r].c();v(e,"class","btn-group view-mode-switch")},m(r,l){M(r,e,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(r,l){if(l&7){t=le(r[1]);let o;for(o=0;o<t.length;o+=1){const s=vs(r,t,o);i[o]?i[o].p(s,l):(i[o]=_s(s),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(r){r&&N(e),xe(i,r)}}}function _s(n){let e,t,i,r,l,o,s,a;return{c(){e=A("a"),t=A("span"),r=j(),v(t,"class",i=lt(n[7].iconClass)+" svelte-likomh"),v(e,"role","button"),v(e,"href",l=n[7].link),v(e,"class","btn action svelte-likomh"),v(e,"data-name",o=n[7].name),v(e,"data-action","List"),be(e,"btn-default",n[7].name!==n[0]),be(e,"btn-primary",n[7].name===n[0])},m(f,u){M(f,e,u),k(e,t),k(e,r),s||(a=re(e,"click",n[2]),s=!0)},p(f,u){u&2&&i!==(i=lt(f[7].iconClass)+" svelte-likomh")&&v(t,"class",i),u&2&&l!==(l=f[7].link)&&v(e,"href",l),u&2&&o!==(o=f[7].name)&&v(e,"data-name",o),u&3&&be(e,"btn-default",f[7].name!==f[0]),u&3&&be(e,"btn-primary",f[7].name===f[0])},d(f){f&&N(e),s=!1,a()}}}function Vp(n){let e,t=n[1].length>1&&bs(n);return{c(){t&&t.c(),e=Be()},m(i,r){t&&t.m(i,r),M(i,e,r)},p(i,[r]){i[1].length>1?t?t.p(i,r):(t=bs(i),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:Se,o:Se,d(i){i&&N(e),t&&t.d(i)}}}function Up(n,e,t){const i=kn(),r={list:"fa fa-th-list",plate:"fa fa-th",kanban:"fa fa-grip-horizontal",tree:"fa fa-stream"};let{modes:l=null}=e,{mode:o="list"}=e,{scope:s}=e,a;function f(u){const d=u.currentTarget;d.dataset.name&&d.dataset.name!==o&&i("view-change",{name:d.dataset.name})}return ut(()=>{if(l!==null)return;const u=ee.get(["clientDefs",s,"listViewModeList"])||["list"];ee.get(["clientDefs",s,"plateViewMode"])&&u.push("plate"),ee.get(["clientDefs",s,"kanbanViewMode"])&&u.push("kanban"),t(3,l=u)}),n.$$set=u=>{"modes"in u&&t(3,l=u.modes),"mode"in u&&t(0,o=u.mode),"scope"in u&&t(4,s=u.scope)},n.$$.update=()=>{n.$$.dirty&25&&t(1,a=(l||[o]).filter((u,d,c)=>r[u]&&c.indexOf(u)===d).map(u=>(r[u]||(u="list"),{name:u,link:`#${s}/${u}`,iconClass:r[u]})))},[o,a,f,l,s]}class Xp extends Ee{constructor(e){super(),ke(this,e,Up,Vp,we,{modes:3,mode:0,scope:4})}}function ws(n){let e,t,i;return t=new Bp({props:{active:n[0],onFavoriteAdd:n[3].onAddFavorite,onFavoriteRemove:n[3].onRemoveFavorite,scope:n[1]}}),{c(){e=A("div"),ge(t.$$.fragment),v(e,"class","entity-buttons svelte-22sfhv")},m(r,l){M(r,e,l),pe(t,e,null),i=!0},p(r,l){const o={};l&1&&(o.active=r[0]),l&8&&(o.onFavoriteAdd=r[3].onAddFavorite),l&8&&(o.onFavoriteRemove=r[3].onRemoveFavorite),l&2&&(o.scope=r[1]),t.$set(o)},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){V(t.$$.fragment,r),i=!1},d(r){r&&N(e),me(t)}}}function Yp(n){let e,t,i,r,l,o,s;t=new gs({props:{actions:n[5],dropdownActions:n[6],className:"entity-actions",hasMoreButton:!0,dropdownPosition:"right"}});let a=n[7]&&ws(n);return o=new Xp({props:{mode:n[2],scope:n[1]}}),o.$on("view-change",function(){Ft(n[4])&&n[4].apply(this,arguments)}),{c(){e=A("div"),ge(t.$$.fragment),i=j(),r=A("div"),a&&a.c(),l=j(),ge(o.$$.fragment),v(r,"class","right-group svelte-22sfhv"),v(e,"class","buttons-container svelte-22sfhv")},m(f,u){M(f,e,u),pe(t,e,null),k(e,i),k(e,r),a&&a.m(r,null),k(r,l),pe(o,r,null),s=!0},p(f,[u]){n=f;const d={};u&32&&(d.actions=n[5]),u&64&&(d.dropdownActions=n[6]),t.$set(d),n[7]?a?(a.p(n,u),u&128&&W(a,1)):(a=ws(n),a.c(),W(a,1),a.m(r,l)):a&&(He(),V(a,1,1,()=>{a=null}),We());const c={};u&4&&(c.mode=n[2]),u&2&&(c.scope=n[1]),o.$set(c)},i(f){s||(W(t.$$.fragment,f),W(a),W(o.$$.fragment,f),s=!0)},o(f){V(t.$$.fragment,f),V(a),V(o.$$.fragment,f),s=!1},d(f){f&&N(e),me(t),a&&a.d(),me(o)}}}function Jp(n,e,t){let{scope:i}=e,{viewMode:r}=e,{isFavoriteEntity:l=!1}=e,{entityActions:o}=e,{callbacks:s}=e,{onViewChange:a}=e,f,u,d=[],c=[],m=!1;window.addEventListener("favorites:update",p=>{const g=p.detail||[];t(0,l=g.includes(i))});function h(){const p=new Map,g=new Map;(ee.get(["clientDefs",i,"dynamicEntityActions"])||[]).forEach(b=>{s.canRunAction(b.acl.scope,b.acl.action)&&(b.display==="dropdown"&&!g.has(b.id)&&g.set(b.id,{label:b.name,action:"dynamicEntityAction",id:b.id}),b.display==="single"&&!p.has(b.id)&&p.set(b.id,{label:b.name,action:"dynamicEntityAction",id:b.id}))}),t(9,d=Array.from(p.values())),t(10,c=Array.from(g.values()))}return ut(()=>{t(7,m=ee.get(["scopes",i,"tab"])),h()}),n.$$set=p=>{"scope"in p&&t(1,i=p.scope),"viewMode"in p&&t(2,r=p.viewMode),"isFavoriteEntity"in p&&t(0,l=p.isFavoriteEntity),"entityActions"in p&&t(8,o=p.entityActions),"callbacks"in p&&t(3,s=p.callbacks),"onViewChange"in p&&t(4,a=p.onViewChange)},n.$$.update=()=>{n.$$.dirty&1792&&(t(5,f=[...o.buttons??[],...d]),t(6,u=[...o.dropdownButtons??[],...c]))},[l,i,r,s,a,f,u,m,o,d,c]}class Zp extends Ee{constructor(e){super(),ke(this,e,Jp,Yp,we,{scope:1,viewMode:2,isFavoriteEntity:0,entityActions:8,callbacks:3,onViewChange:4})}}function ys(n,e,t){const i=n.slice();return i[6]=e[t],i[8]=t,i}function ks(n){let e,t;return e=new rr({props:{heightPx:10}}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function Es(n){let e,t=le(n[1]),i=[];for(let r=0;r<t.length;r+=1)i[r]=Ds(ys(n,t,r));return{c(){e=A("ul");for(let r=0;r<i.length;r+=1)i[r].c();v(e,"class","svelte-nuyn3")},m(r,l){M(r,e,l);for(let o=0;o<i.length;o+=1)i[o]&&i[o].m(e,null)},p(r,l){if(l&3){t=le(r[1]);let o;for(o=0;o<t.length;o+=1){const s=ys(r,t,o);i[o]?i[o].p(s,l):(i[o]=Ds(s),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(r){r&&N(e),xe(i,r)}}}function Kp(n){let e,t,i=n[6].label+"",r;return{c(){e=A("li"),t=A("span"),r=he(i),v(e,"class","svelte-nuyn3")},m(l,o){M(l,e,o),k(e,t),k(t,r)},p(l,o){o&2&&i!==(i=l[6].label+"")&&Le(r,i)},d(l){l&&N(e)}}}function Qp(n){let e,t,i=n[6].label+"",r;return{c(){e=A("li"),t=A("h3"),r=he(i),v(t,"class","header-title svelte-nuyn3"),v(e,"class","full-width svelte-nuyn3")},m(l,o){M(l,e,o),k(e,t),k(t,r)},p(l,o){o&2&&i!==(i=l[6].label+"")&&Le(r,i)},d(l){l&&N(e)}}}function xp(n){let e,t,i=n[6].label+"",r,l;return{c(){e=A("li"),t=A("a"),r=he(i),v(t,"href",l=n[6].link),v(t,"class","svelte-nuyn3"),v(e,"class","svelte-nuyn3")},m(o,s){M(o,e,s),k(e,t),k(t,r)},p(o,s){s&2&&i!==(i=o[6].label+"")&&Le(r,i),s&2&&l!==(l=o[6].link)&&v(t,"href",l)},d(o){o&&N(e)}}}function Ds(n){let e;function t(l,o){return l[8]!==l[1].length-1?xp:l[0]?Qp:Kp}let i=t(n),r=i(n);return{c(){r.c(),e=Be()},m(l,o){r.m(l,o),M(l,e,o)},p(l,o){i===(i=t(l))&&r?r.p(l,o):(r.d(1),r=i(l),r&&(r.c(),r.m(e.parentNode,e)))},d(l){l&&N(e),r.d(l)}}}function $p(n){let e,t,i,r=n[2]&&ks(),l=n[1].length>0&&Es(n);return{c(){e=A("nav"),r&&r.c(),t=j(),l&&l.c(),v(e,"class","entity-history svelte-nuyn3")},m(o,s){M(o,e,s),r&&r.m(e,null),k(e,t),l&&l.m(e,null),i=!0},p(o,[s]){o[2]?r?s&4&&W(r,1):(r=ks(),r.c(),W(r,1),r.m(e,t)):r&&(He(),V(r,1,1,()=>{r=null}),We()),o[1].length>0?l?l.p(o,s):(l=Es(o),l.c(),l.m(e,null)):l&&(l.d(1),l=null)},i(o){i||(W(r),i=!0)},o(o){V(r),i=!1},d(o){o&&N(e),r&&r.d(),l&&l.d()}}}function em(n,e,t){let{scope:i}=e,{currentIsHeading:r=!0}=e,l,o=[],s=!1;async function a(){let f=gt.get();if(!f)return[];t(4,o=[]);try{let u="/api/v1/LastViewed/action/getLastEntities";const d=new URLSearchParams({maxSize:"3",entity:i}).toString();d&&(u+=`?${d}`);const c=await fetch(u,{method:"GET",headers:{"Content-Type":"application/json","Authorization-Token":btoa(f.user.userName+":"+f.token)}});if(!c.ok)throw new Error("Network response was not ok");return await c.json()}catch(u){return console.error("Error:",u),[]}}return ut(()=>{t(2,s=!0),a().then(f=>{t(4,o=f)}).catch(f=>{console.error("Error: ",f)}).finally(()=>t(2,s=!1))}),n.$$set=f=>{"scope"in f&&t(3,i=f.scope),"currentIsHeading"in f&&t(0,r=f.currentIsHeading)},n.$$.update=()=>{n.$$.dirty&24&&t(1,l=o.reverse().map(f=>({name:f,label:R.translate(f,"scopeNamesPlural"),link:`#${f}`})).concat({name:i,label:R.translate(i,"scopeNamesPlural"),link:`#${i}`}))},[r,l,s,i,o]}class tm extends Ee{constructor(e){super(),ke(this,e,em,$p,we,{scope:3,currentIsHeading:0})}}function nm(n){let e,t,i,r;return e=new Zp({props:{viewMode:n[0],scope:n[1].scope,entityActions:n[2],onViewChange:n[5],callbacks:n[3],isFavoriteEntity:n[4]}}),{c(){ge(e.$$.fragment),t=j(),i=A("div"),v(i,"class","search-container")},m(l,o){pe(e,l,o),M(l,t,o),M(l,i,o),r=!0},p(l,o){const s={};o&1&&(s.viewMode=l[0]),o&2&&(s.scope=l[1].scope),o&4&&(s.entityActions=l[2]),o&8&&(s.callbacks=l[3]),o&16&&(s.isFavoriteEntity=l[4]),e.$set(s)},i(l){r||(W(e.$$.fragment,l),r=!0)},o(l){V(e.$$.fragment,l),r=!1},d(l){l&&(N(t),N(i)),me(e,l)}}}function im(n){let e,t,i,r;return e=new tm({props:{scope:n[1].scope}}),i=new nr({props:{$$slots:{default:[nm]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment),t=j(),ge(i.$$.fragment)},m(l,o){pe(e,l,o),M(l,t,o),pe(i,l,o),r=!0},p(l,[o]){const s={};o&2&&(s.scope=l[1].scope),e.$set(s);const a={};o&159&&(a.$$scope={dirty:o,ctx:l}),i.$set(a)},i(l){r||(W(e.$$.fragment,l),W(i.$$.fragment,l),r=!0)},o(l){V(e.$$.fragment,l),V(i.$$.fragment,l),r=!1},d(l){l&&N(t),me(e,l),me(i,l)}}}function rm(n,e,t){let{params:i}=e,{entityActions:r}=e,{callbacks:l}=e,{viewMode:o="list"}=e,{isFavoriteEntity:s=!1}=e,{onViewModeChange:a=u=>{}}=e;function f(u){t(0,o=u.detail.name),a(u.detail.name)}return ut(()=>{i.afterOnMount&&i.afterOnMount()}),fn(()=>{i.afterOnDestroy&&i.afterOnDestroy()}),n.$$set=u=>{"params"in u&&t(1,i=u.params),"entityActions"in u&&t(2,r=u.entityActions),"callbacks"in u&&t(3,l=u.callbacks),"viewMode"in u&&t(0,o=u.viewMode),"isFavoriteEntity"in u&&t(4,s=u.isFavoriteEntity),"onViewModeChange"in u&&t(6,a=u.onViewModeChange)},[o,i,r,l,s,f,a]}class lm extends Ee{constructor(e){super(),ke(this,e,rm,im,we,{params:1,entityActions:2,callbacks:3,viewMode:0,isFavoriteEntity:4,onViewModeChange:6})}}function Ss(n,e,t){const i=n.slice();return i[36]=e[t],i}function As(n){let e,t,i,r,l=le(n[0]),o=[];for(let s=0;s<l.length;s+=1)o[s]=Cs(Ss(n,l,s));return{c(){e=A("div"),t=A("ul");for(let s=0;s<o.length;s+=1)o[s].c();v(t,"class","nav-pills svelte-ud8o6q"),v(e,"class","items-container svelte-ud8o6q"),be(e,"has-left-scroll",n[5]),be(e,"has-right-scroll",n[4])},m(s,a){M(s,e,a),k(e,t);for(let f=0;f<o.length;f+=1)o[f]&&o[f].m(t,null);n[20](t),n[21](e),i||(r=[re(e,"mousedown",n[6]),re(e,"mousemove",n[7]),re(e,"mouseup",n[8]),re(e,"mouseleave",n[8]),re(e,"touchstart",n[9]),re(e,"touchmove",n[10]),re(e,"touchend",n[11],{passive:!0}),re(e,"wheel",n[12])],i=!0)},p(s,a){if(a[0]&8193){l=le(s[0]);let f;for(f=0;f<l.length;f+=1){const u=Ss(s,l,f);o[f]?o[f].p(u,a):(o[f]=Cs(u),o[f].c(),o[f].m(t,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=l.length}a[0]&32&&be(e,"has-left-scroll",s[5]),a[0]&16&&be(e,"has-right-scroll",s[4])},d(s){s&&N(e),xe(o,s),n[20](null),n[21](null),i=!1,rt(r)}}}function Cs(n){let e,t,i=(n[36].title??n[36].name)+"",r,l,o,s;return{c(){e=A("li"),t=A("a"),r=he(i),v(t,"href","javascript:"),v(t,"data-name",l=n[36].name),v(t,"class","svelte-ud8o6q"),v(e,"class","item svelte-ud8o6q")},m(a,f){M(a,e,f),k(e,t),k(t,r),o||(s=re(t,"click",n[13]),o=!0)},p(a,f){f[0]&1&&i!==(i=(a[36].title??a[36].name)+"")&&Le(r,i),f[0]&1&&l!==(l=a[36].name)&&v(t,"data-name",l)},d(a){a&&N(e),o=!1,s()}}}function Ts(n){let e;return{c(){e=A("div"),v(e,"class","layout-editor-container svelte-ud8o6q")},m(t,i){M(t,e,i)},d(t){t&&N(e)}}}function om(n){let e,t,i=n[0]&&As(n),r=n[1]&&Ts();return{c(){e=A("div"),i&&i.c(),t=j(),r&&r.c(),v(e,"class","panel-navigation svelte-ud8o6q")},m(l,o){M(l,e,o),i&&i.m(e,null),k(e,t),r&&r.m(e,null)},p(l,o){l[0]?i?i.p(l,o):(i=As(l),i.c(),i.m(e,t)):i&&(i.d(1),i=null),l[1]?r||(r=Ts(),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:Se,o:Se,d(l){l&&N(e),i&&i.d(),r&&r.d()}}}const Ls=5;function Fn(n,e,t){return Math.min(Math.max(n,e),t)}function am(n,e,t){let i,r,l,{items:o}=e,{scrollCallback:s=(ce,De)=>{}}=e,{hasLayoutEditor:a=!1}=e,f,u,d=!1,c=!1,m=0,h=0,p=0,g=0,b=0,y=0,D=null,_=0,S=0,w=0;async function L(){await cn(),t(16,_=f.clientWidth),t(17,S=u.scrollWidth),t(18,w=_-S),w>0&&t(18,w=0),t(15,p=Fn(p,w,0)),t(3,u.style.transform=`translateX(${p}px)`,u),g=p}function C(ce){const De=ce.offsetLeft,Ne=ce.offsetWidth,qe=-p,tt=qe+_;let Ze=p;De<qe?Ze=-De:De+Ne>tt&&(Ze=-(De+Ne-_)),Ze=Fn(Ze,w,0),t(15,p=Ze),g=p,t(3,u.style.transform=`translateX(${p}px)`,u)}function E(ce){d=!0,c=!1,m=ce.pageX,h=m,b=performance.now(),U()}function T(ce){if(!d)return;const De=ce.pageX,Ne=De-h,qe=performance.now(),tt=qe-b;y=Ne/tt,Math.abs(De-m)>Ls&&(c=!0),t(15,p=Fn(g+(De-m),w,0)),t(3,u.style.transform=`translateX(${p}px)`,u),h=De,b=qe}function P(){d&&(d=!1,g=p,F(),setTimeout(()=>c=!1,0))}function O(ce){d=!0,c=!1,m=ce.touches[0].pageX,h=m,b=performance.now(),U()}function H(ce){if(!d)return;const De=ce.touches[0].pageX,Ne=De-h,qe=performance.now(),tt=qe-b;y=Ne/tt,Math.abs(De-m)>Ls&&(c=!0),t(15,p=Fn(g+(De-m),w,0)),t(3,u.style.transform=`translateX(${p}px)`,u),h=De,b=qe}function q(){d&&(d=!1,g=p,F(),setTimeout(()=>c=!1,0))}function F(){function De(){y*=.95,Math.abs(y)>.02?(t(15,p=Fn(p+y*16,w,0)),t(3,u.style.transform=`translateX(${p}px)`,u),D=requestAnimationFrame(De)):U(),g=p}D=requestAnimationFrame(De)}function U(){D!==null&&(cancelAnimationFrame(D),D=null)}function ae(ce){ce.shiftKey&&(ce.preventDefault(),t(15,p=Fn(p-ce.deltaY,w,0)),t(3,u.style.transform=`translateX(${p}px)`,u),g=p)}let se,Pe;ut(()=>{L(),Pe=new ResizeObserver(()=>{L()}),se=new MutationObserver(()=>{L()}),se.observe(f,{childList:!0,subtree:!0}),Pe.observe(f)}),fn(()=>{se&&se.disconnect(),Pe&&Pe.disconnect()});function $e(ce){if(ce.preventDefault(),c){ce.stopPropagation();return}const De=ce.currentTarget,Ne=De.closest("li");Ne&&C(Ne),De.dataset.name&&s(De.dataset.name,ce)}function Ke(ce){Me[ce?"unshift":"push"](()=>{u=ce,t(3,u)})}function et(ce){Me[ce?"unshift":"push"](()=>{f=ce,t(2,f)})}return n.$$set=ce=>{"items"in ce&&t(0,o=ce.items),"scrollCallback"in ce&&t(14,s=ce.scrollCallback),"hasLayoutEditor"in ce&&t(1,a=ce.hasLayoutEditor)},n.$$.update=()=>{n.$$.dirty[0]&196608&&t(19,i=S>_),n.$$.dirty[0]&557056&&t(5,r=i&&p<0),n.$$.dirty[0]&819200&&t(4,l=i&&p>w)},[o,a,f,u,l,r,E,T,P,O,H,q,ae,$e,s,p,_,S,w,i,Ke,et]}class sm extends Ee{constructor(e){super(),ke(this,e,am,om,we,{items:0,scrollCallback:14,hasLayoutEditor:1},null,[-1,-1])}}function um(n){let e,t;return e=new Ut({props:{params:n[1]}}),e.$on("execute",function(){Ft(n[0])&&n[0].apply(this,arguments)}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,[r]){n=i;const l={};r&2&&(l.params=n[1]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function fm(n,e,t){let{filterApplied:i=!1}=e,{onExecute:r}=e,l,o;return n.$$set=s=>{"filterApplied"in s&&t(2,i=s.filterApplied),"onExecute"in s&&t(0,r=s.onExecute)},n.$$.update=()=>{n.$$.dirty&12&&(t(3,l=i?"danger":"default"),t(1,o={action:"openOverviewFilter",html:'<span class="fas fa-filter"></span>',style:l,tooltip:R.translate("actionOpenFilter")}))},[r,o,i,l]}class cm extends Ee{constructor(e){super(),ke(this,e,fm,um,we,{filterApplied:2,onExecute:0})}}function dm(n){let e,t;return e=new Ut({props:{params:n[0]}}),e.$on("execute",n[1]),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,[r]){const l={};r&1&&(l.params=i[0]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function pm(n,e,t){let{entity:i}=e,{id:r}=e,{bookmarkId:l=null}=e,{loading:o=!1}=e,s,a;async function f(){const c=gt.get();if(c){Ge.notify(R.translate("Bookmarking")+"..."),t(3,o=!0);try{const m=await fetch("/api/v1/Bookmark",{method:"POST",headers:{"Content-Type":"application/json","Authorization-Token":btoa(c.user.userName+":"+c.token)},body:JSON.stringify({entityType:i,entityId:r})});if(m.ok){const h=await m.json();t(2,l=h.id),Ge.notify(R.translate("Done"),"success")}}catch(m){console.error("Error on adding bookmark",m)}finally{t(3,o=!1)}}}async function u(){const c=gt.get();if(!(!c||!l)){Ge.notify(R.translate("Unbookmarking")+"..."),t(3,o=!0);try{(await fetch("/api/v1/Bookmark/"+l,{method:"DELETE",headers:{"Authorization-Token":btoa(c.user.userName+":"+c.token),permanently:"true"}})).ok&&(t(2,l=null),Ge.notify(R.translate("Done"),"success"))}catch(m){console.error("Error on removing bookmark",m)}finally{t(3,o=!1)}}}function d(c){a.action==="unbookmark"?u():f()}return n.$$set=c=>{"entity"in c&&t(4,i=c.entity),"id"in c&&t(5,r=c.id),"bookmarkId"in c&&t(2,l=c.bookmarkId),"loading"in c&&t(3,o=c.loading)},n.$$.update=()=>{n.$$.dirty&76&&(t(6,s=l?"primary outline":"default"),t(0,a={name:"bookmarking",action:l?"unbookmark":"bookmark",html:'<span class="fas fa-bookmark"></span>',style:s,disabled:o,tooltip:R.translate(l?"actionUnbookmark":"actionBookmark")}))},[a,d,l,o,i,r,s]}class mm extends Ee{constructor(e){super(),ke(this,e,pm,dm,we,{entity:4,id:5,bookmarkId:2,loading:3})}}function hm(n){let e,t;return e=new Ut({props:{params:n[0]}}),e.$on("execute",n[1]),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,[r]){const l={};r&1&&(l.params=i[0]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function gm(n,e,t){let{entity:i}=e,{id:r}=e,{followers:l}=e,{onFollow:o}=e,{onUnfollow:s}=e,a=!1,f,u,d;async function c(){const p=gt.get();if(p)try{t(7,a=!0);const g=await fetch(`/api/v1/${i}/${r}/subscription`,{method:"DELETE",headers:{"Authorization-Token":btoa(p.user.userName+":"+p.token)}});g.ok?(delete l[p.user.id],s()):console.error("Error on unfollowing record",g)}catch(g){console.error("Error on unfollowing record",g)}finally{t(7,a=!1)}}async function m(){const p=gt.get();if(p){try{const g=await fetch(`/api/v1/${i}/${r}/subscription`,{method:"PUT",headers:{"Authorization-Token":btoa(p.user.userName+":"+p.token)}});g.ok?(t(2,l[p.user.id]=p.user.name,l),s()):console.error("Error on following record",g)}catch(g){console.error("Error on following record",g)}finally{t(7,a=!1)}o()}}function h(p){d.action==="unfollow"?c():m()}return n.$$set=p=>{"entity"in p&&t(3,i=p.entity),"id"in p&&t(4,r=p.id),"followers"in p&&t(2,l=p.followers),"onFollow"in p&&t(5,o=p.onFollow),"onUnfollow"in p&&t(6,s=p.onUnfollow)},n.$$.update=()=>{var p;if(n.$$.dirty&900){const g=((p=gt.get())==null?void 0:p.user.id)??null;t(8,f=g?!!l[g]:!1),t(9,u=f?"primary outline":"default"),t(0,d={name:"following",action:f?"unfollow":"follow",html:'<span class="fas fa-bell"></span>',style:u,disabled:a,tooltip:R.translate(f?"actionUnfollow":"actionFollow")})}},[d,h,l,i,r,o,s,a,f,u]}class vm extends Ee{constructor(e){super(),ke(this,e,gm,hm,we,{entity:3,id:4,followers:2,onFollow:5,onUnfollow:6})}}function Os(n,e,t){const i=n.slice();return i[6]=e[t],i}function Ps(n){let e,t;return e=new Ut({props:{params:n[6]}}),e.$on("execute",n[1]),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){const l={};r&1&&(l.params=i[6]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function bm(n){let e,t,i=le(n[0]),r=[];for(let o=0;o<i.length;o+=1)r[o]=Ps(Os(n,i,o));const l=o=>V(r[o],1,1,()=>{r[o]=null});return{c(){e=A("div");for(let o=0;o<r.length;o+=1)r[o].c();v(e,"class","btn-group")},m(o,s){M(o,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);t=!0},p(o,[s]){if(s&3){i=le(o[0]);let a;for(a=0;a<i.length;a+=1){const f=Os(o,i,a);r[a]?(r[a].p(f,s),W(r[a],1)):(r[a]=Ps(f),r[a].c(),W(r[a],1),r[a].m(e,null))}for(He(),a=i.length;a<r.length;a+=1)l(a);We()}},i(o){if(!t){for(let s=0;s<i.length;s+=1)W(r[s]);t=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)V(r[s]);t=!1},d(o){o&&N(e),xe(r,o)}}}function _m(n,e,t){let{hasPrevious:i=!1}=e,{hasNext:r=!1}=e,{onExecute:l}=e,o=!1,s;function a(f){t(5,o=!0),l(f)}return n.$$set=f=>{"hasPrevious"in f&&t(2,i=f.hasPrevious),"hasNext"in f&&t(3,r=f.hasNext),"onExecute"in f&&t(4,l=f.onExecute)},n.$$.update=()=>{n.$$.dirty&44&&t(0,s=[{name:"navigation",action:"previous",html:'<span class="fas fa-chevron-left"></span>',tooltip:R.translate("Previous Entry"),disabled:!i||o},{name:"navigation",action:"next",html:'<span class="fas fa-chevron-right"></span>',tooltip:R.translate("Next Entry"),disabled:!r||o}])},[s,a,i,r,l,o]}class wm extends Ee{constructor(e){super(),ke(this,e,_m,bm,we,{hasPrevious:2,hasNext:3,onExecute:4})}}function Is(n,e,t){const i=n.slice();return i[19]=e[t],i}function Ns(n,e,t){const i=n.slice();return i[22]=e[t],i}function Ms(n,e,t){const i=n.slice();return i[22]=e[t],i}function ym(n){let e,t,i=le(n[9]),r=[];for(let o=0;o<i.length;o+=1)r[o]=Bs(Ns(n,i,o));const l=o=>V(r[o],1,1,()=>{r[o]=null});return{c(){for(let o=0;o<r.length;o+=1)r[o].c();e=Be()},m(o,s){for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(o,s);M(o,e,s),t=!0},p(o,s){if(s&8704){i=le(o[9]);let a;for(a=0;a<i.length;a+=1){const f=Ns(o,i,a);r[a]?(r[a].p(f,s),W(r[a],1)):(r[a]=Bs(f),r[a].c(),W(r[a],1),r[a].m(e.parentNode,e))}for(He(),a=i.length;a<r.length;a+=1)l(a);We()}},i(o){if(!t){for(let s=0;s<i.length;s+=1)W(r[s]);t=!0}},o(o){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)V(r[s]);t=!1},d(o){o&&N(e),xe(r,o)}}}function km(n){let e,t,i,r=le(n[7]),l=[];for(let a=0;a<r.length;a+=1)l[a]=Fs(Ms(n,r,a));const o=a=>V(l[a],1,1,()=>{l[a]=null});let s=n[11]&&Rs();return{c(){for(let a=0;a<l.length;a+=1)l[a].c();e=j(),s&&s.c(),t=Be()},m(a,f){for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(a,f);M(a,e,f),s&&s.m(a,f),M(a,t,f),i=!0},p(a,f){if(f&8320){r=le(a[7]);let u;for(u=0;u<r.length;u+=1){const d=Ms(a,r,u);l[u]?(l[u].p(d,f),W(l[u],1)):(l[u]=Fs(d),l[u].c(),W(l[u],1),l[u].m(e.parentNode,e))}for(He(),u=r.length;u<l.length;u+=1)o(u);We()}a[11]?s?f&2048&&W(s,1):(s=Rs(),s.c(),W(s,1),s.m(t.parentNode,t)):s&&(He(),V(s,1,1,()=>{s=null}),We())},i(a){if(!i){for(let f=0;f<r.length;f+=1)W(l[f]);W(s),i=!0}},o(a){l=l.filter(Boolean);for(let f=0;f<l.length;f+=1)V(l[f]);V(s),i=!1},d(a){a&&(N(e),N(t)),xe(l,a),s&&s.d(a)}}}function Bs(n){let e,t;return e=new Ut({props:{params:n[22],className:"additional-button"}}),e.$on("execute",n[13]),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){const l={};r&512&&(l.params=i[22]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function Fs(n){let e,t;return e=new Ut({props:{params:n[22],className:"additional-button dynamic-action"}}),e.$on("execute",n[13]),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){const l={};r&128&&(l.params=i[22]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function Rs(n){let e,t,i;return t=new rr({props:{heightPx:12}}),{c(){e=A("button"),ge(t.$$.fragment),v(e,"class","btn preloader additional-button svelte-1fwhcnk")},m(r,l){M(r,e,l),pe(t,e,null),i=!0},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){V(t.$$.fragment,r),i=!1},d(r){r&&N(e),me(t)}}}function Em(n){let e,t,i,r;const l=[km,ym],o=[];function s(a,f){return a[1]==="detail"?0:a[1]==="edit"?1:-1}return~(e=s(n))&&(t=o[e]=l[e](n)),{c(){t&&t.c(),i=Be()},m(a,f){~e&&o[e].m(a,f),M(a,i,f),r=!0},p(a,f){let u=e;e=s(a),e===u?~e&&o[e].p(a,f):(t&&(He(),V(o[u],1,1,()=>{o[u]=null}),We()),~e?(t=o[e],t?t.p(a,f):(t=o[e]=l[e](a),t.c()),W(t,1),t.m(i.parentNode,i)):t=null)},i(a){r||(W(t),r=!0)},o(a){V(t),r=!1},d(a){a&&N(i),~e&&o[e].d(a)}}}function Hs(n){let e,t,i,r,l=le(n[10]),o=[];for(let a=0;a<l.length;a+=1)o[a]=qs(Is(n,l,a));const s=a=>V(o[a],1,1,()=>{o[a]=null});return{c(){e=A("div"),t=A("div"),i=A("div");for(let a=0;a<o.length;a+=1)o[a].c();v(i,"class","header-items"),v(t,"class","header-buttons svelte-1fwhcnk"),v(e,"class","header-buttons-container")},m(a,f){M(a,e,f),k(e,t),k(t,i);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(i,null);r=!0},p(a,f){if(f&15389){l=le(a[10]);let u;for(u=0;u<l.length;u+=1){const d=Is(a,l,u);o[u]?(o[u].p(d,f),W(o[u],1)):(o[u]=qs(d),o[u].c(),W(o[u],1),o[u].m(i,null))}for(He(),u=l.length;u<o.length;u+=1)s(u);We()}},i(a){if(!r){for(let f=0;f<l.length;f+=1)W(o[f]);r=!0}},o(a){o=o.filter(Boolean);for(let f=0;f<o.length;f+=1)V(o[f]);r=!1},d(a){a&&N(e),xe(o,a)}}}function Dm(n){let e,t;return e=new Ut({props:{params:n[19]}}),e.$on("execute",n[13]),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){const l={};r&1024&&(l.params=i[19]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function Sm(n){let e,t;return e=new wm({props:{hasNext:n[0].hasNext,hasPrevious:n[0].hasPrevious,onExecute:n[13]}}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){const l={};r&1&&(l.hasNext=i[0].hasNext),r&1&&(l.hasPrevious=i[0].hasPrevious),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function Am(n){let e,t,i=n[4]&&n[0].followers&&Ws(n);return{c(){i&&i.c(),e=Be()},m(r,l){i&&i.m(r,l),M(r,e,l),t=!0},p(r,l){r[4]&&r[0].followers?i?(i.p(r,l),l&17&&W(i,1)):(i=Ws(r),i.c(),W(i,1),i.m(e.parentNode,e)):i&&(He(),V(i,1,1,()=>{i=null}),We())},i(r){t||(W(i),t=!0)},o(r){V(i),t=!1},d(r){r&&N(e),i&&i.d(r)}}}function Cm(n){let e,t,i=n[4]&&js(n);return{c(){i&&i.c(),e=Be()},m(r,l){i&&i.m(r,l),M(r,e,l),t=!0},p(r,l){r[4]?i?(i.p(r,l),l&16&&W(i,1)):(i=js(r),i.c(),W(i,1),i.m(e.parentNode,e)):i&&(He(),V(i,1,1,()=>{i=null}),We())},i(r){t||(W(i),t=!0)},o(r){V(i),t=!1},d(r){r&&N(e),i&&i.d(r)}}}function Tm(n){let e,t;return e=new cm({props:{filterApplied:n[0].isOverviewFilterActive??!1,onExecute:n[13]}}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){const l={};r&1&&(l.filterApplied=i[0].isOverviewFilterActive??!1),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function Ws(n){let e,t;return e=new vm({props:{entity:n[3],id:n[4],followers:n[0].followers,onFollow:n[2].onFollow,onUnfollow:n[2].onUnfollow}}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){const l={};r&8&&(l.entity=i[3]),r&16&&(l.id=i[4]),r&1&&(l.followers=i[0].followers),r&4&&(l.onFollow=i[2].onFollow),r&4&&(l.onUnfollow=i[2].onUnfollow),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function js(n){let e,t;return e=new mm({props:{entity:n[3],id:n[4],bookmarkId:n[12],loading:n[11]}}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,r){const l={};r&8&&(l.entity=i[3]),r&16&&(l.id=i[4]),r&4096&&(l.bookmarkId=i[12]),r&2048&&(l.loading=i[11]),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function qs(n){let e,t,i,r,l,o;const s=[Tm,Cm,Am,Sm,Dm],a=[];function f(u,d){return d&1024&&(e=null),d&1024&&(t=null),u[19].action==="openOverviewFilter"?0:(e==null&&(e=!!["bookmark","unbookmark"].includes(u[19].action)),e?1:(t==null&&(t=!!["follow","unfollow"].includes(u[19].action)),t?2:u[19].action==="navigation"?3:4))}return i=f(n,-1),r=a[i]=s[i](n),{c(){r.c(),l=Be()},m(u,d){a[i].m(u,d),M(u,l,d),o=!0},p(u,d){let c=i;i=f(u,d),i===c?a[i].p(u,d):(He(),V(a[c],1,1,()=>{a[c]=null}),We(),r=a[i],r?r.p(u,d):(r=a[i]=s[i](u),r.c()),W(r,1),r.m(l.parentNode,l))},i(u){o||(W(r),o=!0)},o(u){V(r),o=!1},d(u){u&&N(l),a[i].d(u)}}}function Lm(n){var o;let e,t,i,r;t=new gs({props:{actions:n[5],dropdownActions:n[6],dynamicActionsDropdown:n[1]!=="edit"?n[8]:[],executeAction:n[13],loadingActions:n[11],hasMoreButton:!0,className:"record-actions",$$slots:{default:[Em]},$$scope:{ctx:n}}});let l=n[1]==="detail"&&((o=n[0])==null?void 0:o.headerButtons)&&Hs(n);return{c(){e=A("div"),ge(t.$$.fragment),i=j(),l&&l.c(),v(e,"class","button-row svelte-1fwhcnk")},m(s,a){M(s,e,a),pe(t,e,null),k(e,i),l&&l.m(e,null),r=!0},p(s,[a]){var u;const f={};a&32&&(f.actions=s[5]),a&64&&(f.dropdownActions=s[6]),a&258&&(f.dynamicActionsDropdown=s[1]!=="edit"?s[8]:[]),a&2048&&(f.loadingActions=s[11]),a&134220418&&(f.$$scope={dirty:a,ctx:s}),t.$set(f),s[1]==="detail"&&((u=s[0])!=null&&u.headerButtons)?l?(l.p(s,a),a&3&&W(l,1)):(l=Hs(s),l.c(),W(l,1),l.m(e,null)):l&&(He(),V(l,1,1,()=>{l=null}),We())},i(s){r||(W(t.$$.fragment,s),W(l),r=!0)},o(s){V(t.$$.fragment,s),V(l),r=!1},d(s){s&&N(e),me(t),l&&l.d()}}}function Om(n,e,t){let{mode:i="detail"}=e,{recordButtons:r}=e,{callbacks:l}=e,{permissions:o}=e,{scope:s}=e,{id:a}=e,f=[],u=[],d=[],c=[],m=[],h=[],p=[],g=!1,b=null;window.addEventListener("detail:overview-filters-changed",w=>{const L=w.detail;!L||!r||t(0,r.isOverviewFilterActive=L.isOverviewFilterActive,r)}),window.addEventListener("record:actions-reload",w=>{_()}),window.addEventListener("record:buttons-update",w=>{r?t(0,r=Object.assign(r,w.detail||{})):t(0,r=w.detail||{})}),window.addEventListener("record:followers-updated",w=>{r&&t(0,r.followers=w.detail,r)});async function y(){let w=gt.get();if(!w||!a)return[];try{const L=await fetch(`/api/v1/Action/${s}/${a}/dynamicActions?type=record`,{method:"GET",headers:{"Content-Type":"application/json","Authorization-Token":btoa(w.user.userName+":"+w.token)}});return L.ok?await L.json():[]}catch(L){return console.error(L),[]}}function D(){const w=[];return(ee.get(["clientDefs",s,"uiHandler"])||[]).forEach(L=>{L.type==="setValue"&&L.triggerAction==="onButtonClick"&&w.push({action:"uiHandler",id:L.id,label:L.name})}),w}function _(){ee.get(["scopes",s,"actionDisabled"])||(t(15,c=[]),t(8,m=[]),t(11,g=!0),y().then(w=>{const L=w.map(E=>({...E,id:E.data.action_id??null})),C=w.filter(E=>["bookmark","unbookmark"].includes(E.action)).pop();C&&t(12,b=C.data.bookmark_id??null),t(15,c=L.filter(E=>E.display==="single")),t(8,m=L.filter(E=>E.display==="dropdown"))}).catch(w=>{console.error(w)}).finally(()=>t(11,g=!1)))}function S(w){r==null||r.executeAction(w.detail.action,w.detail.data,w.detail.event||w)}return ut(()=>{_()}),n.$$set=w=>{"mode"in w&&t(1,i=w.mode),"recordButtons"in w&&t(0,r=w.recordButtons),"callbacks"in w&&t(2,l=w.callbacks),"permissions"in w&&t(14,o=w.permissions),"scope"in w&&t(3,s=w.scope),"id"in w&&t(4,a=w.id)},n.$$.update=()=>{var w;n.$$.dirty&32771&&(t(5,f=(i==="edit"?r==null?void 0:r.editButtons:r==null?void 0:r.buttons)??[]),t(7,d=[...(r==null?void 0:r.additionalButtons)??[],...c]),t(6,u=(i==="edit"?r==null?void 0:r.dropdownEditButtons:r==null?void 0:r.dropdownButtons)??[]),t(9,h=i==="edit"?[...(r==null?void 0:r.additionalEditButtons)??[],...D()]:[]),t(10,p=(((w=r==null?void 0:r.headerButtons)==null?void 0:w.buttons)??[]).filter(L=>!L.hidden)))},[r,i,l,s,a,f,u,d,m,h,p,g,b,S,o,c]}class Pm extends Ee{constructor(e){super(),ke(this,e,Om,Lm,we,{mode:1,recordButtons:0,callbacks:2,permissions:14,scope:3,id:4})}}function zs(n){let e,t,i;return t=new Pm({props:{mode:n[5],scope:n[0].scope,id:n[0].id,permissions:n[0].scopePermissions,recordButtons:n[2],callbacks:n[3]}}),{c(){e=A("div"),ge(t.$$.fragment),v(e,"class","detail-button-container")},m(r,l){M(r,e,l),pe(t,e,null),i=!0},p(r,l){const o={};l&32&&(o.mode=r[5]),l&1&&(o.scope=r[0].scope),l&1&&(o.id=r[0].id),l&1&&(o.permissions=r[0].scopePermissions),l&4&&(o.recordButtons=r[2]),l&8&&(o.callbacks=r[3]),t.$set(o)},i(r){i||(W(t.$$.fragment,r),i=!0)},o(r){V(t.$$.fragment,r),i=!1},d(r){r&&N(e),me(t)}}}function Gs(n){var r;let e,t,i;return t=new sm({props:{items:n[1],scrollCallback:n[4],hasLayoutEditor:((r=n[2])==null?void 0:r.hasLayoutEditor)&&n[0].mode!=="edit"}}),{c(){e=A("div"),ge(t.$$.fragment),v(e,"class","anchor-nav-container")},m(l,o){M(l,e,o),pe(t,e,null),i=!0},p(l,o){var a;const s={};o&2&&(s.items=l[1]),o&16&&(s.scrollCallback=l[4]),o&5&&(s.hasLayoutEditor=((a=l[2])==null?void 0:a.hasLayoutEditor)&&l[0].mode!=="edit"),t.$set(s)},i(l){i||(W(t.$$.fragment,l),i=!0)},o(l){V(t.$$.fragment,l),i=!1},d(l){l&&N(e),me(t)}}}function Im(n){let e,t,i,r=n[2]&&zs(n),l=n[1].length>1&&Gs(n);return{c(){r&&r.c(),e=j(),l&&l.c(),t=Be()},m(o,s){r&&r.m(o,s),M(o,e,s),l&&l.m(o,s),M(o,t,s),i=!0},p(o,s){o[2]?r?(r.p(o,s),s&4&&W(r,1)):(r=zs(o),r.c(),W(r,1),r.m(e.parentNode,e)):r&&(He(),V(r,1,1,()=>{r=null}),We()),o[1].length>1?l?(l.p(o,s),s&2&&W(l,1)):(l=Gs(o),l.c(),W(l,1),l.m(t.parentNode,t)):l&&(He(),V(l,1,1,()=>{l=null}),We())},i(o){i||(W(r),W(l),i=!0)},o(o){V(r),V(l),i=!1},d(o){o&&(N(e),N(t)),r&&r.d(o),l&&l.d(o)}}}function Nm(n){let e,t;return e=new nr({props:{breadcrumbs:n[0].breadcrumbs,currentIsHeading:n[6],$$slots:{default:[Im]},$$scope:{ctx:n}}}),{c(){ge(e.$$.fragment)},m(i,r){pe(e,i,r),t=!0},p(i,[r]){const l={};r&1&&(l.breadcrumbs=i[0].breadcrumbs),r&64&&(l.currentIsHeading=i[6]),r&191&&(l.$$scope={dirty:r,ctx:i}),e.$set(l)},i(i){t||(W(e.$$.fragment,i),t=!0)},o(i){V(e.$$.fragment,i),t=!1},d(i){me(e,i)}}}function Mm(n,e,t){let{params:i}=e,{anchorNavItems:r=[]}=e,{recordButtons:l=null}=e,{callbacks:o}=e,{anchorScrollCallback:s=(u,d)=>{}}=e,a,f=(i==null?void 0:i.currentIsHeading)??!0;return window.addEventListener("detail:panels-loaded",u=>{t(1,r=u.detail)}),window.addEventListener("record-mode:changed",u=>{t(0,i.mode=u.detail,i)}),f===!0&&window.addEventListener("breadcrumbs:header-updated",u=>{t(6,f=!!u.detail)}),window.addEventListener("breadcrumbs:items-updated",u=>{t(0,i.breadcrumbs=u.detail,i)}),ut(()=>{i.afterOnMount&&i.afterOnMount()}),fn(()=>{i.afterOnDestroy&&i.afterOnDestroy()}),n.$$set=u=>{"params"in u&&t(0,i=u.params),"anchorNavItems"in u&&t(1,r=u.anchorNavItems),"recordButtons"in u&&t(2,l=u.recordButtons),"callbacks"in u&&t(3,o=u.callbacks),"anchorScrollCallback"in u&&t(4,s=u.anchorScrollCallback)},n.$$.update=()=>{n.$$.dirty&1&&t(5,a=i.mode??"detail")},[i,r,l,o,s,a,f]}class Bm extends Ee{constructor(e){super(),ke(this,e,Mm,Nm,we,{params:0,anchorNavItems:1,recordButtons:2,callbacks:3,anchorScrollCallback:4})}}window.SvelteLanguage=R,window.SvelteUserData=gt,window.SvelteNotifier=Ge,window.SvelteLayoutManager=qt,window.SvelteMetadata=ee,window.SvelteModelFactory=Br,window.SvelteConfig=yo,window.SvelteStorage=ue,window.SvelteAcl=Wi,window.driver=cu,window.tippy=Qn,ze.ApiRequestComponent=Gd,ze.BaseHeader=nr,ze.DetailHeader=Bm,ze.Favorites=lp,ze.JobManagerIcon=bc,ze.LayoutComponent=kd,ze.ListHeader=lm,ze.Navigation=tp,ze.RightSideView=Tp,ze.TreePanel=wp,ze.UpdatePanel=Sc,Object.defineProperty(ze,Symbol.toStringTag,{value:"Module"})});
